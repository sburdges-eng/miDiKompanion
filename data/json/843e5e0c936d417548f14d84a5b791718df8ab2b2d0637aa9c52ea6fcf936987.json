{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useStore}from'../../store/useStore';import{VUMeter}from'./VUMeter';import{Knob}from'./Knob';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const Mixer=()=>{const{tracks,updateTrack}=useStore();const[levels,setLevels]=useState({});// Simulate audio levels (would come from audio engine in production)\nuseEffect(()=>{const interval=setInterval(()=>{const newLevels={};tracks.forEach(track=>{if(!track.muted){newLevels[track.id]=Math.random()*0.8;// Random level for demo\n}else{newLevels[track.id]=0;}});setLevels(newLevels);},100);return()=>clearInterval(interval);},[tracks]);return/*#__PURE__*/_jsxs(\"div\",{className:\"h-full bg-ableton-surface border-l border-ableton-border flex overflow-x-auto\",children:[tracks.map(track=>/*#__PURE__*/_jsxs(\"div\",{className:\"mixer-channel\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-center mb-2 truncate w-full\",children:track.name}),/*#__PURE__*/_jsx(Knob,{value:track.pan,onChange:val=>updateTrack(track.id,{pan:val}),label:\"Pan\",min:-1,max:1}),/*#__PURE__*/_jsx(\"div\",{className:\"my-4 flex justify-center\",children:/*#__PURE__*/_jsx(VUMeter,{level:levels[track.id]||0})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"0\",max:\"1\",step:\"0.01\",value:track.volume,onChange:e=>updateTrack(track.id,{volume:parseFloat(e.target.value)}),className:\"fader-vertical\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-1 mt-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"px-2 py-1 text-xs rounded \".concat(track.muted?'btn-ableton-active':'btn-ableton'),onClick:()=>updateTrack(track.id,{muted:!track.muted}),children:\"M\"}),/*#__PURE__*/_jsx(\"button\",{className:\"px-2 py-1 text-xs rounded \".concat(track.solo?'btn-ableton-active':'btn-ableton'),onClick:()=>updateTrack(track.id,{solo:!track.solo}),children:\"S\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-ableton-text-dim mt-2\",children:[Math.round(track.volume*100),\"%\"]})]},track.id)),/*#__PURE__*/_jsxs(\"div\",{className:\"mixer-channel border-l-2 border-ableton-accent\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-center mb-2 font-bold\",children:\"Master\"}),/*#__PURE__*/_jsx(VUMeter,{level:Math.max(...Object.values(levels),0)}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 flex items-center justify-center mt-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"0\",max:\"1\",step:\"0.01\",defaultValue:\"0.8\",className:\"fader-vertical\"})})]})]});};","map":{"version":3,"names":["React","useState","useEffect","useStore","VUMeter","Knob","jsx","_jsx","jsxs","_jsxs","Mixer","tracks","updateTrack","levels","setLevels","interval","setInterval","newLevels","forEach","track","muted","id","Math","random","clearInterval","className","children","map","name","value","pan","onChange","val","label","min","max","level","type","step","volume","e","parseFloat","target","concat","onClick","solo","round","Object","values","defaultValue"],"sources":["/Users/seanburdges/Documents/GitHub/iDAWi/src/components/SideA/Mixer.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useStore } from '../../store/useStore';\nimport { VUMeter } from './VUMeter';\nimport { Knob } from './Knob';\n\nexport const Mixer: React.FC = () => {\n  const { tracks, updateTrack } = useStore();\n  const [levels, setLevels] = useState<Record<string, number>>({});\n\n  // Simulate audio levels (would come from audio engine in production)\n  useEffect(() => {\n    const interval = setInterval(() => {\n      const newLevels: Record<string, number> = {};\n      tracks.forEach(track => {\n        if (!track.muted) {\n          newLevels[track.id] = Math.random() * 0.8; // Random level for demo\n        } else {\n          newLevels[track.id] = 0;\n        }\n      });\n      setLevels(newLevels);\n    }, 100);\n\n    return () => clearInterval(interval);\n  }, [tracks]);\n\n  return (\n    <div className=\"h-full bg-ableton-surface border-l border-ableton-border flex overflow-x-auto\">\n      {tracks.map((track) => (\n        <div key={track.id} className=\"mixer-channel\">\n          {/* Track Name */}\n          <div className=\"text-xs text-center mb-2 truncate w-full\">\n            {track.name}\n          </div>\n\n          {/* Pan Knob */}\n          <Knob\n            value={track.pan}\n            onChange={(val) => updateTrack(track.id, { pan: val })}\n            label=\"Pan\"\n            min={-1}\n            max={1}\n          />\n\n          {/* VU Meter */}\n          <div className=\"my-4 flex justify-center\">\n            <VUMeter level={levels[track.id] || 0} />\n          </div>\n\n          {/* Fader */}\n          <div className=\"flex-1 flex items-center justify-center\">\n            <input\n              type=\"range\"\n              min=\"0\"\n              max=\"1\"\n              step=\"0.01\"\n              value={track.volume}\n              onChange={(e) => updateTrack(track.id, { volume: parseFloat(e.target.value) })}\n              className=\"fader-vertical\"\n            />\n          </div>\n\n          {/* Mute/Solo Buttons */}\n          <div className=\"flex gap-1 mt-2\">\n            <button\n              className={`px-2 py-1 text-xs rounded ${\n                track.muted ? 'btn-ableton-active' : 'btn-ableton'\n              }`}\n              onClick={() => updateTrack(track.id, { muted: !track.muted })}\n            >\n              M\n            </button>\n            <button\n              className={`px-2 py-1 text-xs rounded ${\n                track.solo ? 'btn-ableton-active' : 'btn-ableton'\n              }`}\n              onClick={() => updateTrack(track.id, { solo: !track.solo })}\n            >\n              S\n            </button>\n          </div>\n\n          {/* Volume Display */}\n          <div className=\"text-xs text-ableton-text-dim mt-2\">\n            {Math.round(track.volume * 100)}%\n          </div>\n        </div>\n      ))}\n\n      {/* Master Channel */}\n      <div className=\"mixer-channel border-l-2 border-ableton-accent\">\n        <div className=\"text-xs text-center mb-2 font-bold\">Master</div>\n        <VUMeter level={Math.max(...Object.values(levels), 0)} />\n        <div className=\"flex-1 flex items-center justify-center mt-4\">\n          <input\n            type=\"range\"\n            min=\"0\"\n            max=\"1\"\n            step=\"0.01\"\n            defaultValue=\"0.8\"\n            className=\"fader-vertical\"\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}