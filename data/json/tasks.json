{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "âš™ï¸ BUILD: Full Project (Optimized)",
      "type": "shell",
      "command": "./build.sh --release",
      "group": {
        "kind": "build",
        "isDefault": true
      },
      "problemMatcher": ["$gcc"],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "panel": "shared"
      }
    },
    {
      "label": "ðŸ”§ BUILD: Full Project (Debug)",
      "type": "shell",
      "command": "./build.sh --debug",
      "group": "build",
      "problemMatcher": ["$gcc"]
    },
    {
      "label": "ðŸ—ï¸ BUILD: penta-core C++ Only",
      "type": "shell",
      "command": "cd penta-core && rm -rf build && cmake -B build -DCMAKE_BUILD_TYPE=Release -GNinja && cmake --build build -j$(nproc || sysctl -n hw.ncpu)",
      "group": "build",
      "problemMatcher": ["$gcc"]
    },
    {
      "label": "ðŸ—ï¸ BUILD: penta-core (Debug)",
      "type": "shell",
      "command": "cd penta-core && cmake -B build -DCMAKE_BUILD_TYPE=Debug && cmake --build build",
      "group": "build"
    },
    {
      "label": "ðŸ“¦ BUILD: DAiW Music Brain Python",
      "type": "shell",
      "command": "cd DAiW-Music-Brain && python3 -m pip install -e .[audio,theory,ui,desktop]",
      "group": "build"
    },
    {
      "label": "ðŸŽ¨ BUILD: iDAW React UI",
      "type": "shell",
      "command": "cd iDAW && npm install && npm run build",
      "group": "build"
    },
    {
      "label": "ðŸ§¹ CLEAN: Remove All Build Artifacts",
      "type": "shell",
      "command": "rm -rf penta-core/build DAiW-Music-Brain/build iDAW/dist iDAW/node_modules penta-core/*.o penta-core/lib && echo 'âœ“ Clean complete'",
      "group": "build"
    },
    {
      "label": "ðŸ§¹ CLEAN: Python Cache Only",
      "type": "shell",
      "command": "find . -type d -name '__pycache__' -exec rm -rf {} + 2>/dev/null; find . -type f -name '*.pyc' -delete; find . -type d -name '*.egg-info' -exec rm -rf {} + 2>/dev/null; echo 'âœ“ Python cache cleaned'",
      "group": "build"
    },
    {
      "label": "âœ… TEST: Full Test Suite (All Tests)",
      "type": "shell",
      "command": "./test.sh",
      "group": {
        "kind": "test",
        "isDefault": true
      },
      "presentation": {
        "echo": true,
        "reveal": "always",
        "panel": "shared"
      }
    },
    {
      "label": "ðŸ§ª TEST: Phase 1 Audio Components",
      "type": "shell",
      "command": "cd penta-core && ctest -R 'Audio|MIDI|Transport|Mixer' -V",
      "group": "test"
    },
    {
      "label": "ðŸ§ª TEST: C++ Unit Tests Only",
      "type": "shell",
      "command": "cd penta-core/build && ctest -V --output-on-failure",
      "group": "test"
    },
    {
      "label": "ðŸ TEST: Python Unit Tests Only",
      "type": "shell",
      "command": "cd DAiW-Music-Brain && pytest tests/ -v --tb=short --cov=music_brain",
      "group": "test"
    },
    {
      "label": "ðŸ” TEST: Specific Test Pattern (Regex)",
      "type": "shell",
      "command": "cd penta-core/build && ctest -R '${input:testPattern}' -V",
      "group": "test"
    },
    {
      "label": "ðŸ’¾ TEST: Memory Leak Detection (Valgrind)",
      "type": "shell",
      "command": "cd penta-core/build && ctest -T memcheck -V",
      "group": "test"
    },
    {
      "label": "ðŸ“Š TEST: Code Coverage Report",
      "type": "shell",
      "command": "cd penta-core && cmake -B build -DCMAKE_BUILD_TYPE=Debug -DENABLE_COVERAGE=ON && cmake --build build && ctest --output-on-failure && lcov --capture --directory build --output-file coverage.info && genhtml coverage.info --output-directory coverage_report && echo 'Coverage report: coverage_report/index.html'",
      "group": "test"
    },
    {
      "label": "âš¡ TEST: Performance Benchmark",
      "type": "shell",
      "command": "cd penta-core/build && ./bin/benchmark --benchmark_out=benchmark_results.json && echo 'Results saved to benchmark_results.json'",
      "group": "test"
    },
    {
      "label": "â±ï¸ TEST: Stress Test (300 seconds)",
      "type": "shell",
      "command": "cd penta-core/build && ./bin/stress_test --duration=300 --threads=$(nproc || sysctl -n hw.ncpu)",
      "group": "test",
      "isBackground": true
    },
    {
      "label": "ðŸ”¬ TEST: Audio I/O Detailed Test",
      "type": "shell",
      "command": "cd penta-core/build && ./bin/test_audio_io --gtest_filter='*' -v",
      "group": "test"
    },
    {
      "label": "ðŸŽ¼ TEST: MIDI Engine Test",
      "type": "shell",
      "command": "cd penta-core/build && ./bin/test_midi_engine -v",
      "group": "test"
    },
    {
      "label": "ðŸ”§ LINT: C++ Static Analysis (cppcheck)",
      "type": "shell",
      "command": "cd penta-core && cppcheck --project=build/compile_commands.json --suppress=unmatchedSuppression --report-progress -j$(nproc || sysctl -n hw.ncpu)",
      "group": "test"
    },
    {
      "label": "ðŸ” LINT: C++ Clang-Tidy Analysis",
      "type": "shell",
      "command": "cd penta-core && run-clang-tidy -p build -j$(nproc || sysctl -n hw.ncpu) 'src/.*\\.cpp'",
      "group": "test"
    },
    {
      "label": "ðŸ LINT: Python Code Style (Black)",
      "type": "shell",
      "command": "cd DAiW-Music-Brain && python3 -m black music_brain/ tests/ --line-length=100 --check",
      "group": "test"
    },
    {
      "label": "ðŸ LINT: Python Type Checking (mypy)",
      "type": "shell",
      "command": "cd DAiW-Music-Brain && python3 -m mypy music_brain/ --ignore-missing-imports",
      "group": "test"
    },
    {
      "label": "âš ï¸ LINT: Python Error Detection (pylint)",
      "type": "shell",
      "command": "cd DAiW-Music-Brain && python3 -m pylint music_brain/ --disable=all --enable=E,F,W --fail-under=8",
      "group": "test"
    },
    {
      "label": "ðŸ“ FORMAT: C++ Code (clang-format)",
      "type": "shell",
      "command": "cd penta-core && find src include -type f \\( -name '*.cpp' -o -name '*.h' \\) -exec clang-format -i {} \\; && echo 'âœ“ C++ formatting complete'",
      "group": "build"
    },
    {
      "label": "ðŸ“ FORMAT: Python Code (Black)",
      "type": "shell",
      "command": "cd DAiW-Music-Brain && python3 -m black music_brain/ tests/ --line-length=100 && echo 'âœ“ Python formatting complete'",
      "group": "build"
    },
    {
      "label": "ðŸ“ FORMAT: CMake Files",
      "type": "shell",
      "command": "cd penta-core && find . -name 'CMakeLists.txt' -o -name '*.cmake' | xargs cmake-format -i && echo 'âœ“ CMake formatting complete'",
      "group": "build"
    },
    {
      "label": "ðŸ”— GIT: Add All Changes",
      "type": "shell",
      "command": "git add -A && git status",
      "group": "none"
    },
    {
      "label": "ðŸ’¬ GIT: Commit Changes (Prompted)",
      "type": "shell",
      "command": "git commit -m \"${input:commitMessage}\"",
      "group": "none"
    },
    {
      "label": "ðŸš€ GIT: Push to Remote",
      "type": "shell",
      "command": "git push -u origin $(git rev-parse --abbrev-ref HEAD)",
      "group": "none"
    },
    {
      "label": "ðŸŒ¿ GIT: Create Feature Branch",
      "type": "shell",
      "command": "git checkout -b feature/${input:featureName} && git push -u origin feature/${input:featureName}",
      "group": "none"
    },
    {
      "label": "ðŸ”„ GIT: Sync with Main Branch",
      "type": "shell",
      "command": "git fetch origin main && git rebase origin/main && echo 'Rebased on main'",
      "group": "none"
    },
    {
      "label": "ðŸ“Š GIT: View Recent Commits",
      "type": "shell",
      "command": "git log --oneline -20",
      "group": "none"
    },
    {
      "label": "ðŸ—ï¸ CMAKE: Configure (Release)",
      "type": "shell",
      "command": "cd penta-core && cmake -B build -DCMAKE_BUILD_TYPE=Release -DCMAKE_CXX_FLAGS_RELEASE='-O3 -march=native -DNDEBUG'",
      "group": "build"
    },
    {
      "label": "ðŸ—ï¸ CMAKE: Configure (Debug with Symbols)",
      "type": "shell",
      "command": "cd penta-core && cmake -B build -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_FLAGS_DEBUG='-g -O0 -Wall -Wextra'",
      "group": "build"
    },
    {
      "label": "ðŸ—ï¸ CMAKE: View Configuration",
      "type": "shell",
      "command": "cd penta-core/build && cmake -L | grep -E '^[A-Z_]+:' | sort",
      "group": "build"
    },
    {
      "label": "ðŸ”§ DEBUG: Run Audio Test in GDB",
      "type": "shell",
      "command": "cd penta-core/build && gdb -ex run -ex bt -ex quit ./bin/test_audio_io",
      "group": "test"
    },
    {
      "label": "ðŸ”§ DEBUG: Profile with Perf",
      "type": "shell",
      "command": "cd penta-core/build && perf record -g ./bin/benchmark && perf report",
      "group": "test"
    },
    {
      "label": "ðŸ”§ DEBUG: Memory Profile (Massif)",
      "type": "shell",
      "command": "cd penta-core/build && valgrind --tool=massif ./bin/test_audio_io && ms_print massif.out.* | head -50",
      "group": "test"
    },
    {
      "label": "ðŸ“š DOCS: Generate Doxygen (C++)",
      "type": "shell",
      "command": "cd penta-core && doxygen Doxyfile && echo 'Doxygen generated in docs/html/index.html'",
      "group": "none"
    },
    {
      "label": "ðŸ“š DOCS: Generate Sphinx (Python)",
      "type": "shell",
      "command": "cd DAiW-Music-Brain && sphinx-build -b html docs/ docs/_build/html && echo 'Sphinx generated in docs/_build/html/index.html'",
      "group": "none"
    },
    {
      "label": "ðŸ³ DOCKER: Build Dev Image",
      "type": "shell",
      "command": "docker build -t idawi-dev:latest -f Dockerfile.dev .",
      "group": "none"
    },
    {
      "label": "ðŸ³ DOCKER: Run Dev Container",
      "type": "shell",
      "command": "docker run -it -v $(pwd):/iDAWi -p 5173:5173 idawi-dev:latest bash",
      "group": "none"
    },
    {
      "label": "ðŸ³ DOCKER: Build Release Image",
      "type": "shell",
      "command": "docker build -t idawi:latest -f Dockerfile.release . && docker push your-registry/idawi:latest",
      "group": "none"
    },
    {
      "label": "ðŸ“¦ PACKAGE: Create macOS DMG",
      "type": "shell",
      "command": "./build.sh --release --macos && codesign -s - dist/iDAWi.app && dmg create -srcfolder dist/ -volname 'iDAWi' dist/iDAWi.dmg",
      "group": "none"
    },
    {
      "label": "ðŸ“¦ PACKAGE: Create Windows Installer",
      "type": "shell",
      "command": ".\\build.ps1 -Configuration Release -Platform x64 && iscc setup.iss",
      "group": "none"
    },
    {
      "label": "ðŸ“¦ PACKAGE: Create Linux DEB",
      "type": "shell",
      "command": "./build.sh --release --linux && dpkg-deb --build iDAWi_linux iDAWi.deb",
      "group": "none"
    },
    {
      "label": "ðŸŽ¯ CI: Run Local GitHub Actions Simulation",
      "type": "shell",
      "command": "act -l && act --container-architecture linux/amd64 -j build",
      "group": "none"
    },
    {
      "label": "ðŸŒ DEPLOY: Create Release Tag",
      "type": "shell",
      "command": "git tag -a v${input:versionTag} -m 'Release ${input:versionTag}' && git push origin v${input:versionTag}",
      "group": "none"
    },
    {
      "label": "ðŸ” VERIFY: Dependency Check",
      "type": "shell",
      "command": "echo '=== Checking dependencies ===' && cmake --version && python3 --version && npm --version && git --version && echo 'âœ“ All dependencies present'",
      "group": "none"
    },
    {
      "label": "ðŸ” VERIFY: Environment Setup",
      "type": "shell",
      "command": "echo '=== Environment Verification ===' && test -f build.sh && echo 'âœ“ build.sh' || echo 'âœ— build.sh' && test -f test.sh && echo 'âœ“ test.sh' || echo 'âœ— test.sh' && test -d penta-core && echo 'âœ“ penta-core/' || echo 'âœ— penta-core/' && test -d DAiW-Music-Brain && echo 'âœ“ DAiW-Music-Brain/' || echo 'âœ— DAiW-Music-Brain/' && test -d iDAW && echo 'âœ“ iDAW/' || echo 'âœ— iDAW/'",
      "group": "none"
    },
    {
      "label": "ðŸ“– HELP: Show Available Tasks",
      "type": "shell",
      "command": "echo 'Use Ctrl+Shift+P and type \"Tasks: Run Task\" to see all available tasks'",
      "group": "none"
    },
    {
      "label": "ðŸŽ¯ QUICK: Build + Test + Lint",
      "type": "shell",
      "command": "./build.sh && ./test.sh && echo '=== Linting ===' && cd penta-core && cppcheck --project=build/compile_commands.json",
      "group": "build"
    },
    {
      "label": "â±ï¸ BENCHMARK: Comprehensive Performance Profile",
      "type": "shell",
      "command": "cd penta-core/build && echo '=== Running benchmarks ===' && ./bin/benchmark --benchmark_out=benchmark_results.json && echo '=== Results ===' && cat benchmark_results.json | grep '\"cpu_time\"' | head -20",
      "group": "test",
      "isBackground": true
    },
    {
      "label": "ðŸ”„ WATCH: Rebuild on File Changes",
      "type": "shell",
      "command": "cd penta-core && while inotifywait -r -e modify src/ include/; do cmake --build build -j$(nproc); done",
      "group": "build",
      "isBackground": true
    },
    {
      "label": "ðŸ“Š ANALYZE: Detailed Build Statistics",
      "type": "shell",
      "command": "cd penta-core && clang++ --version && echo && echo '=== Build System ===' && cmake --version && ninja --version 2>/dev/null || echo 'Ninja not found' && echo && echo '=== Target Summary ===' && cmake --build build -- --verbose 2>&1 | grep -E '^\\[|Linking|Compiling' | tail -30",
      "group": "none"
    },
    {
      "label": "ðŸ” SECURITY: Code Security Scan",
      "type": "shell",
      "command": "echo '=== Security Scan ===' && cd penta-core && cppcheck --enable=security . && echo && cd ../DAiW-Music-Brain && bandit -r music_brain/ -f txt",
      "group": "test"
    },
    {
      "label": "ðŸŽ“ TUTORIAL: Quick Start (5 min)",
      "type": "shell",
      "command": "echo '=== iDAWi Quick Start ===' && echo '1. Build the project: Ctrl+Shift+B' && echo '2. Run tests: Ctrl+Shift+B -> TEST' && echo '3. View Phase 1 guide: See PHASE1_COMPLETE_WALKTHROUGH.md' && echo '4. Start developing: See VS Code status bar for active tasks'",
      "group": "none"
    }
  ],
  "inputs": [
    {
      "id": "commitMessage",
      "type": "promptString",
      "description": "Enter commit message",
      "default": "WIP: implementation progress"
    },
    {
      "id": "featureName",
      "type": "promptString",
      "description": "Enter feature branch name (e.g., audio-io-linux)",
      "default": "new-feature"
    },
    {
      "id": "testPattern",
      "type": "promptString",
      "description": "Enter test regex pattern (e.g., Audio*, MIDI*, etc)",
      "default": "*"
    },
    {
      "id": "versionTag",
      "type": "promptString",
      "description": "Enter version tag (e.g., 0.1.0-alpha)",
      "default": "0.1.0"
    }
  ]
}
