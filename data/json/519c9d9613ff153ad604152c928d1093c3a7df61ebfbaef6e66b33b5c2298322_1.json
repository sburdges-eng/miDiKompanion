{"ast":null,"code":"import _objectSpread from\"/Users/seanburdges/Documents/GitHub/iDAWi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{create}from'zustand';const defaultTracks=[{id:'1',name:'Drums',type:'audio',color:'#ff5500',volume:0.8,pan:0,muted:false,solo:false,armed:false,clips:[{id:'c1',name:'Beat 1',startTime:0,duration:4},{id:'c2',name:'Beat 2',startTime:4,duration:4}]},{id:'2',name:'Bass',type:'midi',color:'#00aaff',volume:0.7,pan:0,muted:false,solo:false,armed:false,clips:[{id:'c3',name:'Bass Line',startTime:0,duration:8}]},{id:'3',name:'Synth Lead',type:'midi',color:'#aa00ff',volume:0.6,pan:0.2,muted:false,solo:false,armed:false,clips:[{id:'c4',name:'Melody',startTime:4,duration:4}]},{id:'4',name:'Pad',type:'midi',color:'#00ff88',volume:0.5,pan:-0.2,muted:false,solo:false,armed:false,clips:[{id:'c5',name:'Atmosphere',startTime:0,duration:8}]},{id:'5',name:'Vocals',type:'audio',color:'#ffaa00',volume:0.9,pan:0,muted:false,solo:false,armed:false,clips:[]},{id:'6',name:'FX',type:'aux',color:'#ff00aa',volume:0.4,pan:0,muted:false,solo:false,armed:false,clips:[]}];export const useStore=create(set=>({// Initial state\nisPlaying:false,isRecording:false,currentTime:0,tempo:120,timeSignature:[4,4],projectName:'Untitled Project',tracks:defaultTracks,currentSide:'A',selectedTrackId:null,isFlipping:false,songIntent:null,suggestions:[],// Actions\nsetPlaying:playing=>set({isPlaying:playing}),setRecording:recording=>set({isRecording:recording}),setCurrentTime:time=>set({currentTime:time}),setTempo:tempo=>set({tempo}),toggleSide:()=>set(state=>({currentSide:state.currentSide==='A'?'B':'A',isFlipping:true})),addTrack:track=>set(state=>({tracks:[...state.tracks,_objectSpread(_objectSpread({},track),{},{id:\"track-\".concat(Date.now())})]})),updateTrack:(id,updates)=>set(state=>({tracks:state.tracks.map(t=>t.id===id?_objectSpread(_objectSpread({},t),updates):t)})),removeTrack:id=>set(state=>({tracks:state.tracks.filter(t=>t.id!==id)})),selectTrack:id=>set({selectedTrackId:id}),// Audio control actions\nplay:()=>set({isPlaying:true}),stop:()=>set({isPlaying:false,currentTime:0}),pause:()=>set({isPlaying:false}),setPosition:position=>set({currentTime:position}),// Side B actions\nupdateSongIntent:intent=>set({songIntent:intent}),clearSuggestions:()=>set({suggestions:[]})}));","map":{"version":3,"names":["create","defaultTracks","id","name","type","color","volume","pan","muted","solo","armed","clips","startTime","duration","useStore","set","isPlaying","isRecording","currentTime","tempo","timeSignature","projectName","tracks","currentSide","selectedTrackId","isFlipping","songIntent","suggestions","setPlaying","playing","setRecording","recording","setCurrentTime","time","setTempo","toggleSide","state","addTrack","track","_objectSpread","concat","Date","now","updateTrack","updates","map","t","removeTrack","filter","selectTrack","play","stop","pause","setPosition","position","updateSongIntent","intent","clearSuggestions"],"sources":["/Users/seanburdges/Documents/GitHub/iDAWi/src/store/useStore.ts"],"sourcesContent":["import { create } from 'zustand';\n\nexport interface Clip {\n  id: string;\n  name: string;\n  startTime: number;\n  duration: number;\n  color?: string;\n}\n\nexport interface Track {\n  id: string;\n  name: string;\n  type: 'audio' | 'midi' | 'aux';\n  color: string;\n  volume: number;\n  pan: number;\n  muted: boolean;\n  solo: boolean;\n  armed: boolean;\n  clips: Clip[];\n}\n\ninterface StoreState {\n  // Playback state\n  isPlaying: boolean;\n  isRecording: boolean;\n  currentTime: number;\n  tempo: number;\n  timeSignature: [number, number];\n\n  // Project state\n  projectName: string;\n  tracks: Track[];\n\n  // UI state\n  currentSide: 'A' | 'B';\n  selectedTrackId: string | null;\n  isFlipping: boolean;\n\n  // Side B state\n  songIntent: Record<string, unknown> | null;\n  suggestions: unknown[];\n\n  // Actions\n  setPlaying: (playing: boolean) => void;\n  setRecording: (recording: boolean) => void;\n  setCurrentTime: (time: number) => void;\n  setTempo: (tempo: number) => void;\n  toggleSide: () => void;\n  addTrack: (track: Omit<Track, 'id'>) => void;\n  updateTrack: (id: string, updates: Partial<Track>) => void;\n  removeTrack: (id: string) => void;\n  selectTrack: (id: string | null) => void;\n  \n  // Audio control actions\n  play: () => void;\n  stop: () => void;\n  pause: () => void;\n  setPosition: (position: number) => void;\n  \n  // Side B actions\n  updateSongIntent: (intent: Record<string, unknown>) => void;\n  clearSuggestions: () => void;\n}\n\nconst defaultTracks: Track[] = [\n  {\n    id: '1',\n    name: 'Drums',\n    type: 'audio',\n    color: '#ff5500',\n    volume: 0.8,\n    pan: 0,\n    muted: false,\n    solo: false,\n    armed: false,\n    clips: [\n      { id: 'c1', name: 'Beat 1', startTime: 0, duration: 4 },\n      { id: 'c2', name: 'Beat 2', startTime: 4, duration: 4 },\n    ],\n  },\n  {\n    id: '2',\n    name: 'Bass',\n    type: 'midi',\n    color: '#00aaff',\n    volume: 0.7,\n    pan: 0,\n    muted: false,\n    solo: false,\n    armed: false,\n    clips: [\n      { id: 'c3', name: 'Bass Line', startTime: 0, duration: 8 },\n    ],\n  },\n  {\n    id: '3',\n    name: 'Synth Lead',\n    type: 'midi',\n    color: '#aa00ff',\n    volume: 0.6,\n    pan: 0.2,\n    muted: false,\n    solo: false,\n    armed: false,\n    clips: [\n      { id: 'c4', name: 'Melody', startTime: 4, duration: 4 },\n    ],\n  },\n  {\n    id: '4',\n    name: 'Pad',\n    type: 'midi',\n    color: '#00ff88',\n    volume: 0.5,\n    pan: -0.2,\n    muted: false,\n    solo: false,\n    armed: false,\n    clips: [\n      { id: 'c5', name: 'Atmosphere', startTime: 0, duration: 8 },\n    ],\n  },\n  {\n    id: '5',\n    name: 'Vocals',\n    type: 'audio',\n    color: '#ffaa00',\n    volume: 0.9,\n    pan: 0,\n    muted: false,\n    solo: false,\n    armed: false,\n    clips: [],\n  },\n  {\n    id: '6',\n    name: 'FX',\n    type: 'aux',\n    color: '#ff00aa',\n    volume: 0.4,\n    pan: 0,\n    muted: false,\n    solo: false,\n    armed: false,\n    clips: [],\n  },\n];\n\nexport const useStore = create<StoreState>((set) => ({\n  // Initial state\n  isPlaying: false,\n  isRecording: false,\n  currentTime: 0,\n  tempo: 120,\n  timeSignature: [4, 4],\n  projectName: 'Untitled Project',\n  tracks: defaultTracks,\n  currentSide: 'A',\n  selectedTrackId: null,\n  isFlipping: false,\n  songIntent: null,\n  suggestions: [],\n\n  // Actions\n  setPlaying: (playing) => set({ isPlaying: playing }),\n  setRecording: (recording) => set({ isRecording: recording }),\n  setCurrentTime: (time) => set({ currentTime: time }),\n  setTempo: (tempo) => set({ tempo }),\n\n  toggleSide: () => set((state) => ({\n    currentSide: state.currentSide === 'A' ? 'B' : 'A',\n    isFlipping: true\n  })),\n\n  addTrack: (track) => set((state) => ({\n    tracks: [...state.tracks, { ...track, id: `track-${Date.now()}` }]\n  })),\n\n  updateTrack: (id, updates) => set((state) => ({\n    tracks: state.tracks.map((t) =>\n      t.id === id ? { ...t, ...updates } : t\n    )\n  })),\n\n  removeTrack: (id) => set((state) => ({\n    tracks: state.tracks.filter((t) => t.id !== id)\n  })),\n\n  selectTrack: (id) => set({ selectedTrackId: id }),\n  \n  // Audio control actions\n  play: () => set({ isPlaying: true }),\n  stop: () => set({ isPlaying: false, currentTime: 0 }),\n  pause: () => set({ isPlaying: false }),\n  setPosition: (position) => set({ currentTime: position }),\n  \n  // Side B actions\n  updateSongIntent: (intent) => set({ songIntent: intent }),\n  clearSuggestions: () => set({ suggestions: [] }),\n}));\n"],"mappings":"8HAAA,OAASA,MAAM,KAAQ,SAAS,CAkEhC,KAAM,CAAAC,aAAsB,CAAG,CAC7B,CACEC,EAAE,CAAE,GAAG,CACPC,IAAI,CAAE,OAAO,CACbC,IAAI,CAAE,OAAO,CACbC,KAAK,CAAE,SAAS,CAChBC,MAAM,CAAE,GAAG,CACXC,GAAG,CAAE,CAAC,CACNC,KAAK,CAAE,KAAK,CACZC,IAAI,CAAE,KAAK,CACXC,KAAK,CAAE,KAAK,CACZC,KAAK,CAAE,CACL,CAAET,EAAE,CAAE,IAAI,CAAEC,IAAI,CAAE,QAAQ,CAAES,SAAS,CAAE,CAAC,CAAEC,QAAQ,CAAE,CAAE,CAAC,CACvD,CAAEX,EAAE,CAAE,IAAI,CAAEC,IAAI,CAAE,QAAQ,CAAES,SAAS,CAAE,CAAC,CAAEC,QAAQ,CAAE,CAAE,CAAC,CAE3D,CAAC,CACD,CACEX,EAAE,CAAE,GAAG,CACPC,IAAI,CAAE,MAAM,CACZC,IAAI,CAAE,MAAM,CACZC,KAAK,CAAE,SAAS,CAChBC,MAAM,CAAE,GAAG,CACXC,GAAG,CAAE,CAAC,CACNC,KAAK,CAAE,KAAK,CACZC,IAAI,CAAE,KAAK,CACXC,KAAK,CAAE,KAAK,CACZC,KAAK,CAAE,CACL,CAAET,EAAE,CAAE,IAAI,CAAEC,IAAI,CAAE,WAAW,CAAES,SAAS,CAAE,CAAC,CAAEC,QAAQ,CAAE,CAAE,CAAC,CAE9D,CAAC,CACD,CACEX,EAAE,CAAE,GAAG,CACPC,IAAI,CAAE,YAAY,CAClBC,IAAI,CAAE,MAAM,CACZC,KAAK,CAAE,SAAS,CAChBC,MAAM,CAAE,GAAG,CACXC,GAAG,CAAE,GAAG,CACRC,KAAK,CAAE,KAAK,CACZC,IAAI,CAAE,KAAK,CACXC,KAAK,CAAE,KAAK,CACZC,KAAK,CAAE,CACL,CAAET,EAAE,CAAE,IAAI,CAAEC,IAAI,CAAE,QAAQ,CAAES,SAAS,CAAE,CAAC,CAAEC,QAAQ,CAAE,CAAE,CAAC,CAE3D,CAAC,CACD,CACEX,EAAE,CAAE,GAAG,CACPC,IAAI,CAAE,KAAK,CACXC,IAAI,CAAE,MAAM,CACZC,KAAK,CAAE,SAAS,CAChBC,MAAM,CAAE,GAAG,CACXC,GAAG,CAAE,CAAC,GAAG,CACTC,KAAK,CAAE,KAAK,CACZC,IAAI,CAAE,KAAK,CACXC,KAAK,CAAE,KAAK,CACZC,KAAK,CAAE,CACL,CAAET,EAAE,CAAE,IAAI,CAAEC,IAAI,CAAE,YAAY,CAAES,SAAS,CAAE,CAAC,CAAEC,QAAQ,CAAE,CAAE,CAAC,CAE/D,CAAC,CACD,CACEX,EAAE,CAAE,GAAG,CACPC,IAAI,CAAE,QAAQ,CACdC,IAAI,CAAE,OAAO,CACbC,KAAK,CAAE,SAAS,CAChBC,MAAM,CAAE,GAAG,CACXC,GAAG,CAAE,CAAC,CACNC,KAAK,CAAE,KAAK,CACZC,IAAI,CAAE,KAAK,CACXC,KAAK,CAAE,KAAK,CACZC,KAAK,CAAE,EACT,CAAC,CACD,CACET,EAAE,CAAE,GAAG,CACPC,IAAI,CAAE,IAAI,CACVC,IAAI,CAAE,KAAK,CACXC,KAAK,CAAE,SAAS,CAChBC,MAAM,CAAE,GAAG,CACXC,GAAG,CAAE,CAAC,CACNC,KAAK,CAAE,KAAK,CACZC,IAAI,CAAE,KAAK,CACXC,KAAK,CAAE,KAAK,CACZC,KAAK,CAAE,EACT,CAAC,CACF,CAED,MAAO,MAAM,CAAAG,QAAQ,CAAGd,MAAM,CAAce,GAAG,GAAM,CACnD;AACAC,SAAS,CAAE,KAAK,CAChBC,WAAW,CAAE,KAAK,CAClBC,WAAW,CAAE,CAAC,CACdC,KAAK,CAAE,GAAG,CACVC,aAAa,CAAE,CAAC,CAAC,CAAE,CAAC,CAAC,CACrBC,WAAW,CAAE,kBAAkB,CAC/BC,MAAM,CAAErB,aAAa,CACrBsB,WAAW,CAAE,GAAG,CAChBC,eAAe,CAAE,IAAI,CACrBC,UAAU,CAAE,KAAK,CACjBC,UAAU,CAAE,IAAI,CAChBC,WAAW,CAAE,EAAE,CAEf;AACAC,UAAU,CAAGC,OAAO,EAAKd,GAAG,CAAC,CAAEC,SAAS,CAAEa,OAAQ,CAAC,CAAC,CACpDC,YAAY,CAAGC,SAAS,EAAKhB,GAAG,CAAC,CAAEE,WAAW,CAAEc,SAAU,CAAC,CAAC,CAC5DC,cAAc,CAAGC,IAAI,EAAKlB,GAAG,CAAC,CAAEG,WAAW,CAAEe,IAAK,CAAC,CAAC,CACpDC,QAAQ,CAAGf,KAAK,EAAKJ,GAAG,CAAC,CAAEI,KAAM,CAAC,CAAC,CAEnCgB,UAAU,CAAEA,CAAA,GAAMpB,GAAG,CAAEqB,KAAK,GAAM,CAChCb,WAAW,CAAEa,KAAK,CAACb,WAAW,GAAK,GAAG,CAAG,GAAG,CAAG,GAAG,CAClDE,UAAU,CAAE,IACd,CAAC,CAAC,CAAC,CAEHY,QAAQ,CAAGC,KAAK,EAAKvB,GAAG,CAAEqB,KAAK,GAAM,CACnCd,MAAM,CAAE,CAAC,GAAGc,KAAK,CAACd,MAAM,CAAAiB,aAAA,CAAAA,aAAA,IAAOD,KAAK,MAAEpC,EAAE,UAAAsC,MAAA,CAAWC,IAAI,CAACC,GAAG,CAAC,CAAC,CAAE,GACjE,CAAC,CAAC,CAAC,CAEHC,WAAW,CAAEA,CAACzC,EAAE,CAAE0C,OAAO,GAAK7B,GAAG,CAAEqB,KAAK,GAAM,CAC5Cd,MAAM,CAAEc,KAAK,CAACd,MAAM,CAACuB,GAAG,CAAEC,CAAC,EACzBA,CAAC,CAAC5C,EAAE,GAAKA,EAAE,CAAAqC,aAAA,CAAAA,aAAA,IAAQO,CAAC,EAAKF,OAAO,EAAKE,CACvC,CACF,CAAC,CAAC,CAAC,CAEHC,WAAW,CAAG7C,EAAE,EAAKa,GAAG,CAAEqB,KAAK,GAAM,CACnCd,MAAM,CAAEc,KAAK,CAACd,MAAM,CAAC0B,MAAM,CAAEF,CAAC,EAAKA,CAAC,CAAC5C,EAAE,GAAKA,EAAE,CAChD,CAAC,CAAC,CAAC,CAEH+C,WAAW,CAAG/C,EAAE,EAAKa,GAAG,CAAC,CAAES,eAAe,CAAEtB,EAAG,CAAC,CAAC,CAEjD;AACAgD,IAAI,CAAEA,CAAA,GAAMnC,GAAG,CAAC,CAAEC,SAAS,CAAE,IAAK,CAAC,CAAC,CACpCmC,IAAI,CAAEA,CAAA,GAAMpC,GAAG,CAAC,CAAEC,SAAS,CAAE,KAAK,CAAEE,WAAW,CAAE,CAAE,CAAC,CAAC,CACrDkC,KAAK,CAAEA,CAAA,GAAMrC,GAAG,CAAC,CAAEC,SAAS,CAAE,KAAM,CAAC,CAAC,CACtCqC,WAAW,CAAGC,QAAQ,EAAKvC,GAAG,CAAC,CAAEG,WAAW,CAAEoC,QAAS,CAAC,CAAC,CAEzD;AACAC,gBAAgB,CAAGC,MAAM,EAAKzC,GAAG,CAAC,CAAEW,UAAU,CAAE8B,MAAO,CAAC,CAAC,CACzDC,gBAAgB,CAAEA,CAAA,GAAM1C,GAAG,CAAC,CAAEY,WAAW,CAAE,EAAG,CAAC,CACjD,CAAC,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}