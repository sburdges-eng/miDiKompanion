{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const Knob=_ref=>{let{value,onChange,label,min=0,max=1}=_ref;const[isDragging,setIsDragging]=useState(false);const knobRef=useRef(null);const startY=useRef(0);const startValue=useRef(0);const normalizedValue=(value-min)/(max-min);const rotation=-135+normalizedValue*270;// -135 to +135\nconst handleMouseDown=e=>{setIsDragging(true);startY.current=e.clientY;startValue.current=value;};useEffect(()=>{const handleMouseMove=e=>{if(!isDragging)return;const deltaY=startY.current-e.clientY;const sensitivity=0.01;const newValue=Math.max(min,Math.min(max,startValue.current+deltaY*sensitivity));onChange(newValue);};const handleMouseUp=()=>{setIsDragging(false);};if(isDragging){window.addEventListener('mousemove',handleMouseMove);window.addEventListener('mouseup',handleMouseUp);}return()=>{window.removeEventListener('mousemove',handleMouseMove);window.removeEventListener('mouseup',handleMouseUp);};},[isDragging,min,max,onChange]);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center gap-1\",children:[/*#__PURE__*/_jsx(\"div\",{ref:knobRef,className:\"knob\",onMouseDown:handleMouseDown,children:/*#__PURE__*/_jsx(\"div\",{className:\"knob-indicator\",style:{transform:\"translateX(-50%) rotate(\".concat(rotation,\"deg)\")}})}),label&&/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-ableton-text-dim\",children:label})]});};","map":{"version":3,"names":["React","useState","useRef","useEffect","jsx","_jsx","jsxs","_jsxs","Knob","_ref","value","onChange","label","min","max","isDragging","setIsDragging","knobRef","startY","startValue","normalizedValue","rotation","handleMouseDown","e","current","clientY","handleMouseMove","deltaY","sensitivity","newValue","Math","handleMouseUp","window","addEventListener","removeEventListener","className","children","ref","onMouseDown","style","transform","concat"],"sources":["/Users/seanburdges/Documents/GitHub/iDAWi/src/components/SideA/Knob.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\n\ninterface KnobProps {\n  value: number; // 0.0 to 1.0\n  onChange: (value: number) => void;\n  label?: string;\n  min?: number;\n  max?: number;\n}\n\nexport const Knob: React.FC<KnobProps> = ({\n  value,\n  onChange,\n  label,\n  min = 0,\n  max = 1\n}) => {\n  const [isDragging, setIsDragging] = useState(false);\n  const knobRef = useRef<HTMLDivElement>(null);\n  const startY = useRef(0);\n  const startValue = useRef(0);\n\n  const normalizedValue = (value - min) / (max - min);\n  const rotation = -135 + (normalizedValue * 270); // -135 to +135\n\n  const handleMouseDown = (e: React.MouseEvent) => {\n    setIsDragging(true);\n    startY.current = e.clientY;\n    startValue.current = value;\n  };\n\n  useEffect(() => {\n    const handleMouseMove = (e: MouseEvent) => {\n      if (!isDragging) return;\n\n      const deltaY = startY.current - e.clientY;\n      const sensitivity = 0.01;\n      const newValue = Math.max(min, Math.min(max, startValue.current + deltaY * sensitivity));\n\n      onChange(newValue);\n    };\n\n    const handleMouseUp = () => {\n      setIsDragging(false);\n    };\n\n    if (isDragging) {\n      window.addEventListener('mousemove', handleMouseMove);\n      window.addEventListener('mouseup', handleMouseUp);\n    }\n\n    return () => {\n      window.removeEventListener('mousemove', handleMouseMove);\n      window.removeEventListener('mouseup', handleMouseUp);\n    };\n  }, [isDragging, min, max, onChange]);\n\n  return (\n    <div className=\"flex flex-col items-center gap-1\">\n      <div\n        ref={knobRef}\n        className=\"knob\"\n        onMouseDown={handleMouseDown}\n      >\n        <div\n          className=\"knob-indicator\"\n          style={{ transform: `translateX(-50%) rotate(${rotation}deg)` }}\n        />\n      </div>\n      {label && (\n        <span className=\"text-xs text-ableton-text-dim\">{label}</span>\n      )}\n    </div>\n  );\n};\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,MAAM,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAU3D,MAAO,MAAM,CAAAC,IAAyB,CAAGC,IAAA,EAMnC,IANoC,CACxCC,KAAK,CACLC,QAAQ,CACRC,KAAK,CACLC,GAAG,CAAG,CAAC,CACPC,GAAG,CAAG,CACR,CAAC,CAAAL,IAAA,CACC,KAAM,CAACM,UAAU,CAAEC,aAAa,CAAC,CAAGf,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAAAgB,OAAO,CAAGf,MAAM,CAAiB,IAAI,CAAC,CAC5C,KAAM,CAAAgB,MAAM,CAAGhB,MAAM,CAAC,CAAC,CAAC,CACxB,KAAM,CAAAiB,UAAU,CAAGjB,MAAM,CAAC,CAAC,CAAC,CAE5B,KAAM,CAAAkB,eAAe,CAAG,CAACV,KAAK,CAAGG,GAAG,GAAKC,GAAG,CAAGD,GAAG,CAAC,CACnD,KAAM,CAAAQ,QAAQ,CAAG,CAAC,GAAG,CAAID,eAAe,CAAG,GAAI,CAAE;AAEjD,KAAM,CAAAE,eAAe,CAAIC,CAAmB,EAAK,CAC/CP,aAAa,CAAC,IAAI,CAAC,CACnBE,MAAM,CAACM,OAAO,CAAGD,CAAC,CAACE,OAAO,CAC1BN,UAAU,CAACK,OAAO,CAAGd,KAAK,CAC5B,CAAC,CAEDP,SAAS,CAAC,IAAM,CACd,KAAM,CAAAuB,eAAe,CAAIH,CAAa,EAAK,CACzC,GAAI,CAACR,UAAU,CAAE,OAEjB,KAAM,CAAAY,MAAM,CAAGT,MAAM,CAACM,OAAO,CAAGD,CAAC,CAACE,OAAO,CACzC,KAAM,CAAAG,WAAW,CAAG,IAAI,CACxB,KAAM,CAAAC,QAAQ,CAAGC,IAAI,CAAChB,GAAG,CAACD,GAAG,CAAEiB,IAAI,CAACjB,GAAG,CAACC,GAAG,CAAEK,UAAU,CAACK,OAAO,CAAGG,MAAM,CAAGC,WAAW,CAAC,CAAC,CAExFjB,QAAQ,CAACkB,QAAQ,CAAC,CACpB,CAAC,CAED,KAAM,CAAAE,aAAa,CAAGA,CAAA,GAAM,CAC1Bf,aAAa,CAAC,KAAK,CAAC,CACtB,CAAC,CAED,GAAID,UAAU,CAAE,CACdiB,MAAM,CAACC,gBAAgB,CAAC,WAAW,CAAEP,eAAe,CAAC,CACrDM,MAAM,CAACC,gBAAgB,CAAC,SAAS,CAAEF,aAAa,CAAC,CACnD,CAEA,MAAO,IAAM,CACXC,MAAM,CAACE,mBAAmB,CAAC,WAAW,CAAER,eAAe,CAAC,CACxDM,MAAM,CAACE,mBAAmB,CAAC,SAAS,CAAEH,aAAa,CAAC,CACtD,CAAC,CACH,CAAC,CAAE,CAAChB,UAAU,CAAEF,GAAG,CAAEC,GAAG,CAAEH,QAAQ,CAAC,CAAC,CAEpC,mBACEJ,KAAA,QAAK4B,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC/C/B,IAAA,QACEgC,GAAG,CAAEpB,OAAQ,CACbkB,SAAS,CAAC,MAAM,CAChBG,WAAW,CAAEhB,eAAgB,CAAAc,QAAA,cAE7B/B,IAAA,QACE8B,SAAS,CAAC,gBAAgB,CAC1BI,KAAK,CAAE,CAAEC,SAAS,4BAAAC,MAAA,CAA6BpB,QAAQ,QAAO,CAAE,CACjE,CAAC,CACC,CAAC,CACLT,KAAK,eACJP,IAAA,SAAM8B,SAAS,CAAC,+BAA+B,CAAAC,QAAA,CAAExB,KAAK,CAAO,CAC9D,EACE,CAAC,CAEV,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}