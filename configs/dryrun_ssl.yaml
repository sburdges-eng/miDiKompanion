# =============================================================================
# Music Foundation Model DRY RUN Configuration (GTZAN)
# =============================================================================

model_id: foundation_dryrun
device: auto
precision: fp16
seed: 42
spending_limit_usd: 5.0 # Very low limit for dry run
cost_per_step_sim: 0.01 # Higher simulated cost to trigger limit faster
use_streaming: true

# Override with KELLY_AUDIO_DATA_ROOT environment variable
data:
  train_manifest: ${KELLY_AUDIO_DATA_ROOT:-/Volumes/Extreme SSD/kelly-audio-data}/raw/emotions/cremad/manifest.jsonl
  sample_rate: 16000 # CREMA-D native SR
  segment_seconds: 2.0
  manifest_audio_key: audio
  num_workers: 0 # Faster for small local tests

model:
  backbone: lightweight_cnn
  embedding_dim: 128
  projection_dim: 64
  dropout: 0.1

optim:
  name: adamw
  lr: 1e-3
  weight_decay: 0.01
  betas: [0.9, 0.999]

training:
  epochs: 2
  batch_size: 4
  grad_accum_steps: 1
  log_every: 10
  eval_every: 50
  ckpt_every: 100
  max_steps: 100

ssl:
  temperature: 0.07
  augment_positive_pairs: true

