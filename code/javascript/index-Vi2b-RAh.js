(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function s(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=s(l);fetch(l.href,c)}})();function d0(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function Q_(o){if(Object.prototype.hasOwnProperty.call(o,"__esModule"))return o;var n=o.default;if(typeof n=="function"){var s=function a(){var l=!1;try{l=this instanceof a}catch{}return l?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(o).forEach(function(a){var l=Object.getOwnPropertyDescriptor(o,a);Object.defineProperty(s,a,l.get?l:{enumerable:!0,get:function(){return o[a]}})}),s}var _h={exports:{}},xr={};var bg;function W_(){if(bg)return xr;bg=1;var o=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(a,l,c){var f=null;if(c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),"key"in l){c={};for(var d in l)d!=="key"&&(c[d]=l[d])}else c=l;return l=c.ref,{$$typeof:o,type:a,key:f,ref:l!==void 0?l:null,props:c}}return xr.Fragment=n,xr.jsx=s,xr.jsxs=s,xr}var xg;function J_(){return xg||(xg=1,_h.exports=W_()),_h.exports}var x=J_(),bh={exports:{}},_e={};var Sg;function K_(){if(Sg)return _e;Sg=1;var o=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),_=Symbol.iterator;function b(O){return O===null||typeof O!="object"?null:(O=_&&O[_]||O["@@iterator"],typeof O=="function"?O:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,S={};function T(O,Y,ie){this.props=O,this.context=Y,this.refs=S,this.updater=ie||C}T.prototype.isReactComponent={},T.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},T.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function N(){}N.prototype=T.prototype;function k(O,Y,ie){this.props=O,this.context=Y,this.refs=S,this.updater=ie||C}var D=k.prototype=new N;D.constructor=k,A(D,T.prototype),D.isPureReactComponent=!0;var M=Array.isArray;function E(){}var z={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function F(O,Y,ie){var oe=ie.ref;return{$$typeof:o,type:O,key:Y,ref:oe!==void 0?oe:null,props:ie}}function J(O,Y){return F(O.type,Y,O.props)}function Q(O){return typeof O=="object"&&O!==null&&O.$$typeof===o}function H(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ie){return Y[ie]})}var te=/\/+/g;function Z(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?H(""+O.key):Y.toString(36)}function ne(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(E,E):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function V(O,Y,ie,oe,re){var fe=typeof O;(fe==="undefined"||fe==="boolean")&&(O=null);var ve=!1;if(O===null)ve=!0;else switch(fe){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(O.$$typeof){case o:case n:ve=!0;break;case g:return ve=O._init,V(ve(O._payload),Y,ie,oe,re)}}if(ve)return re=re(O),ve=oe===""?"."+Z(O,0):oe,M(re)?(ie="",ve!=null&&(ie=ve.replace(te,"$&/")+"/"),V(re,Y,ie,"",function(Ft){return Ft})):re!=null&&(Q(re)&&(re=J(re,ie+(re.key==null||O&&O.key===re.key?"":(""+re.key).replace(te,"$&/")+"/")+ve)),Y.push(re)),1;ve=0;var ue=oe===""?".":oe+":";if(M(O))for(var Re=0;Re<O.length;Re++)oe=O[Re],fe=ue+Z(oe,Re),ve+=V(oe,Y,ie,fe,re);else if(Re=b(O),typeof Re=="function")for(O=Re.call(O),Re=0;!(oe=O.next()).done;)oe=oe.value,fe=ue+Z(oe,Re++),ve+=V(oe,Y,ie,fe,re);else if(fe==="object"){if(typeof O.then=="function")return V(ne(O),Y,ie,oe,re);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ve}function G(O,Y,ie){if(O==null)return O;var oe=[],re=0;return V(O,oe,"","",function(fe){return Y.call(ie,fe,re++)}),oe}function ee(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(ie){(O._status===0||O._status===-1)&&(O._status=1,O._result=ie)},function(ie){(O._status===0||O._status===-1)&&(O._status=2,O._result=ie)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var se=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},le={map:G,forEach:function(O,Y,ie){G(O,function(){Y.apply(this,arguments)},ie)},count:function(O){var Y=0;return G(O,function(){Y++}),Y},toArray:function(O){return G(O,function(Y){return Y})||[]},only:function(O){if(!Q(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return _e.Activity=y,_e.Children=le,_e.Component=T,_e.Fragment=s,_e.Profiler=l,_e.PureComponent=k,_e.StrictMode=a,_e.Suspense=m,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,_e.__COMPILER_RUNTIME={__proto__:null,c:function(O){return z.H.useMemoCache(O)}},_e.cache=function(O){return function(){return O.apply(null,arguments)}},_e.cacheSignal=function(){return null},_e.cloneElement=function(O,Y,ie){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var oe=A({},O.props),re=O.key;if(Y!=null)for(fe in Y.key!==void 0&&(re=""+Y.key),Y)!j.call(Y,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&Y.ref===void 0||(oe[fe]=Y[fe]);var fe=arguments.length-2;if(fe===1)oe.children=ie;else if(1<fe){for(var ve=Array(fe),ue=0;ue<fe;ue++)ve[ue]=arguments[ue+2];oe.children=ve}return F(O.type,re,oe)},_e.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},_e.createElement=function(O,Y,ie){var oe,re={},fe=null;if(Y!=null)for(oe in Y.key!==void 0&&(fe=""+Y.key),Y)j.call(Y,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(re[oe]=Y[oe]);var ve=arguments.length-2;if(ve===1)re.children=ie;else if(1<ve){for(var ue=Array(ve),Re=0;Re<ve;Re++)ue[Re]=arguments[Re+2];re.children=ue}if(O&&O.defaultProps)for(oe in ve=O.defaultProps,ve)re[oe]===void 0&&(re[oe]=ve[oe]);return F(O,fe,re)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(O){return{$$typeof:d,render:O}},_e.isValidElement=Q,_e.lazy=function(O){return{$$typeof:g,_payload:{_status:-1,_result:O},_init:ee}},_e.memo=function(O,Y){return{$$typeof:p,type:O,compare:Y===void 0?null:Y}},_e.startTransition=function(O){var Y=z.T,ie={};z.T=ie;try{var oe=O(),re=z.S;re!==null&&re(ie,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(E,se)}catch(fe){se(fe)}finally{Y!==null&&ie.types!==null&&(Y.types=ie.types),z.T=Y}},_e.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},_e.use=function(O){return z.H.use(O)},_e.useActionState=function(O,Y,ie){return z.H.useActionState(O,Y,ie)},_e.useCallback=function(O,Y){return z.H.useCallback(O,Y)},_e.useContext=function(O){return z.H.useContext(O)},_e.useDebugValue=function(){},_e.useDeferredValue=function(O,Y){return z.H.useDeferredValue(O,Y)},_e.useEffect=function(O,Y){return z.H.useEffect(O,Y)},_e.useEffectEvent=function(O){return z.H.useEffectEvent(O)},_e.useId=function(){return z.H.useId()},_e.useImperativeHandle=function(O,Y,ie){return z.H.useImperativeHandle(O,Y,ie)},_e.useInsertionEffect=function(O,Y){return z.H.useInsertionEffect(O,Y)},_e.useLayoutEffect=function(O,Y){return z.H.useLayoutEffect(O,Y)},_e.useMemo=function(O,Y){return z.H.useMemo(O,Y)},_e.useOptimistic=function(O,Y){return z.H.useOptimistic(O,Y)},_e.useReducer=function(O,Y,ie){return z.H.useReducer(O,Y,ie)},_e.useRef=function(O){return z.H.useRef(O)},_e.useState=function(O){return z.H.useState(O)},_e.useSyncExternalStore=function(O,Y,ie){return z.H.useSyncExternalStore(O,Y,ie)},_e.useTransition=function(){return z.H.useTransition()},_e.version="19.2.1",_e}var Tg;function Zh(){return Tg||(Tg=1,bh.exports=K_()),bh.exports}var $=Zh();const p0=d0($);var xh={exports:{}},Sr={},Sh={exports:{}},Th={};var Cg;function P_(){return Cg||(Cg=1,(function(o){function n(V,G){var ee=V.length;V.push(G);e:for(;0<ee;){var se=ee-1>>>1,le=V[se];if(0<l(le,G))V[se]=G,V[ee]=le,ee=se;else break e}}function s(V){return V.length===0?null:V[0]}function a(V){if(V.length===0)return null;var G=V[0],ee=V.pop();if(ee!==G){V[0]=ee;e:for(var se=0,le=V.length,O=le>>>1;se<O;){var Y=2*(se+1)-1,ie=V[Y],oe=Y+1,re=V[oe];if(0>l(ie,ee))oe<le&&0>l(re,ie)?(V[se]=re,V[oe]=ee,se=oe):(V[se]=ie,V[Y]=ee,se=Y);else if(oe<le&&0>l(re,ee))V[se]=re,V[oe]=ee,se=oe;else break e}}return G}function l(V,G){var ee=V.sortIndex-G.sortIndex;return ee!==0?ee:V.id-G.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;o.unstable_now=function(){return c.now()}}else{var f=Date,d=f.now();o.unstable_now=function(){return f.now()-d}}var m=[],p=[],g=1,y=null,_=3,b=!1,C=!1,A=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function D(V){for(var G=s(p);G!==null;){if(G.callback===null)a(p);else if(G.startTime<=V)a(p),G.sortIndex=G.expirationTime,n(m,G);else break;G=s(p)}}function M(V){if(A=!1,D(V),!C)if(s(m)!==null)C=!0,E||(E=!0,H());else{var G=s(p);G!==null&&ne(M,G.startTime-V)}}var E=!1,z=-1,j=5,F=-1;function J(){return S?!0:!(o.unstable_now()-F<j)}function Q(){if(S=!1,E){var V=o.unstable_now();F=V;var G=!0;try{e:{C=!1,A&&(A=!1,N(z),z=-1),b=!0;var ee=_;try{t:{for(D(V),y=s(m);y!==null&&!(y.expirationTime>V&&J());){var se=y.callback;if(typeof se=="function"){y.callback=null,_=y.priorityLevel;var le=se(y.expirationTime<=V);if(V=o.unstable_now(),typeof le=="function"){y.callback=le,D(V),G=!0;break t}y===s(m)&&a(m),D(V)}else a(m);y=s(m)}if(y!==null)G=!0;else{var O=s(p);O!==null&&ne(M,O.startTime-V),G=!1}}break e}finally{y=null,_=ee,b=!1}G=void 0}}finally{G?H():E=!1}}}var H;if(typeof k=="function")H=function(){k(Q)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,Z=te.port2;te.port1.onmessage=Q,H=function(){Z.postMessage(null)}}else H=function(){T(Q,0)};function ne(V,G){z=T(function(){V(o.unstable_now())},G)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(V){V.callback=null},o.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<V?Math.floor(1e3/V):5},o.unstable_getCurrentPriorityLevel=function(){return _},o.unstable_next=function(V){switch(_){case 1:case 2:case 3:var G=3;break;default:G=_}var ee=_;_=G;try{return V()}finally{_=ee}},o.unstable_requestPaint=function(){S=!0},o.unstable_runWithPriority=function(V,G){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ee=_;_=V;try{return G()}finally{_=ee}},o.unstable_scheduleCallback=function(V,G,ee){var se=o.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?se+ee:se):ee=se,V){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=ee+le,V={id:g++,callback:G,priorityLevel:V,startTime:ee,expirationTime:le,sortIndex:-1},ee>se?(V.sortIndex=ee,n(p,V),s(m)===null&&V===s(p)&&(A?(N(z),z=-1):A=!0,ne(M,ee-se))):(V.sortIndex=le,n(m,V),C||b||(C=!0,E||(E=!0,H()))),V},o.unstable_shouldYield=J,o.unstable_wrapCallback=function(V){var G=_;return function(){var ee=_;_=G;try{return V.apply(this,arguments)}finally{_=ee}}}})(Th)),Th}var wg;function $_(){return wg||(wg=1,Sh.exports=P_()),Sh.exports}var Ch={exports:{}},Et={};var Ag;function eb(){if(Ag)return Et;Ag=1;var o=Zh();function n(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(m,p,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:m,containerInfo:p,implementation:g}}var f=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Et.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Et.createPortal=function(m,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return c(m,p,null,g)},Et.flushSync=function(m){var p=f.T,g=a.p;try{if(f.T=null,a.p=2,m)return m()}finally{f.T=p,a.p=g,a.d.f()}},Et.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(m,p))},Et.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},Et.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var g=p.as,y=d(g,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?a.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:b}):g==="script"&&a.d.X(m,{crossOrigin:y,integrity:_,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Et.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=d(p.as,p.crossOrigin);a.d.M(m,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(m)},Et.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,y=d(g,p.crossOrigin);a.d.L(m,g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Et.preloadModule=function(m,p){if(typeof m=="string")if(p){var g=d(p.as,p.crossOrigin);a.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(m)},Et.requestFormReset=function(m){a.d.r(m)},Et.unstable_batchedUpdates=function(m,p){return m(p)},Et.useFormState=function(m,p,g){return f.H.useFormState(m,p,g)},Et.useFormStatus=function(){return f.H.useHostTransitionStatus()},Et.version="19.2.1",Et}var Mg;function tb(){if(Mg)return Ch.exports;Mg=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(n){console.error(n)}}return o(),Ch.exports=eb(),Ch.exports}var Eg;function nb(){if(Eg)return Sr;Eg=1;var o=$_(),n=Zh(),s=tb();function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(c(e)!==e)throw Error(a(188))}function p(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(a(188));return t!==e?null:e}for(var i=e,r=t;;){var u=i.return;if(u===null)break;var h=u.alternate;if(h===null){if(r=u.return,r!==null){i=r;continue}break}if(u.child===h.child){for(h=u.child;h;){if(h===i)return m(u),e;if(h===r)return m(u),t;h=h.sibling}throw Error(a(188))}if(i.return!==r.return)i=u,r=h;else{for(var v=!1,w=u.child;w;){if(w===i){v=!0,i=u,r=h;break}if(w===r){v=!0,r=u,i=h;break}w=w.sibling}if(!v){for(w=h.child;w;){if(w===i){v=!0,i=h,r=u;break}if(w===r){v=!0,r=h,i=u;break}w=w.sibling}if(!v)throw Error(a(189))}}if(i.alternate!==r)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),k=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function H(e){return e===null||typeof e!="object"?null:(e=Q&&e[Q]||e["@@iterator"],typeof e=="function"?e:null)}var te=Symbol.for("react.client.reference");function Z(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===te?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case T:return"Profiler";case S:return"StrictMode";case M:return"Suspense";case E:return"SuspenseList";case F:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case C:return"Portal";case k:return e.displayName||"Context";case N:return(e._context.displayName||"Context")+".Consumer";case D:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case z:return t=e.displayName||null,t!==null?t:Z(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return Z(e(t))}catch{}}return null}var ne=Array.isArray,V=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},se=[],le=-1;function O(e){return{current:e}}function Y(e){0>le||(e.current=se[le],se[le]=null,le--)}function ie(e,t){le++,se[le]=e.current,e.current=t}var oe=O(null),re=O(null),fe=O(null),ve=O(null);function ue(e,t){switch(ie(fe,t),ie(re,e),ie(oe,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Gm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Gm(t),e=Fm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(oe),ie(oe,e)}function Re(){Y(oe),Y(re),Y(fe)}function Ft(e){e.memoizedState!==null&&ie(ve,e);var t=oe.current,i=Fm(t,e.type);t!==i&&(ie(re,e),ie(oe,i))}function gn(e){re.current===e&&(Y(oe),Y(re)),ve.current===e&&(Y(ve),yr._currentValue=ee)}var An,eo;function Vn(e){if(An===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);An=t&&t[1]||"",eo=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+An+e+eo}var ce=!1;function me(e,t){if(!e||ce)return"";ce=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var P=function(){throw Error()};if(Object.defineProperty(P.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(P,[])}catch(X){var L=X}Reflect.construct(e,[],P)}else{try{P.call()}catch(X){L=X}e.call(P.prototype)}}else{try{throw Error()}catch(X){L=X}(P=e())&&typeof P.catch=="function"&&P.catch(function(){})}}catch(X){if(X&&L&&typeof X.stack=="string")return[X.stack,L.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=r.DetermineComponentFrameRoot(),v=h[0],w=h[1];if(v&&w){var R=v.split(`
`),I=w.split(`
`);for(u=r=0;r<R.length&&!R[r].includes("DetermineComponentFrameRoot");)r++;for(;u<I.length&&!I[u].includes("DetermineComponentFrameRoot");)u++;if(r===R.length||u===I.length)for(r=R.length-1,u=I.length-1;1<=r&&0<=u&&R[r]!==I[u];)u--;for(;1<=r&&0<=u;r--,u--)if(R[r]!==I[u]){if(r!==1||u!==1)do if(r--,u--,0>u||R[r]!==I[u]){var W=`
`+R[r].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=r&&0<=u);break}}}finally{ce=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Vn(i):""}function nt(e,t){switch(e.tag){case 26:case 27:case 5:return Vn(e.type);case 16:return Vn("Lazy");case 13:return e.child!==t&&t!==null?Vn("Suspense Fallback"):Vn("Suspense");case 19:return Vn("SuspenseList");case 0:case 15:return me(e.type,!1);case 11:return me(e.type.render,!1);case 1:return me(e.type,!0);case 31:return Vn("Activity");default:return""}}function He(e){try{var t="",i=null;do t+=nt(e,i),i=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Ee=Object.prototype.hasOwnProperty,Ge=o.unstable_scheduleCallback,Mt=o.unstable_cancelCallback,Mn=o.unstable_shouldYield,Fi=o.unstable_requestPaint,bt=o.unstable_now,rc=o.unstable_getCurrentPriorityLevel,to=o.unstable_ImmediatePriority,Sf=o.unstable_UserBlockingPriority,no=o.unstable_NormalPriority,Oy=o.unstable_LowPriority,Tf=o.unstable_IdlePriority,Ny=o.log,ky=o.unstable_setDisableYieldValue,Oa=null,Yt=null;function hi(e){if(typeof Ny=="function"&&ky(e),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(Oa,e)}catch{}}var Xt=Math.clz32?Math.clz32:jy,Dy=Math.log,Ry=Math.LN2;function jy(e){return e>>>=0,e===0?32:31-(Dy(e)/Ry|0)|0}var io=256,so=262144,ao=4194304;function Yi(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ro(e,t,i){var r=e.pendingLanes;if(r===0)return 0;var u=0,h=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var w=r&134217727;return w!==0?(r=w&~h,r!==0?u=Yi(r):(v&=w,v!==0?u=Yi(v):i||(i=w&~e,i!==0&&(u=Yi(i))))):(w=r&~h,w!==0?u=Yi(w):v!==0?u=Yi(v):i||(i=r&~e,i!==0&&(u=Yi(i)))),u===0?0:t!==0&&t!==u&&(t&h)===0&&(h=u&-u,i=t&-t,h>=i||h===32&&(i&4194048)!==0)?t:u}function Na(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function zy(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cf(){var e=ao;return ao<<=1,(ao&62914560)===0&&(ao=4194304),e}function oc(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function ka(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Uy(e,t,i,r,u,h){var v=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var w=e.entanglements,R=e.expirationTimes,I=e.hiddenUpdates;for(i=v&~i;0<i;){var W=31-Xt(i),P=1<<W;w[W]=0,R[W]=-1;var L=I[W];if(L!==null)for(I[W]=null,W=0;W<L.length;W++){var X=L[W];X!==null&&(X.lane&=-536870913)}i&=~P}r!==0&&wf(e,r,0),h!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=h&~(v&~t))}function wf(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Xt(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|i&261930}function Af(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var r=31-Xt(i),u=1<<r;u&t|e[r]&t&&(e[r]|=t),i&=~u}}function Mf(e,t){var i=t&-t;return i=(i&42)!==0?1:lc(i),(i&(e.suspendedLanes|t))!==0?0:i}function lc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function cc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ef(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:dg(e.type))}function Of(e,t){var i=G.p;try{return G.p=e,t()}finally{G.p=i}}var fi=Math.random().toString(36).slice(2),xt="__reactFiber$"+fi,jt="__reactProps$"+fi,As="__reactContainer$"+fi,uc="__reactEvents$"+fi,Vy="__reactListeners$"+fi,By="__reactHandles$"+fi,Nf="__reactResources$"+fi,Da="__reactMarker$"+fi;function hc(e){delete e[xt],delete e[jt],delete e[uc],delete e[Vy],delete e[By]}function Ms(e){var t=e[xt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[As]||i[xt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Km(e);e!==null;){if(i=e[xt])return i;e=Km(e)}return t}e=i,i=e.parentNode}return null}function Es(e){if(e=e[xt]||e[As]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ra(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(a(33))}function Os(e){var t=e[Nf];return t||(t=e[Nf]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function gt(e){e[Da]=!0}var kf=new Set,Df={};function Xi(e,t){Ns(e,t),Ns(e+"Capture",t)}function Ns(e,t){for(Df[e]=t,e=0;e<t.length;e++)kf.add(t[e])}var qy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rf={},jf={};function Iy(e){return Ee.call(jf,e)?!0:Ee.call(Rf,e)?!1:qy.test(e)?jf[e]=!0:(Rf[e]=!0,!1)}function oo(e,t,i){if(Iy(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function lo(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function Bn(e,t,i,r){if(r===null)e.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+r)}}function sn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ly(e,t,i){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,h=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(v){i=""+v,h.call(this,v)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(v){i=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fc(e){if(!e._valueTracker){var t=zf(e)?"checked":"value";e._valueTracker=Ly(e,t,""+e[t])}}function Uf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),r="";return e&&(r=zf(e)?e.checked?"true":"false":e.value),e=r,e!==i?(t.setValue(e),!0):!1}function co(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Hy=/[\n"\\]/g;function an(e){return e.replace(Hy,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function dc(e,t,i,r,u,h,v,w){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),t!=null?v==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+sn(t)):e.value!==""+sn(t)&&(e.value=""+sn(t)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),t!=null?pc(e,v,sn(t)):i!=null?pc(e,v,sn(i)):r!=null&&e.removeAttribute("value"),u==null&&h!=null&&(e.defaultChecked=!!h),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+sn(w):e.removeAttribute("name")}function Vf(e,t,i,r,u,h,v,w){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),t!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||t!=null)){fc(e);return}i=i!=null?""+sn(i):"",t=t!=null?""+sn(t):i,w||t===e.value||(e.value=t),e.defaultValue=t}r=r??u,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=w?e.checked:!!r,e.defaultChecked=!!r,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),fc(e)}function pc(e,t,i){t==="number"&&co(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function ks(e,t,i,r){if(e=e.options,t){t={};for(var u=0;u<i.length;u++)t["$"+i[u]]=!0;for(i=0;i<e.length;i++)u=t.hasOwnProperty("$"+e[i].value),e[i].selected!==u&&(e[i].selected=u),u&&r&&(e[i].defaultSelected=!0)}else{for(i=""+sn(i),t=null,u=0;u<e.length;u++){if(e[u].value===i){e[u].selected=!0,r&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Bf(e,t,i){if(t!=null&&(t=""+sn(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+sn(i):""}function qf(e,t,i,r){if(t==null){if(r!=null){if(i!=null)throw Error(a(92));if(ne(r)){if(1<r.length)throw Error(a(93));r=r[0]}i=r}i==null&&(i=""),t=i}i=sn(t),e.defaultValue=i,r=e.textContent,r===i&&r!==""&&r!==null&&(e.value=r),fc(e)}function Ds(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Gy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function If(e,t,i){var r=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,i):typeof i!="number"||i===0||Gy.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Lf(e,t,i){if(t!=null&&typeof t!="object")throw Error(a(62));if(e=e.style,i!=null){for(var r in i)!i.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var u in t)r=t[u],t.hasOwnProperty(u)&&i[u]!==r&&If(e,u,r)}else for(var h in t)t.hasOwnProperty(h)&&If(e,h,t[h])}function mc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uo(e){return Yy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qn(){}var gc=null;function yc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rs=null,js=null;function Hf(e){var t=Es(e);if(t&&(e=t.stateNode)){var i=e[jt]||null;e:switch(e=t.stateNode,t.type){case"input":if(dc(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+an(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var r=i[t];if(r!==e&&r.form===e.form){var u=r[jt]||null;if(!u)throw Error(a(90));dc(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<i.length;t++)r=i[t],r.form===e.form&&Uf(r)}break e;case"textarea":Bf(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&ks(e,!!i.multiple,t,!1)}}}var vc=!1;function Gf(e,t,i){if(vc)return e(t,i);vc=!0;try{var r=e(t);return r}finally{if(vc=!1,(Rs!==null||js!==null)&&(Po(),Rs&&(t=Rs,e=js,js=Rs=null,Hf(t),e)))for(t=0;t<e.length;t++)Hf(e[t])}}function ja(e,t){var i=e.stateNode;if(i===null)return null;var r=i[jt]||null;if(r===null)return null;i=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(a(231,t,typeof i));return i}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_c=!1;if(In)try{var za={};Object.defineProperty(za,"passive",{get:function(){_c=!0}}),window.addEventListener("test",za,za),window.removeEventListener("test",za,za)}catch{_c=!1}var di=null,bc=null,ho=null;function Ff(){if(ho)return ho;var e,t=bc,i=t.length,r,u="value"in di?di.value:di.textContent,h=u.length;for(e=0;e<i&&t[e]===u[e];e++);var v=i-e;for(r=1;r<=v&&t[i-r]===u[h-r];r++);return ho=u.slice(e,1<r?1-r:void 0)}function fo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function po(){return!0}function Yf(){return!1}function zt(e){function t(i,r,u,h,v){this._reactName=i,this._targetInst=u,this.type=r,this.nativeEvent=h,this.target=v,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(i=e[w],this[w]=i?i(h):h[w]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?po:Yf,this.isPropagationStopped=Yf,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=po)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=po)},persist:function(){},isPersistent:po}),t}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mo=zt(Zi),Ua=y({},Zi,{view:0,detail:0}),Xy=zt(Ua),xc,Sc,Va,go=y({},Ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Va&&(Va&&e.type==="mousemove"?(xc=e.screenX-Va.screenX,Sc=e.screenY-Va.screenY):Sc=xc=0,Va=e),xc)},movementY:function(e){return"movementY"in e?e.movementY:Sc}}),Xf=zt(go),Zy=y({},go,{dataTransfer:0}),Qy=zt(Zy),Wy=y({},Ua,{relatedTarget:0}),Tc=zt(Wy),Jy=y({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ky=zt(Jy),Py=y({},Zi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$y=zt(Py),ev=y({},Zi,{data:0}),Zf=zt(ev),tv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=iv[e])?!!t[e]:!1}function Cc(){return sv}var av=y({},Ua,{key:function(e){if(e.key){var t=tv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cc,charCode:function(e){return e.type==="keypress"?fo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rv=zt(av),ov=y({},go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qf=zt(ov),lv=y({},Ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cc}),cv=zt(lv),uv=y({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),hv=zt(uv),fv=y({},go,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dv=zt(fv),pv=y({},Zi,{newState:0,oldState:0}),mv=zt(pv),gv=[9,13,27,32],wc=In&&"CompositionEvent"in window,Ba=null;In&&"documentMode"in document&&(Ba=document.documentMode);var yv=In&&"TextEvent"in window&&!Ba,Wf=In&&(!wc||Ba&&8<Ba&&11>=Ba),Jf=" ",Kf=!1;function Pf(e,t){switch(e){case"keyup":return gv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $f(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zs=!1;function vv(e,t){switch(e){case"compositionend":return $f(t);case"keypress":return t.which!==32?null:(Kf=!0,Jf);case"textInput":return e=t.data,e===Jf&&Kf?null:e;default:return null}}function _v(e,t){if(zs)return e==="compositionend"||!wc&&Pf(e,t)?(e=Ff(),ho=bc=di=null,zs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wf&&t.locale!=="ko"?null:t.data;default:return null}}var bv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ed(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bv[e.type]:t==="textarea"}function td(e,t,i,r){Rs?js?js.push(r):js=[r]:Rs=r,t=al(t,"onChange"),0<t.length&&(i=new mo("onChange","change",null,i,r),e.push({event:i,listeners:t}))}var qa=null,Ia=null;function xv(e){Vm(e,0)}function yo(e){var t=Ra(e);if(Uf(t))return e}function nd(e,t){if(e==="change")return t}var id=!1;if(In){var Ac;if(In){var Mc="oninput"in document;if(!Mc){var sd=document.createElement("div");sd.setAttribute("oninput","return;"),Mc=typeof sd.oninput=="function"}Ac=Mc}else Ac=!1;id=Ac&&(!document.documentMode||9<document.documentMode)}function ad(){qa&&(qa.detachEvent("onpropertychange",rd),Ia=qa=null)}function rd(e){if(e.propertyName==="value"&&yo(Ia)){var t=[];td(t,Ia,e,yc(e)),Gf(xv,t)}}function Sv(e,t,i){e==="focusin"?(ad(),qa=t,Ia=i,qa.attachEvent("onpropertychange",rd)):e==="focusout"&&ad()}function Tv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yo(Ia)}function Cv(e,t){if(e==="click")return yo(t)}function wv(e,t){if(e==="input"||e==="change")return yo(t)}function Av(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zt=typeof Object.is=="function"?Object.is:Av;function La(e,t){if(Zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var u=i[r];if(!Ee.call(t,u)||!Zt(e[u],t[u]))return!1}return!0}function od(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ld(e,t){var i=od(e);e=0;for(var r;i;){if(i.nodeType===3){if(r=e+i.textContent.length,e<=t&&r>=t)return{node:i,offset:t-e};e=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=od(i)}}function cd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ud(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=co(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=co(e.document)}return t}function Ec(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Mv=In&&"documentMode"in document&&11>=document.documentMode,Us=null,Oc=null,Ha=null,Nc=!1;function hd(e,t,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Nc||Us==null||Us!==co(r)||(r=Us,"selectionStart"in r&&Ec(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ha&&La(Ha,r)||(Ha=r,r=al(Oc,"onSelect"),0<r.length&&(t=new mo("onSelect","select",null,t,i),e.push({event:t,listeners:r}),t.target=Us)))}function Qi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Vs={animationend:Qi("Animation","AnimationEnd"),animationiteration:Qi("Animation","AnimationIteration"),animationstart:Qi("Animation","AnimationStart"),transitionrun:Qi("Transition","TransitionRun"),transitionstart:Qi("Transition","TransitionStart"),transitioncancel:Qi("Transition","TransitionCancel"),transitionend:Qi("Transition","TransitionEnd")},kc={},fd={};In&&(fd=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function Wi(e){if(kc[e])return kc[e];if(!Vs[e])return e;var t=Vs[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in fd)return kc[e]=t[i];return e}var dd=Wi("animationend"),pd=Wi("animationiteration"),md=Wi("animationstart"),Ev=Wi("transitionrun"),Ov=Wi("transitionstart"),Nv=Wi("transitioncancel"),gd=Wi("transitionend"),yd=new Map,Dc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dc.push("scrollEnd");function yn(e,t){yd.set(e,t),Xi(t,[e])}var vo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},rn=[],Bs=0,Rc=0;function _o(){for(var e=Bs,t=Rc=Bs=0;t<e;){var i=rn[t];rn[t++]=null;var r=rn[t];rn[t++]=null;var u=rn[t];rn[t++]=null;var h=rn[t];if(rn[t++]=null,r!==null&&u!==null){var v=r.pending;v===null?u.next=u:(u.next=v.next,v.next=u),r.pending=u}h!==0&&vd(i,u,h)}}function bo(e,t,i,r){rn[Bs++]=e,rn[Bs++]=t,rn[Bs++]=i,rn[Bs++]=r,Rc|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function jc(e,t,i,r){return bo(e,t,i,r),xo(e)}function Ji(e,t){return bo(e,null,null,t),xo(e)}function vd(e,t,i){e.lanes|=i;var r=e.alternate;r!==null&&(r.lanes|=i);for(var u=!1,h=e.return;h!==null;)h.childLanes|=i,r=h.alternate,r!==null&&(r.childLanes|=i),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(u=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,u&&t!==null&&(u=31-Xt(i),e=h.hiddenUpdates,r=e[u],r===null?e[u]=[t]:r.push(t),t.lane=i|536870912),h):null}function xo(e){if(50<ur)throw ur=0,Gu=null,Error(a(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var qs={};function kv(e,t,i,r){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(e,t,i,r){return new kv(e,t,i,r)}function zc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ln(e,t){var i=e.alternate;return i===null?(i=Qt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function _d(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function So(e,t,i,r,u,h){var v=0;if(r=e,typeof e=="function")zc(e)&&(v=1);else if(typeof e=="string")v=U_(e,i,oe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case F:return e=Qt(31,i,t,u),e.elementType=F,e.lanes=h,e;case A:return Ki(i.children,u,h,t);case S:v=8,u|=24;break;case T:return e=Qt(12,i,t,u|2),e.elementType=T,e.lanes=h,e;case M:return e=Qt(13,i,t,u),e.elementType=M,e.lanes=h,e;case E:return e=Qt(19,i,t,u),e.elementType=E,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:v=10;break e;case N:v=9;break e;case D:v=11;break e;case z:v=14;break e;case j:v=16,r=null;break e}v=29,i=Error(a(130,e===null?"null":typeof e,"")),r=null}return t=Qt(v,i,t,u),t.elementType=e,t.type=r,t.lanes=h,t}function Ki(e,t,i,r){return e=Qt(7,e,r,t),e.lanes=i,e}function Uc(e,t,i){return e=Qt(6,e,null,t),e.lanes=i,e}function bd(e){var t=Qt(18,null,null,0);return t.stateNode=e,t}function Vc(e,t,i){return t=Qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var xd=new WeakMap;function on(e,t){if(typeof e=="object"&&e!==null){var i=xd.get(e);return i!==void 0?i:(t={value:e,source:t,stack:He(t)},xd.set(e,t),t)}return{value:e,source:t,stack:He(t)}}var Is=[],Ls=0,To=null,Ga=0,ln=[],cn=0,pi=null,En=1,On="";function Hn(e,t){Is[Ls++]=Ga,Is[Ls++]=To,To=e,Ga=t}function Sd(e,t,i){ln[cn++]=En,ln[cn++]=On,ln[cn++]=pi,pi=e;var r=En;e=On;var u=32-Xt(r)-1;r&=~(1<<u),i+=1;var h=32-Xt(t)+u;if(30<h){var v=u-u%5;h=(r&(1<<v)-1).toString(32),r>>=v,u-=v,En=1<<32-Xt(t)+u|i<<u|r,On=h+e}else En=1<<h|i<<u|r,On=e}function Bc(e){e.return!==null&&(Hn(e,1),Sd(e,1,0))}function qc(e){for(;e===To;)To=Is[--Ls],Is[Ls]=null,Ga=Is[--Ls],Is[Ls]=null;for(;e===pi;)pi=ln[--cn],ln[cn]=null,On=ln[--cn],ln[cn]=null,En=ln[--cn],ln[cn]=null}function Td(e,t){ln[cn++]=En,ln[cn++]=On,ln[cn++]=pi,En=t.id,On=t.overflow,pi=e}var St=null,Ye=null,Oe=!1,mi=null,un=!1,Ic=Error(a(519));function gi(e){var t=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fa(on(t,e)),Ic}function Cd(e){var t=e.stateNode,i=e.type,r=e.memoizedProps;switch(t[xt]=e,t[jt]=r,i){case"dialog":Ce("cancel",t),Ce("close",t);break;case"iframe":case"object":case"embed":Ce("load",t);break;case"video":case"audio":for(i=0;i<fr.length;i++)Ce(fr[i],t);break;case"source":Ce("error",t);break;case"img":case"image":case"link":Ce("error",t),Ce("load",t);break;case"details":Ce("toggle",t);break;case"input":Ce("invalid",t),Vf(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Ce("invalid",t);break;case"textarea":Ce("invalid",t),qf(t,r.value,r.defaultValue,r.children)}i=r.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||r.suppressHydrationWarning===!0||Lm(t.textContent,i)?(r.popover!=null&&(Ce("beforetoggle",t),Ce("toggle",t)),r.onScroll!=null&&Ce("scroll",t),r.onScrollEnd!=null&&Ce("scrollend",t),r.onClick!=null&&(t.onclick=qn),t=!0):t=!1,t||gi(e,!0)}function wd(e){for(St=e.return;St;)switch(St.tag){case 5:case 31:case 13:un=!1;return;case 27:case 3:un=!0;return;default:St=St.return}}function Hs(e){if(e!==St)return!1;if(!Oe)return wd(e),Oe=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||sh(e.type,e.memoizedProps)),i=!i),i&&Ye&&gi(e),wd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ye=Jm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ye=Jm(e)}else t===27?(t=Ye,Ni(e.type)?(e=ch,ch=null,Ye=e):Ye=t):Ye=St?fn(e.stateNode.nextSibling):null;return!0}function Pi(){Ye=St=null,Oe=!1}function Lc(){var e=mi;return e!==null&&(qt===null?qt=e:qt.push.apply(qt,e),mi=null),e}function Fa(e){mi===null?mi=[e]:mi.push(e)}var Hc=O(null),$i=null,Gn=null;function yi(e,t,i){ie(Hc,t._currentValue),t._currentValue=i}function Fn(e){e._currentValue=Hc.current,Y(Hc)}function Gc(e,t,i){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===i)break;e=e.return}}function Fc(e,t,i,r){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var h=u.dependencies;if(h!==null){var v=u.child;h=h.firstContext;e:for(;h!==null;){var w=h;h=u;for(var R=0;R<t.length;R++)if(w.context===t[R]){h.lanes|=i,w=h.alternate,w!==null&&(w.lanes|=i),Gc(h.return,i,e),r||(v=null);break e}h=w.next}}else if(u.tag===18){if(v=u.return,v===null)throw Error(a(341));v.lanes|=i,h=v.alternate,h!==null&&(h.lanes|=i),Gc(v,i,e),v=null}else v=u.child;if(v!==null)v.return=u;else for(v=u;v!==null;){if(v===e){v=null;break}if(u=v.sibling,u!==null){u.return=v.return,v=u;break}v=v.return}u=v}}function Gs(e,t,i,r){e=null;for(var u=t,h=!1;u!==null;){if(!h){if((u.flags&524288)!==0)h=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var v=u.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var w=u.type;Zt(u.pendingProps.value,v.value)||(e!==null?e.push(w):e=[w])}}else if(u===ve.current){if(v=u.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(yr):e=[yr])}u=u.return}e!==null&&Fc(t,e,i,r),t.flags|=262144}function Co(e){for(e=e.firstContext;e!==null;){if(!Zt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function es(e){$i=e,Gn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Tt(e){return Ad($i,e)}function wo(e,t){return $i===null&&es(e),Ad(e,t)}function Ad(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},Gn===null){if(e===null)throw Error(a(308));Gn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Gn=Gn.next=t;return i}var Dv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},Rv=o.unstable_scheduleCallback,jv=o.unstable_NormalPriority,lt={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yc(){return{controller:new Dv,data:new Map,refCount:0}}function Ya(e){e.refCount--,e.refCount===0&&Rv(jv,function(){e.controller.abort()})}var Xa=null,Xc=0,Fs=0,Ys=null;function zv(e,t){if(Xa===null){var i=Xa=[];Xc=0,Fs=Wu(),Ys={status:"pending",value:void 0,then:function(r){i.push(r)}}}return Xc++,t.then(Md,Md),t}function Md(){if(--Xc===0&&Xa!==null){Ys!==null&&(Ys.status="fulfilled");var e=Xa;Xa=null,Fs=0,Ys=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Uv(e,t){var i=[],r={status:"pending",value:null,reason:null,then:function(u){i.push(u)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var u=0;u<i.length;u++)(0,i[u])(t)},function(u){for(r.status="rejected",r.reason=u,u=0;u<i.length;u++)(0,i[u])(void 0)}),r}var Ed=V.S;V.S=function(e,t){hm=bt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&zv(e,t),Ed!==null&&Ed(e,t)};var ts=O(null);function Zc(){var e=ts.current;return e!==null?e:Le.pooledCache}function Ao(e,t){t===null?ie(ts,ts.current):ie(ts,t.pool)}function Od(){var e=Zc();return e===null?null:{parent:lt._currentValue,pool:e}}var Xs=Error(a(460)),Qc=Error(a(474)),Mo=Error(a(542)),Eo={then:function(){}};function Nd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function kd(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(qn,qn),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Rd(e),e;default:if(typeof t.status=="string")t.then(qn,qn);else{if(e=Le,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=r}},function(r){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Rd(e),e}throw is=t,Xs}}function ns(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(is=i,Xs):i}}var is=null;function Dd(){if(is===null)throw Error(a(459));var e=is;return is=null,e}function Rd(e){if(e===Xs||e===Mo)throw Error(a(483))}var Zs=null,Za=0;function Oo(e){var t=Za;return Za+=1,Zs===null&&(Zs=[]),kd(Zs,e,t)}function Qa(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function No(e,t){throw t.$$typeof===_?Error(a(525)):(e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function jd(e){function t(B,U){if(e){var q=B.deletions;q===null?(B.deletions=[U],B.flags|=16):q.push(U)}}function i(B,U){if(!e)return null;for(;U!==null;)t(B,U),U=U.sibling;return null}function r(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function u(B,U){return B=Ln(B,U),B.index=0,B.sibling=null,B}function h(B,U,q){return B.index=q,e?(q=B.alternate,q!==null?(q=q.index,q<U?(B.flags|=67108866,U):q):(B.flags|=67108866,U)):(B.flags|=1048576,U)}function v(B){return e&&B.alternate===null&&(B.flags|=67108866),B}function w(B,U,q,K){return U===null||U.tag!==6?(U=Uc(q,B.mode,K),U.return=B,U):(U=u(U,q),U.return=B,U)}function R(B,U,q,K){var pe=q.type;return pe===A?W(B,U,q.props.children,K,q.key):U!==null&&(U.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===j&&ns(pe)===U.type)?(U=u(U,q.props),Qa(U,q),U.return=B,U):(U=So(q.type,q.key,q.props,null,B.mode,K),Qa(U,q),U.return=B,U)}function I(B,U,q,K){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=Vc(q,B.mode,K),U.return=B,U):(U=u(U,q.children||[]),U.return=B,U)}function W(B,U,q,K,pe){return U===null||U.tag!==7?(U=Ki(q,B.mode,K,pe),U.return=B,U):(U=u(U,q),U.return=B,U)}function P(B,U,q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Uc(""+U,B.mode,q),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case b:return q=So(U.type,U.key,U.props,null,B.mode,q),Qa(q,U),q.return=B,q;case C:return U=Vc(U,B.mode,q),U.return=B,U;case j:return U=ns(U),P(B,U,q)}if(ne(U)||H(U))return U=Ki(U,B.mode,q,null),U.return=B,U;if(typeof U.then=="function")return P(B,Oo(U),q);if(U.$$typeof===k)return P(B,wo(B,U),q);No(B,U)}return null}function L(B,U,q,K){var pe=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return pe!==null?null:w(B,U,""+q,K);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return q.key===pe?R(B,U,q,K):null;case C:return q.key===pe?I(B,U,q,K):null;case j:return q=ns(q),L(B,U,q,K)}if(ne(q)||H(q))return pe!==null?null:W(B,U,q,K,null);if(typeof q.then=="function")return L(B,U,Oo(q),K);if(q.$$typeof===k)return L(B,U,wo(B,q),K);No(B,q)}return null}function X(B,U,q,K,pe){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return B=B.get(q)||null,w(U,B,""+K,pe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return B=B.get(K.key===null?q:K.key)||null,R(U,B,K,pe);case C:return B=B.get(K.key===null?q:K.key)||null,I(U,B,K,pe);case j:return K=ns(K),X(B,U,q,K,pe)}if(ne(K)||H(K))return B=B.get(q)||null,W(U,B,K,pe,null);if(typeof K.then=="function")return X(B,U,q,Oo(K),pe);if(K.$$typeof===k)return X(B,U,q,wo(U,K),pe);No(U,K)}return null}function he(B,U,q,K){for(var pe=null,Ne=null,de=U,xe=U=0,Ae=null;de!==null&&xe<q.length;xe++){de.index>xe?(Ae=de,de=null):Ae=de.sibling;var ke=L(B,de,q[xe],K);if(ke===null){de===null&&(de=Ae);break}e&&de&&ke.alternate===null&&t(B,de),U=h(ke,U,xe),Ne===null?pe=ke:Ne.sibling=ke,Ne=ke,de=Ae}if(xe===q.length)return i(B,de),Oe&&Hn(B,xe),pe;if(de===null){for(;xe<q.length;xe++)de=P(B,q[xe],K),de!==null&&(U=h(de,U,xe),Ne===null?pe=de:Ne.sibling=de,Ne=de);return Oe&&Hn(B,xe),pe}for(de=r(de);xe<q.length;xe++)Ae=X(de,B,xe,q[xe],K),Ae!==null&&(e&&Ae.alternate!==null&&de.delete(Ae.key===null?xe:Ae.key),U=h(Ae,U,xe),Ne===null?pe=Ae:Ne.sibling=Ae,Ne=Ae);return e&&de.forEach(function(zi){return t(B,zi)}),Oe&&Hn(B,xe),pe}function ge(B,U,q,K){if(q==null)throw Error(a(151));for(var pe=null,Ne=null,de=U,xe=U=0,Ae=null,ke=q.next();de!==null&&!ke.done;xe++,ke=q.next()){de.index>xe?(Ae=de,de=null):Ae=de.sibling;var zi=L(B,de,ke.value,K);if(zi===null){de===null&&(de=Ae);break}e&&de&&zi.alternate===null&&t(B,de),U=h(zi,U,xe),Ne===null?pe=zi:Ne.sibling=zi,Ne=zi,de=Ae}if(ke.done)return i(B,de),Oe&&Hn(B,xe),pe;if(de===null){for(;!ke.done;xe++,ke=q.next())ke=P(B,ke.value,K),ke!==null&&(U=h(ke,U,xe),Ne===null?pe=ke:Ne.sibling=ke,Ne=ke);return Oe&&Hn(B,xe),pe}for(de=r(de);!ke.done;xe++,ke=q.next())ke=X(de,B,xe,ke.value,K),ke!==null&&(e&&ke.alternate!==null&&de.delete(ke.key===null?xe:ke.key),U=h(ke,U,xe),Ne===null?pe=ke:Ne.sibling=ke,Ne=ke);return e&&de.forEach(function(Z_){return t(B,Z_)}),Oe&&Hn(B,xe),pe}function Be(B,U,q,K){if(typeof q=="object"&&q!==null&&q.type===A&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case b:e:{for(var pe=q.key;U!==null;){if(U.key===pe){if(pe=q.type,pe===A){if(U.tag===7){i(B,U.sibling),K=u(U,q.props.children),K.return=B,B=K;break e}}else if(U.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===j&&ns(pe)===U.type){i(B,U.sibling),K=u(U,q.props),Qa(K,q),K.return=B,B=K;break e}i(B,U);break}else t(B,U);U=U.sibling}q.type===A?(K=Ki(q.props.children,B.mode,K,q.key),K.return=B,B=K):(K=So(q.type,q.key,q.props,null,B.mode,K),Qa(K,q),K.return=B,B=K)}return v(B);case C:e:{for(pe=q.key;U!==null;){if(U.key===pe)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){i(B,U.sibling),K=u(U,q.children||[]),K.return=B,B=K;break e}else{i(B,U);break}else t(B,U);U=U.sibling}K=Vc(q,B.mode,K),K.return=B,B=K}return v(B);case j:return q=ns(q),Be(B,U,q,K)}if(ne(q))return he(B,U,q,K);if(H(q)){if(pe=H(q),typeof pe!="function")throw Error(a(150));return q=pe.call(q),ge(B,U,q,K)}if(typeof q.then=="function")return Be(B,U,Oo(q),K);if(q.$$typeof===k)return Be(B,U,wo(B,q),K);No(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,U!==null&&U.tag===6?(i(B,U.sibling),K=u(U,q),K.return=B,B=K):(i(B,U),K=Uc(q,B.mode,K),K.return=B,B=K),v(B)):i(B,U)}return function(B,U,q,K){try{Za=0;var pe=Be(B,U,q,K);return Zs=null,pe}catch(de){if(de===Xs||de===Mo)throw de;var Ne=Qt(29,de,null,B.mode);return Ne.lanes=K,Ne.return=B,Ne}finally{}}}var ss=jd(!0),zd=jd(!1),vi=!1;function Wc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _i(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bi(e,t,i){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(De&2)!==0){var u=r.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),r.pending=t,t=xo(e),vd(e,null,i),t}return bo(e,r,t,i),xo(e)}function Wa(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,Af(e,i)}}function Kc(e,t){var i=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var u=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var v={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?u=h=v:h=h.next=v,i=i.next}while(i!==null);h===null?u=h=t:h=h.next=t}else u=h=t;i={baseState:r.baseState,firstBaseUpdate:u,lastBaseUpdate:h,shared:r.shared,callbacks:r.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Pc=!1;function Ja(){if(Pc){var e=Ys;if(e!==null)throw e}}function Ka(e,t,i,r){Pc=!1;var u=e.updateQueue;vi=!1;var h=u.firstBaseUpdate,v=u.lastBaseUpdate,w=u.shared.pending;if(w!==null){u.shared.pending=null;var R=w,I=R.next;R.next=null,v===null?h=I:v.next=I,v=R;var W=e.alternate;W!==null&&(W=W.updateQueue,w=W.lastBaseUpdate,w!==v&&(w===null?W.firstBaseUpdate=I:w.next=I,W.lastBaseUpdate=R))}if(h!==null){var P=u.baseState;v=0,W=I=R=null,w=h;do{var L=w.lane&-536870913,X=L!==w.lane;if(X?(we&L)===L:(r&L)===L){L!==0&&L===Fs&&(Pc=!0),W!==null&&(W=W.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var he=e,ge=w;L=t;var Be=i;switch(ge.tag){case 1:if(he=ge.payload,typeof he=="function"){P=he.call(Be,P,L);break e}P=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ge.payload,L=typeof he=="function"?he.call(Be,P,L):he,L==null)break e;P=y({},P,L);break e;case 2:vi=!0}}L=w.callback,L!==null&&(e.flags|=64,X&&(e.flags|=8192),X=u.callbacks,X===null?u.callbacks=[L]:X.push(L))}else X={lane:L,tag:w.tag,payload:w.payload,callback:w.callback,next:null},W===null?(I=W=X,R=P):W=W.next=X,v|=L;if(w=w.next,w===null){if(w=u.shared.pending,w===null)break;X=w,w=X.next,X.next=null,u.lastBaseUpdate=X,u.shared.pending=null}}while(!0);W===null&&(R=P),u.baseState=R,u.firstBaseUpdate=I,u.lastBaseUpdate=W,h===null&&(u.shared.lanes=0),wi|=v,e.lanes=v,e.memoizedState=P}}function Ud(e,t){if(typeof e!="function")throw Error(a(191,e));e.call(t)}function Vd(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Ud(i[e],t)}var Qs=O(null),ko=O(0);function Bd(e,t){e=$n,ie(ko,e),ie(Qs,t),$n=e|t.baseLanes}function $c(){ie(ko,$n),ie(Qs,Qs.current)}function eu(){$n=ko.current,Y(Qs),Y(ko)}var Wt=O(null),hn=null;function xi(e){var t=e.alternate;ie(it,it.current&1),ie(Wt,e),hn===null&&(t===null||Qs.current!==null||t.memoizedState!==null)&&(hn=e)}function tu(e){ie(it,it.current),ie(Wt,e),hn===null&&(hn=e)}function qd(e){e.tag===22?(ie(it,it.current),ie(Wt,e),hn===null&&(hn=e)):Si()}function Si(){ie(it,it.current),ie(Wt,Wt.current)}function Jt(e){Y(Wt),hn===e&&(hn=null),Y(it)}var it=O(0);function Do(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||oh(i)||lh(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Yn=0,be=null,Ue=null,ct=null,Ro=!1,Ws=!1,as=!1,jo=0,Pa=0,Js=null,Vv=0;function Pe(){throw Error(a(321))}function nu(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Zt(e[i],t[i]))return!1;return!0}function iu(e,t,i,r,u,h){return Yn=h,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,V.H=e===null||e.memoizedState===null?Sp:vu,as=!1,h=i(r,u),as=!1,Ws&&(h=Ld(t,i,r,u)),Id(e),h}function Id(e){V.H=tr;var t=Ue!==null&&Ue.next!==null;if(Yn=0,ct=Ue=be=null,Ro=!1,Pa=0,Js=null,t)throw Error(a(300));e===null||ut||(e=e.dependencies,e!==null&&Co(e)&&(ut=!0))}function Ld(e,t,i,r){be=e;var u=0;do{if(Ws&&(Js=null),Pa=0,Ws=!1,25<=u)throw Error(a(301));if(u+=1,ct=Ue=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}V.H=Tp,h=t(i,r)}while(Ws);return h}function Bv(){var e=V.H,t=e.useState()[0];return t=typeof t.then=="function"?$a(t):t,e=e.useState()[0],(Ue!==null?Ue.memoizedState:null)!==e&&(be.flags|=1024),t}function su(){var e=jo!==0;return jo=0,e}function au(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function ru(e){if(Ro){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ro=!1}Yn=0,ct=Ue=be=null,Ws=!1,Pa=jo=0,Js=null}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?be.memoizedState=ct=e:ct=ct.next=e,ct}function st(){if(Ue===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=ct===null?be.memoizedState:ct.next;if(t!==null)ct=t,Ue=e;else{if(e===null)throw be.alternate===null?Error(a(467)):Error(a(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},ct===null?be.memoizedState=ct=e:ct=ct.next=e}return ct}function zo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $a(e){var t=Pa;return Pa+=1,Js===null&&(Js=[]),e=kd(Js,e,t),t=be,(ct===null?t.memoizedState:ct.next)===null&&(t=t.alternate,V.H=t===null||t.memoizedState===null?Sp:vu),e}function Uo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $a(e);if(e.$$typeof===k)return Tt(e)}throw Error(a(438,String(e)))}function ou(e){var t=null,i=be.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var r=be.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=zo(),be.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),r=0;r<e;r++)i[r]=J;return t.index++,i}function Xn(e,t){return typeof t=="function"?t(e):t}function Vo(e){var t=st();return lu(t,Ue,e)}function lu(e,t,i){var r=e.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=i;var u=e.baseQueue,h=r.pending;if(h!==null){if(u!==null){var v=u.next;u.next=h.next,h.next=v}t.baseQueue=u=h,r.pending=null}if(h=e.baseState,u===null)e.memoizedState=h;else{t=u.next;var w=v=null,R=null,I=t,W=!1;do{var P=I.lane&-536870913;if(P!==I.lane?(we&P)===P:(Yn&P)===P){var L=I.revertLane;if(L===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),P===Fs&&(W=!0);else if((Yn&L)===L){I=I.next,L===Fs&&(W=!0);continue}else P={lane:0,revertLane:I.revertLane,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},R===null?(w=R=P,v=h):R=R.next=P,be.lanes|=L,wi|=L;P=I.action,as&&i(h,P),h=I.hasEagerState?I.eagerState:i(h,P)}else L={lane:P,revertLane:I.revertLane,gesture:I.gesture,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},R===null?(w=R=L,v=h):R=R.next=L,be.lanes|=P,wi|=P;I=I.next}while(I!==null&&I!==t);if(R===null?v=h:R.next=w,!Zt(h,e.memoizedState)&&(ut=!0,W&&(i=Ys,i!==null)))throw i;e.memoizedState=h,e.baseState=v,e.baseQueue=R,r.lastRenderedState=h}return u===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function cu(e){var t=st(),i=t.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=e;var r=i.dispatch,u=i.pending,h=t.memoizedState;if(u!==null){i.pending=null;var v=u=u.next;do h=e(h,v.action),v=v.next;while(v!==u);Zt(h,t.memoizedState)||(ut=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),i.lastRenderedState=h}return[h,r]}function Hd(e,t,i){var r=be,u=st(),h=Oe;if(h){if(i===void 0)throw Error(a(407));i=i()}else i=t();var v=!Zt((Ue||u).memoizedState,i);if(v&&(u.memoizedState=i,ut=!0),u=u.queue,fu(Yd.bind(null,r,u,e),[e]),u.getSnapshot!==t||v||ct!==null&&ct.memoizedState.tag&1){if(r.flags|=2048,Ks(9,{destroy:void 0},Fd.bind(null,r,u,i,t),null),Le===null)throw Error(a(349));h||(Yn&127)!==0||Gd(r,t,i)}return i}function Gd(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=be.updateQueue,t===null?(t=zo(),be.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Fd(e,t,i,r){t.value=i,t.getSnapshot=r,Xd(t)&&Zd(e)}function Yd(e,t,i){return i(function(){Xd(t)&&Zd(e)})}function Xd(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Zt(e,i)}catch{return!0}}function Zd(e){var t=Ji(e,2);t!==null&&It(t,e,2)}function uu(e){var t=Nt();if(typeof e=="function"){var i=e;if(e=i(),as){hi(!0);try{i()}finally{hi(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xn,lastRenderedState:e},t}function Qd(e,t,i,r){return e.baseState=i,lu(e,Ue,typeof r=="function"?r:Xn)}function qv(e,t,i,r,u){if(Io(e))throw Error(a(485));if(e=t.action,e!==null){var h={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){h.listeners.push(v)}};V.T!==null?i(!0):h.isTransition=!1,r(h),i=t.pending,i===null?(h.next=t.pending=h,Wd(t,h)):(h.next=i.next,t.pending=i.next=h)}}function Wd(e,t){var i=t.action,r=t.payload,u=e.state;if(t.isTransition){var h=V.T,v={};V.T=v;try{var w=i(u,r),R=V.S;R!==null&&R(v,w),Jd(e,t,w)}catch(I){hu(e,t,I)}finally{h!==null&&v.types!==null&&(h.types=v.types),V.T=h}}else try{h=i(u,r),Jd(e,t,h)}catch(I){hu(e,t,I)}}function Jd(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(r){Kd(e,t,r)},function(r){return hu(e,t,r)}):Kd(e,t,i)}function Kd(e,t,i){t.status="fulfilled",t.value=i,Pd(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,Wd(e,i)))}function hu(e,t,i){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=i,Pd(t),t=t.next;while(t!==r)}e.action=null}function Pd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function $d(e,t){return t}function ep(e,t){if(Oe){var i=Le.formState;if(i!==null){e:{var r=be;if(Oe){if(Ye){t:{for(var u=Ye,h=un;u.nodeType!==8;){if(!h){u=null;break t}if(u=fn(u.nextSibling),u===null){u=null;break t}}h=u.data,u=h==="F!"||h==="F"?u:null}if(u){Ye=fn(u.nextSibling),r=u.data==="F!";break e}}gi(r)}r=!1}r&&(t=i[0])}}return i=Nt(),i.memoizedState=i.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$d,lastRenderedState:t},i.queue=r,i=_p.bind(null,be,r),r.dispatch=i,r=uu(!1),h=yu.bind(null,be,!1,r.queue),r=Nt(),u={state:t,dispatch:null,action:e,pending:null},r.queue=u,i=qv.bind(null,be,u,h,i),u.dispatch=i,r.memoizedState=e,[t,i,!1]}function tp(e){var t=st();return np(t,Ue,e)}function np(e,t,i){if(t=lu(e,t,$d)[0],e=Vo(Xn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=$a(t)}catch(v){throw v===Xs?Mo:v}else r=t;t=st();var u=t.queue,h=u.dispatch;return i!==t.memoizedState&&(be.flags|=2048,Ks(9,{destroy:void 0},Iv.bind(null,u,i),null)),[r,h,e]}function Iv(e,t){e.action=t}function ip(e){var t=st(),i=Ue;if(i!==null)return np(t,i,e);st(),t=t.memoizedState,i=st();var r=i.queue.dispatch;return i.memoizedState=e,[t,r,!1]}function Ks(e,t,i,r){return e={tag:e,create:i,deps:r,inst:t,next:null},t=be.updateQueue,t===null&&(t=zo(),be.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(r=i.next,i.next=e,e.next=r,t.lastEffect=e),e}function sp(){return st().memoizedState}function Bo(e,t,i,r){var u=Nt();be.flags|=e,u.memoizedState=Ks(1|t,{destroy:void 0},i,r===void 0?null:r)}function qo(e,t,i,r){var u=st();r=r===void 0?null:r;var h=u.memoizedState.inst;Ue!==null&&r!==null&&nu(r,Ue.memoizedState.deps)?u.memoizedState=Ks(t,h,i,r):(be.flags|=e,u.memoizedState=Ks(1|t,h,i,r))}function ap(e,t){Bo(8390656,8,e,t)}function fu(e,t){qo(2048,8,e,t)}function Lv(e){be.flags|=4;var t=be.updateQueue;if(t===null)t=zo(),be.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function rp(e){var t=st().memoizedState;return Lv({ref:t,nextImpl:e}),function(){if((De&2)!==0)throw Error(a(440));return t.impl.apply(void 0,arguments)}}function op(e,t){return qo(4,2,e,t)}function lp(e,t){return qo(4,4,e,t)}function cp(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function up(e,t,i){i=i!=null?i.concat([e]):null,qo(4,4,cp.bind(null,t,e),i)}function du(){}function hp(e,t){var i=st();t=t===void 0?null:t;var r=i.memoizedState;return t!==null&&nu(t,r[1])?r[0]:(i.memoizedState=[e,t],e)}function fp(e,t){var i=st();t=t===void 0?null:t;var r=i.memoizedState;if(t!==null&&nu(t,r[1]))return r[0];if(r=e(),as){hi(!0);try{e()}finally{hi(!1)}}return i.memoizedState=[r,t],r}function pu(e,t,i){return i===void 0||(Yn&1073741824)!==0&&(we&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=dm(),be.lanes|=e,wi|=e,i)}function dp(e,t,i,r){return Zt(i,t)?i:Qs.current!==null?(e=pu(e,i,r),Zt(e,t)||(ut=!0),e):(Yn&42)===0||(Yn&1073741824)!==0&&(we&261930)===0?(ut=!0,e.memoizedState=i):(e=dm(),be.lanes|=e,wi|=e,t)}function pp(e,t,i,r,u){var h=G.p;G.p=h!==0&&8>h?h:8;var v=V.T,w={};V.T=w,yu(e,!1,t,i);try{var R=u(),I=V.S;if(I!==null&&I(w,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var W=Uv(R,r);er(e,t,W,$t(e))}else er(e,t,r,$t(e))}catch(P){er(e,t,{then:function(){},status:"rejected",reason:P},$t())}finally{G.p=h,v!==null&&w.types!==null&&(v.types=w.types),V.T=v}}function Hv(){}function mu(e,t,i,r){if(e.tag!==5)throw Error(a(476));var u=mp(e).queue;pp(e,u,t,ee,i===null?Hv:function(){return gp(e),i(r)})}function mp(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xn,lastRenderedState:ee},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xn,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function gp(e){var t=mp(e);t.next===null&&(t=e.alternate.memoizedState),er(e,t.next.queue,{},$t())}function gu(){return Tt(yr)}function yp(){return st().memoizedState}function vp(){return st().memoizedState}function Gv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=$t();e=_i(i);var r=bi(t,e,i);r!==null&&(It(r,t,i),Wa(r,t,i)),t={cache:Yc()},e.payload=t;return}t=t.return}}function Fv(e,t,i){var r=$t();i={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Io(e)?bp(t,i):(i=jc(e,t,i,r),i!==null&&(It(i,e,r),xp(i,t,r)))}function _p(e,t,i){var r=$t();er(e,t,i,r)}function er(e,t,i,r){var u={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Io(e))bp(t,u);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var v=t.lastRenderedState,w=h(v,i);if(u.hasEagerState=!0,u.eagerState=w,Zt(w,v))return bo(e,t,u,0),Le===null&&_o(),!1}catch{}finally{}if(i=jc(e,t,u,r),i!==null)return It(i,e,r),xp(i,t,r),!0}return!1}function yu(e,t,i,r){if(r={lane:2,revertLane:Wu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Io(e)){if(t)throw Error(a(479))}else t=jc(e,i,r,2),t!==null&&It(t,e,2)}function Io(e){var t=e.alternate;return e===be||t!==null&&t===be}function bp(e,t){Ws=Ro=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function xp(e,t,i){if((i&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,Af(e,i)}}var tr={readContext:Tt,use:Uo,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe};tr.useEffectEvent=Pe;var Sp={readContext:Tt,use:Uo,useCallback:function(e,t){return Nt().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:ap,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Bo(4194308,4,cp.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){Bo(4,2,e,t)},useMemo:function(e,t){var i=Nt();t=t===void 0?null:t;var r=e();if(as){hi(!0);try{e()}finally{hi(!1)}}return i.memoizedState=[r,t],r},useReducer:function(e,t,i){var r=Nt();if(i!==void 0){var u=i(t);if(as){hi(!0);try{i(t)}finally{hi(!1)}}}else u=t;return r.memoizedState=r.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},r.queue=e,e=e.dispatch=Fv.bind(null,be,e),[r.memoizedState,e]},useRef:function(e){var t=Nt();return e={current:e},t.memoizedState=e},useState:function(e){e=uu(e);var t=e.queue,i=_p.bind(null,be,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:du,useDeferredValue:function(e,t){var i=Nt();return pu(i,e,t)},useTransition:function(){var e=uu(!1);return e=pp.bind(null,be,e.queue,!0,!1),Nt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var r=be,u=Nt();if(Oe){if(i===void 0)throw Error(a(407));i=i()}else{if(i=t(),Le===null)throw Error(a(349));(we&127)!==0||Gd(r,t,i)}u.memoizedState=i;var h={value:i,getSnapshot:t};return u.queue=h,ap(Yd.bind(null,r,h,e),[e]),r.flags|=2048,Ks(9,{destroy:void 0},Fd.bind(null,r,h,i,t),null),i},useId:function(){var e=Nt(),t=Le.identifierPrefix;if(Oe){var i=On,r=En;i=(r&~(1<<32-Xt(r)-1)).toString(32)+i,t="_"+t+"R_"+i,i=jo++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=Vv++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:gu,useFormState:ep,useActionState:ep,useOptimistic:function(e){var t=Nt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=yu.bind(null,be,!0,i),i.dispatch=t,[e,t]},useMemoCache:ou,useCacheRefresh:function(){return Nt().memoizedState=Gv.bind(null,be)},useEffectEvent:function(e){var t=Nt(),i={impl:e};return t.memoizedState=i,function(){if((De&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}},vu={readContext:Tt,use:Uo,useCallback:hp,useContext:Tt,useEffect:fu,useImperativeHandle:up,useInsertionEffect:op,useLayoutEffect:lp,useMemo:fp,useReducer:Vo,useRef:sp,useState:function(){return Vo(Xn)},useDebugValue:du,useDeferredValue:function(e,t){var i=st();return dp(i,Ue.memoizedState,e,t)},useTransition:function(){var e=Vo(Xn)[0],t=st().memoizedState;return[typeof e=="boolean"?e:$a(e),t]},useSyncExternalStore:Hd,useId:yp,useHostTransitionStatus:gu,useFormState:tp,useActionState:tp,useOptimistic:function(e,t){var i=st();return Qd(i,Ue,e,t)},useMemoCache:ou,useCacheRefresh:vp};vu.useEffectEvent=rp;var Tp={readContext:Tt,use:Uo,useCallback:hp,useContext:Tt,useEffect:fu,useImperativeHandle:up,useInsertionEffect:op,useLayoutEffect:lp,useMemo:fp,useReducer:cu,useRef:sp,useState:function(){return cu(Xn)},useDebugValue:du,useDeferredValue:function(e,t){var i=st();return Ue===null?pu(i,e,t):dp(i,Ue.memoizedState,e,t)},useTransition:function(){var e=cu(Xn)[0],t=st().memoizedState;return[typeof e=="boolean"?e:$a(e),t]},useSyncExternalStore:Hd,useId:yp,useHostTransitionStatus:gu,useFormState:ip,useActionState:ip,useOptimistic:function(e,t){var i=st();return Ue!==null?Qd(i,Ue,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:ou,useCacheRefresh:vp};Tp.useEffectEvent=rp;function _u(e,t,i,r){t=e.memoizedState,i=i(r,t),i=i==null?t:y({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var bu={enqueueSetState:function(e,t,i){e=e._reactInternals;var r=$t(),u=_i(r);u.payload=t,i!=null&&(u.callback=i),t=bi(e,u,r),t!==null&&(It(t,e,r),Wa(t,e,r))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var r=$t(),u=_i(r);u.tag=1,u.payload=t,i!=null&&(u.callback=i),t=bi(e,u,r),t!==null&&(It(t,e,r),Wa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=$t(),r=_i(i);r.tag=2,t!=null&&(r.callback=t),t=bi(e,r,i),t!==null&&(It(t,e,i),Wa(t,e,i))}};function Cp(e,t,i,r,u,h,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,h,v):t.prototype&&t.prototype.isPureReactComponent?!La(i,r)||!La(u,h):!0}function wp(e,t,i,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,r),t.state!==e&&bu.enqueueReplaceState(t,t.state,null)}function rs(e,t){var i=t;if("ref"in t){i={};for(var r in t)r!=="ref"&&(i[r]=t[r])}if(e=e.defaultProps){i===t&&(i=y({},i));for(var u in e)i[u]===void 0&&(i[u]=e[u])}return i}function Ap(e){vo(e)}function Mp(e){console.error(e)}function Ep(e){vo(e)}function Lo(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Op(e,t,i){try{var r=e.onCaughtError;r(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function xu(e,t,i){return i=_i(i),i.tag=3,i.payload={element:null},i.callback=function(){Lo(e,t)},i}function Np(e){return e=_i(e),e.tag=3,e}function kp(e,t,i,r){var u=i.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;e.payload=function(){return u(h)},e.callback=function(){Op(t,i,r)}}var v=i.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Op(t,i,r),typeof u!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var w=r.stack;this.componentDidCatch(r.value,{componentStack:w!==null?w:""})})}function Yv(e,t,i,r,u){if(i.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=i.alternate,t!==null&&Gs(t,i,u,!0),i=Wt.current,i!==null){switch(i.tag){case 31:case 13:return hn===null?$o():i.alternate===null&&$e===0&&($e=3),i.flags&=-257,i.flags|=65536,i.lanes=u,r===Eo?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([r]):t.add(r),Xu(e,r,u)),!1;case 22:return i.flags|=65536,r===Eo?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([r]):i.add(r)),Xu(e,r,u)),!1}throw Error(a(435,i.tag))}return Xu(e,r,u),$o(),!1}if(Oe)return t=Wt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,r!==Ic&&(e=Error(a(422),{cause:r}),Fa(on(e,i)))):(r!==Ic&&(t=Error(a(423),{cause:r}),Fa(on(t,i))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,r=on(r,i),u=xu(e.stateNode,r,u),Kc(e,u),$e!==4&&($e=2)),!1;var h=Error(a(520),{cause:r});if(h=on(h,i),cr===null?cr=[h]:cr.push(h),$e!==4&&($e=2),t===null)return!0;r=on(r,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=u&-u,i.lanes|=e,e=xu(i.stateNode,r,e),Kc(i,e),!1;case 1:if(t=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ai===null||!Ai.has(h))))return i.flags|=65536,u&=-u,i.lanes|=u,u=Np(u),kp(u,e,i,r),Kc(i,u),!1}i=i.return}while(i!==null);return!1}var Su=Error(a(461)),ut=!1;function Ct(e,t,i,r){t.child=e===null?zd(t,null,i,r):ss(t,e.child,i,r)}function Dp(e,t,i,r,u){i=i.render;var h=t.ref;if("ref"in r){var v={};for(var w in r)w!=="ref"&&(v[w]=r[w])}else v=r;return es(t),r=iu(e,t,i,v,h,u),w=su(),e!==null&&!ut?(au(e,t,u),Zn(e,t,u)):(Oe&&w&&Bc(t),t.flags|=1,Ct(e,t,r,u),t.child)}function Rp(e,t,i,r,u){if(e===null){var h=i.type;return typeof h=="function"&&!zc(h)&&h.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=h,jp(e,t,h,r,u)):(e=So(i.type,null,r,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!Nu(e,u)){var v=h.memoizedProps;if(i=i.compare,i=i!==null?i:La,i(v,r)&&e.ref===t.ref)return Zn(e,t,u)}return t.flags|=1,e=Ln(h,r),e.ref=t.ref,e.return=t,t.child=e}function jp(e,t,i,r,u){if(e!==null){var h=e.memoizedProps;if(La(h,r)&&e.ref===t.ref)if(ut=!1,t.pendingProps=r=h,Nu(e,u))(e.flags&131072)!==0&&(ut=!0);else return t.lanes=e.lanes,Zn(e,t,u)}return Tu(e,t,i,r,u)}function zp(e,t,i,r){var u=r.children,h=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(h=h!==null?h.baseLanes|i:i,e!==null){for(r=t.child=e.child,u=0;r!==null;)u=u|r.lanes|r.childLanes,r=r.sibling;r=u&~h}else r=0,t.child=null;return Up(e,t,h,i,r)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ao(t,h!==null?h.cachePool:null),h!==null?Bd(t,h):$c(),qd(t);else return r=t.lanes=536870912,Up(e,t,h!==null?h.baseLanes|i:i,i,r)}else h!==null?(Ao(t,h.cachePool),Bd(t,h),Si(),t.memoizedState=null):(e!==null&&Ao(t,null),$c(),Si());return Ct(e,t,u,i),t.child}function nr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Up(e,t,i,r,u){var h=Zc();return h=h===null?null:{parent:lt._currentValue,pool:h},t.memoizedState={baseLanes:i,cachePool:h},e!==null&&Ao(t,null),$c(),qd(t),e!==null&&Gs(e,t,r,!0),t.childLanes=u,null}function Ho(e,t){return t=Fo({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Vp(e,t,i){return ss(t,e.child,null,i),e=Ho(t,t.pendingProps),e.flags|=2,Jt(t),t.memoizedState=null,e}function Xv(e,t,i){var r=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Oe){if(r.mode==="hidden")return e=Ho(t,r),t.lanes=536870912,nr(null,e);if(tu(t),(e=Ye)?(e=Wm(e,un),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:pi!==null?{id:En,overflow:On}:null,retryLane:536870912,hydrationErrors:null},i=bd(e),i.return=t,t.child=i,St=t,Ye=null)):e=null,e===null)throw gi(t);return t.lanes=536870912,null}return Ho(t,r)}var h=e.memoizedState;if(h!==null){var v=h.dehydrated;if(tu(t),u)if(t.flags&256)t.flags&=-257,t=Vp(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(a(558));else if(ut||Gs(e,t,i,!1),u=(i&e.childLanes)!==0,ut||u){if(r=Le,r!==null&&(v=Mf(r,i),v!==0&&v!==h.retryLane))throw h.retryLane=v,Ji(e,v),It(r,e,v),Su;$o(),t=Vp(e,t,i)}else e=h.treeContext,Ye=fn(v.nextSibling),St=t,Oe=!0,mi=null,un=!1,e!==null&&Td(t,e),t=Ho(t,r),t.flags|=4096;return t}return e=Ln(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Go(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Tu(e,t,i,r,u){return es(t),i=iu(e,t,i,r,void 0,u),r=su(),e!==null&&!ut?(au(e,t,u),Zn(e,t,u)):(Oe&&r&&Bc(t),t.flags|=1,Ct(e,t,i,u),t.child)}function Bp(e,t,i,r,u,h){return es(t),t.updateQueue=null,i=Ld(t,r,i,u),Id(e),r=su(),e!==null&&!ut?(au(e,t,h),Zn(e,t,h)):(Oe&&r&&Bc(t),t.flags|=1,Ct(e,t,i,h),t.child)}function qp(e,t,i,r,u){if(es(t),t.stateNode===null){var h=qs,v=i.contextType;typeof v=="object"&&v!==null&&(h=Tt(v)),h=new i(r,h),t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=bu,t.stateNode=h,h._reactInternals=t,h=t.stateNode,h.props=r,h.state=t.memoizedState,h.refs={},Wc(t),v=i.contextType,h.context=typeof v=="object"&&v!==null?Tt(v):qs,h.state=t.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(_u(t,i,v,r),h.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(v=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),v!==h.state&&bu.enqueueReplaceState(h,h.state,null),Ka(t,r,h,u),Ja(),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){h=t.stateNode;var w=t.memoizedProps,R=rs(i,w);h.props=R;var I=h.context,W=i.contextType;v=qs,typeof W=="object"&&W!==null&&(v=Tt(W));var P=i.getDerivedStateFromProps;W=typeof P=="function"||typeof h.getSnapshotBeforeUpdate=="function",w=t.pendingProps!==w,W||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(w||I!==v)&&wp(t,h,r,v),vi=!1;var L=t.memoizedState;h.state=L,Ka(t,r,h,u),Ja(),I=t.memoizedState,w||L!==I||vi?(typeof P=="function"&&(_u(t,i,P,r),I=t.memoizedState),(R=vi||Cp(t,i,R,r,L,I,v))?(W||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=I),h.props=r,h.state=I,h.context=v,r=R):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{h=t.stateNode,Jc(e,t),v=t.memoizedProps,W=rs(i,v),h.props=W,P=t.pendingProps,L=h.context,I=i.contextType,R=qs,typeof I=="object"&&I!==null&&(R=Tt(I)),w=i.getDerivedStateFromProps,(I=typeof w=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v!==P||L!==R)&&wp(t,h,r,R),vi=!1,L=t.memoizedState,h.state=L,Ka(t,r,h,u),Ja();var X=t.memoizedState;v!==P||L!==X||vi||e!==null&&e.dependencies!==null&&Co(e.dependencies)?(typeof w=="function"&&(_u(t,i,w,r),X=t.memoizedState),(W=vi||Cp(t,i,W,r,L,X,R)||e!==null&&e.dependencies!==null&&Co(e.dependencies))?(I||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(r,X,R),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(r,X,R)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||v===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=X),h.props=r,h.state=X,h.context=R,r=W):(typeof h.componentDidUpdate!="function"||v===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),r=!1)}return h=r,Go(e,t),r=(t.flags&128)!==0,h||r?(h=t.stateNode,i=r&&typeof i.getDerivedStateFromError!="function"?null:h.render(),t.flags|=1,e!==null&&r?(t.child=ss(t,e.child,null,u),t.child=ss(t,null,i,u)):Ct(e,t,i,u),t.memoizedState=h.state,e=t.child):e=Zn(e,t,u),e}function Ip(e,t,i,r){return Pi(),t.flags|=256,Ct(e,t,i,r),t.child}var Cu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wu(e){return{baseLanes:e,cachePool:Od()}}function Au(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Pt),e}function Lp(e,t,i){var r=t.pendingProps,u=!1,h=(t.flags&128)!==0,v;if((v=h)||(v=e!==null&&e.memoizedState===null?!1:(it.current&2)!==0),v&&(u=!0,t.flags&=-129),v=(t.flags&32)!==0,t.flags&=-33,e===null){if(Oe){if(u?xi(t):Si(),(e=Ye)?(e=Wm(e,un),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:pi!==null?{id:En,overflow:On}:null,retryLane:536870912,hydrationErrors:null},i=bd(e),i.return=t,t.child=i,St=t,Ye=null)):e=null,e===null)throw gi(t);return lh(e)?t.lanes=32:t.lanes=536870912,null}var w=r.children;return r=r.fallback,u?(Si(),u=t.mode,w=Fo({mode:"hidden",children:w},u),r=Ki(r,u,i,null),w.return=t,r.return=t,w.sibling=r,t.child=w,r=t.child,r.memoizedState=wu(i),r.childLanes=Au(e,v,i),t.memoizedState=Cu,nr(null,r)):(xi(t),Mu(t,w))}var R=e.memoizedState;if(R!==null&&(w=R.dehydrated,w!==null)){if(h)t.flags&256?(xi(t),t.flags&=-257,t=Eu(e,t,i)):t.memoizedState!==null?(Si(),t.child=e.child,t.flags|=128,t=null):(Si(),w=r.fallback,u=t.mode,r=Fo({mode:"visible",children:r.children},u),w=Ki(w,u,i,null),w.flags|=2,r.return=t,w.return=t,r.sibling=w,t.child=r,ss(t,e.child,null,i),r=t.child,r.memoizedState=wu(i),r.childLanes=Au(e,v,i),t.memoizedState=Cu,t=nr(null,r));else if(xi(t),lh(w)){if(v=w.nextSibling&&w.nextSibling.dataset,v)var I=v.dgst;v=I,r=Error(a(419)),r.stack="",r.digest=v,Fa({value:r,source:null,stack:null}),t=Eu(e,t,i)}else if(ut||Gs(e,t,i,!1),v=(i&e.childLanes)!==0,ut||v){if(v=Le,v!==null&&(r=Mf(v,i),r!==0&&r!==R.retryLane))throw R.retryLane=r,Ji(e,r),It(v,e,r),Su;oh(w)||$o(),t=Eu(e,t,i)}else oh(w)?(t.flags|=192,t.child=e.child,t=null):(e=R.treeContext,Ye=fn(w.nextSibling),St=t,Oe=!0,mi=null,un=!1,e!==null&&Td(t,e),t=Mu(t,r.children),t.flags|=4096);return t}return u?(Si(),w=r.fallback,u=t.mode,R=e.child,I=R.sibling,r=Ln(R,{mode:"hidden",children:r.children}),r.subtreeFlags=R.subtreeFlags&65011712,I!==null?w=Ln(I,w):(w=Ki(w,u,i,null),w.flags|=2),w.return=t,r.return=t,r.sibling=w,t.child=r,nr(null,r),r=t.child,w=e.child.memoizedState,w===null?w=wu(i):(u=w.cachePool,u!==null?(R=lt._currentValue,u=u.parent!==R?{parent:R,pool:R}:u):u=Od(),w={baseLanes:w.baseLanes|i,cachePool:u}),r.memoizedState=w,r.childLanes=Au(e,v,i),t.memoizedState=Cu,nr(e.child,r)):(xi(t),i=e.child,e=i.sibling,i=Ln(i,{mode:"visible",children:r.children}),i.return=t,i.sibling=null,e!==null&&(v=t.deletions,v===null?(t.deletions=[e],t.flags|=16):v.push(e)),t.child=i,t.memoizedState=null,i)}function Mu(e,t){return t=Fo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Fo(e,t){return e=Qt(22,e,null,t),e.lanes=0,e}function Eu(e,t,i){return ss(t,e.child,null,i),e=Mu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hp(e,t,i){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Gc(e.return,t,i)}function Ou(e,t,i,r,u,h){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:u,treeForkCount:h}:(v.isBackwards=t,v.rendering=null,v.renderingStartTime=0,v.last=r,v.tail=i,v.tailMode=u,v.treeForkCount=h)}function Gp(e,t,i){var r=t.pendingProps,u=r.revealOrder,h=r.tail;r=r.children;var v=it.current,w=(v&2)!==0;if(w?(v=v&1|2,t.flags|=128):v&=1,ie(it,v),Ct(e,t,r,i),r=Oe?Ga:0,!w&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hp(e,i,t);else if(e.tag===19)Hp(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(i=t.child,u=null;i!==null;)e=i.alternate,e!==null&&Do(e)===null&&(u=i),i=i.sibling;i=u,i===null?(u=t.child,t.child=null):(u=i.sibling,i.sibling=null),Ou(t,!1,u,i,h,r);break;case"backwards":case"unstable_legacy-backwards":for(i=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Do(e)===null){t.child=u;break}e=u.sibling,u.sibling=i,i=u,u=e}Ou(t,!0,i,null,h,r);break;case"together":Ou(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Zn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),wi|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(Gs(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,i=Ln(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Ln(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Nu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Co(e)))}function Zv(e,t,i){switch(t.tag){case 3:ue(t,t.stateNode.containerInfo),yi(t,lt,e.memoizedState.cache),Pi();break;case 27:case 5:Ft(t);break;case 4:ue(t,t.stateNode.containerInfo);break;case 10:yi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,tu(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(xi(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Lp(e,t,i):(xi(t),e=Zn(e,t,i),e!==null?e.sibling:null);xi(t);break;case 19:var u=(e.flags&128)!==0;if(r=(i&t.childLanes)!==0,r||(Gs(e,t,i,!1),r=(i&t.childLanes)!==0),u){if(r)return Gp(e,t,i);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),ie(it,it.current),r)break;return null;case 22:return t.lanes=0,zp(e,t,i,t.pendingProps);case 24:yi(t,lt,e.memoizedState.cache)}return Zn(e,t,i)}function Fp(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)ut=!0;else{if(!Nu(e,i)&&(t.flags&128)===0)return ut=!1,Zv(e,t,i);ut=(e.flags&131072)!==0}else ut=!1,Oe&&(t.flags&1048576)!==0&&Sd(t,Ga,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=ns(t.elementType),t.type=e,typeof e=="function")zc(e)?(r=rs(e,r),t.tag=1,t=qp(null,t,e,r,i)):(t.tag=0,t=Tu(null,t,e,r,i));else{if(e!=null){var u=e.$$typeof;if(u===D){t.tag=11,t=Dp(null,t,e,r,i);break e}else if(u===z){t.tag=14,t=Rp(null,t,e,r,i);break e}}throw t=Z(e)||e,Error(a(306,t,""))}}return t;case 0:return Tu(e,t,t.type,t.pendingProps,i);case 1:return r=t.type,u=rs(r,t.pendingProps),qp(e,t,r,u,i);case 3:e:{if(ue(t,t.stateNode.containerInfo),e===null)throw Error(a(387));r=t.pendingProps;var h=t.memoizedState;u=h.element,Jc(e,t),Ka(t,r,null,i);var v=t.memoizedState;if(r=v.cache,yi(t,lt,r),r!==h.cache&&Fc(t,[lt],i,!0),Ja(),r=v.element,h.isDehydrated)if(h={element:r,isDehydrated:!1,cache:v.cache},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){t=Ip(e,t,r,i);break e}else if(r!==u){u=on(Error(a(424)),t),Fa(u),t=Ip(e,t,r,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ye=fn(e.firstChild),St=t,Oe=!0,mi=null,un=!0,i=zd(t,null,r,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Pi(),r===u){t=Zn(e,t,i);break e}Ct(e,t,r,i)}t=t.child}return t;case 26:return Go(e,t),e===null?(i=tg(t.type,null,t.pendingProps,null))?t.memoizedState=i:Oe||(i=t.type,e=t.pendingProps,r=rl(fe.current).createElement(i),r[xt]=t,r[jt]=e,wt(r,i,e),gt(r),t.stateNode=r):t.memoizedState=tg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ft(t),e===null&&Oe&&(r=t.stateNode=Pm(t.type,t.pendingProps,fe.current),St=t,un=!0,u=Ye,Ni(t.type)?(ch=u,Ye=fn(r.firstChild)):Ye=u),Ct(e,t,t.pendingProps.children,i),Go(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Oe&&((u=r=Ye)&&(r=T_(r,t.type,t.pendingProps,un),r!==null?(t.stateNode=r,St=t,Ye=fn(r.firstChild),un=!1,u=!0):u=!1),u||gi(t)),Ft(t),u=t.type,h=t.pendingProps,v=e!==null?e.memoizedProps:null,r=h.children,sh(u,h)?r=null:v!==null&&sh(u,v)&&(t.flags|=32),t.memoizedState!==null&&(u=iu(e,t,Bv,null,null,i),yr._currentValue=u),Go(e,t),Ct(e,t,r,i),t.child;case 6:return e===null&&Oe&&((e=i=Ye)&&(i=C_(i,t.pendingProps,un),i!==null?(t.stateNode=i,St=t,Ye=null,e=!0):e=!1),e||gi(t)),null;case 13:return Lp(e,t,i);case 4:return ue(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ss(t,null,r,i):Ct(e,t,r,i),t.child;case 11:return Dp(e,t,t.type,t.pendingProps,i);case 7:return Ct(e,t,t.pendingProps,i),t.child;case 8:return Ct(e,t,t.pendingProps.children,i),t.child;case 12:return Ct(e,t,t.pendingProps.children,i),t.child;case 10:return r=t.pendingProps,yi(t,t.type,r.value),Ct(e,t,r.children,i),t.child;case 9:return u=t.type._context,r=t.pendingProps.children,es(t),u=Tt(u),r=r(u),t.flags|=1,Ct(e,t,r,i),t.child;case 14:return Rp(e,t,t.type,t.pendingProps,i);case 15:return jp(e,t,t.type,t.pendingProps,i);case 19:return Gp(e,t,i);case 31:return Xv(e,t,i);case 22:return zp(e,t,i,t.pendingProps);case 24:return es(t),r=Tt(lt),e===null?(u=Zc(),u===null&&(u=Le,h=Yc(),u.pooledCache=h,h.refCount++,h!==null&&(u.pooledCacheLanes|=i),u=h),t.memoizedState={parent:r,cache:u},Wc(t),yi(t,lt,u)):((e.lanes&i)!==0&&(Jc(e,t),Ka(t,null,null,i),Ja()),u=e.memoizedState,h=t.memoizedState,u.parent!==r?(u={parent:r,cache:r},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),yi(t,lt,r)):(r=h.cache,yi(t,lt,r),r!==u.cache&&Fc(t,[lt],i,!0))),Ct(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Qn(e){e.flags|=4}function ku(e,t,i,r,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(ym())e.flags|=8192;else throw is=Eo,Qc}else e.flags&=-16777217}function Yp(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!rg(t))if(ym())e.flags|=8192;else throw is=Eo,Qc}function Yo(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Cf():536870912,e.lanes|=t,ta|=t)}function ir(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,r=0;if(t)for(var u=e.child;u!==null;)i|=u.lanes|u.childLanes,r|=u.subtreeFlags&65011712,r|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)i|=u.lanes|u.childLanes,r|=u.subtreeFlags,r|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=r,e.childLanes=i,t}function Qv(e,t,i){var r=t.pendingProps;switch(qc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return Xe(t),null;case 3:return i=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Fn(lt),Re(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Hs(t)?Qn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Lc())),Xe(t),null;case 26:var u=t.type,h=t.memoizedState;return e===null?(Qn(t),h!==null?(Xe(t),Yp(t,h)):(Xe(t),ku(t,u,null,r,i))):h?h!==e.memoizedState?(Qn(t),Xe(t),Yp(t,h)):(Xe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&Qn(t),Xe(t),ku(t,u,e,r,i)),null;case 27:if(gn(t),i=fe.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Qn(t);else{if(!r){if(t.stateNode===null)throw Error(a(166));return Xe(t),null}e=oe.current,Hs(t)?Cd(t):(e=Pm(u,r,i),t.stateNode=e,Qn(t))}return Xe(t),null;case 5:if(gn(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Qn(t);else{if(!r){if(t.stateNode===null)throw Error(a(166));return Xe(t),null}if(h=oe.current,Hs(t))Cd(t);else{var v=rl(fe.current);switch(h){case 1:h=v.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:h=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":h=v.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":h=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":h=v.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof r.is=="string"?v.createElement("select",{is:r.is}):v.createElement("select"),r.multiple?h.multiple=!0:r.size&&(h.size=r.size);break;default:h=typeof r.is=="string"?v.createElement(u,{is:r.is}):v.createElement(u)}}h[xt]=t,h[jt]=r;e:for(v=t.child;v!==null;){if(v.tag===5||v.tag===6)h.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}t.stateNode=h;e:switch(wt(h,u,r),u){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Qn(t)}}return Xe(t),ku(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Qn(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(a(166));if(e=fe.current,Hs(t)){if(e=t.stateNode,i=t.memoizedProps,r=null,u=St,u!==null)switch(u.tag){case 27:case 5:r=u.memoizedProps}e[xt]=t,e=!!(e.nodeValue===i||r!==null&&r.suppressHydrationWarning===!0||Lm(e.nodeValue,i)),e||gi(t,!0)}else e=rl(e).createTextNode(r),e[xt]=t,t.stateNode=e}return Xe(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(r=Hs(t),i!==null){if(e===null){if(!r)throw Error(a(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[xt]=t}else Pi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Xe(t),e=!1}else i=Lc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(Jt(t),t):(Jt(t),null);if((t.flags&128)!==0)throw Error(a(558))}return Xe(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Hs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!u)throw Error(a(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(a(317));u[xt]=t}else Pi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Xe(t),u=!1}else u=Lc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(Jt(t),t):(Jt(t),null)}return Jt(t),(t.flags&128)!==0?(t.lanes=i,t):(i=r!==null,e=e!==null&&e.memoizedState!==null,i&&(r=t.child,u=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(u=r.alternate.memoizedState.cachePool.pool),h=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==u&&(r.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),Yo(t,t.updateQueue),Xe(t),null);case 4:return Re(),e===null&&$u(t.stateNode.containerInfo),Xe(t),null;case 10:return Fn(t.type),Xe(t),null;case 19:if(Y(it),r=t.memoizedState,r===null)return Xe(t),null;if(u=(t.flags&128)!==0,h=r.rendering,h===null)if(u)ir(r,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=Do(e),h!==null){for(t.flags|=128,ir(r,!1),e=h.updateQueue,t.updateQueue=e,Yo(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)_d(i,e),i=i.sibling;return ie(it,it.current&1|2),Oe&&Hn(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&bt()>Jo&&(t.flags|=128,u=!0,ir(r,!1),t.lanes=4194304)}else{if(!u)if(e=Do(h),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Yo(t,e),ir(r,!0),r.tail===null&&r.tailMode==="hidden"&&!h.alternate&&!Oe)return Xe(t),null}else 2*bt()-r.renderingStartTime>Jo&&i!==536870912&&(t.flags|=128,u=!0,ir(r,!1),t.lanes=4194304);r.isBackwards?(h.sibling=t.child,t.child=h):(e=r.last,e!==null?e.sibling=h:t.child=h,r.last=h)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=bt(),e.sibling=null,i=it.current,ie(it,u?i&1|2:i&1),Oe&&Hn(t,r.treeForkCount),e):(Xe(t),null);case 22:case 23:return Jt(t),eu(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(i&536870912)!==0&&(t.flags&128)===0&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),i=t.updateQueue,i!==null&&Yo(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==i&&(t.flags|=2048),e!==null&&Y(ts),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Fn(lt),Xe(t),null;case 25:return null;case 30:return null}throw Error(a(156,t.tag))}function Wv(e,t){switch(qc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fn(lt),Re(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return gn(t),null;case 31:if(t.memoizedState!==null){if(Jt(t),t.alternate===null)throw Error(a(340));Pi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Jt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));Pi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Y(it),null;case 4:return Re(),null;case 10:return Fn(t.type),null;case 22:case 23:return Jt(t),eu(),e!==null&&Y(ts),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Fn(lt),null;case 25:return null;default:return null}}function Xp(e,t){switch(qc(t),t.tag){case 3:Fn(lt),Re();break;case 26:case 27:case 5:gn(t);break;case 4:Re();break;case 31:t.memoizedState!==null&&Jt(t);break;case 13:Jt(t);break;case 19:Y(it);break;case 10:Fn(t.type);break;case 22:case 23:Jt(t),eu(),e!==null&&Y(ts);break;case 24:Fn(lt)}}function sr(e,t){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var u=r.next;i=u;do{if((i.tag&e)===e){r=void 0;var h=i.create,v=i.inst;r=h(),v.destroy=r}i=i.next}while(i!==u)}}catch(w){ze(t,t.return,w)}}function Ti(e,t,i){try{var r=t.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var h=u.next;r=h;do{if((r.tag&e)===e){var v=r.inst,w=v.destroy;if(w!==void 0){v.destroy=void 0,u=t;var R=i,I=w;try{I()}catch(W){ze(u,R,W)}}}r=r.next}while(r!==h)}}catch(W){ze(t,t.return,W)}}function Zp(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Vd(t,i)}catch(r){ze(e,e.return,r)}}}function Qp(e,t,i){i.props=rs(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(r){ze(e,t,r)}}function ar(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof i=="function"?e.refCleanup=i(r):i.current=r}}catch(u){ze(e,t,u)}}function Nn(e,t){var i=e.ref,r=e.refCleanup;if(i!==null)if(typeof r=="function")try{r()}catch(u){ze(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(u){ze(e,t,u)}else i.current=null}function Wp(e){var t=e.type,i=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break e;case"img":i.src?r.src=i.src:i.srcSet&&(r.srcset=i.srcSet)}}catch(u){ze(e,e.return,u)}}function Du(e,t,i){try{var r=e.stateNode;y_(r,e.type,i,t),r[jt]=t}catch(u){ze(e,e.return,u)}}function Jp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ni(e.type)||e.tag===4}function Ru(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ni(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ju(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=qn));else if(r!==4&&(r===27&&Ni(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(ju(e,t,i),e=e.sibling;e!==null;)ju(e,t,i),e=e.sibling}function Xo(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(r!==4&&(r===27&&Ni(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Xo(e,t,i),e=e.sibling;e!==null;)Xo(e,t,i),e=e.sibling}function Kp(e){var t=e.stateNode,i=e.memoizedProps;try{for(var r=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);wt(t,r,i),t[xt]=e,t[jt]=i}catch(h){ze(e,e.return,h)}}var Wn=!1,ht=!1,zu=!1,Pp=typeof WeakSet=="function"?WeakSet:Set,yt=null;function Jv(e,t){if(e=e.containerInfo,nh=dl,e=ud(e),Ec(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var u=r.anchorOffset,h=r.focusNode;r=r.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var v=0,w=-1,R=-1,I=0,W=0,P=e,L=null;t:for(;;){for(var X;P!==i||u!==0&&P.nodeType!==3||(w=v+u),P!==h||r!==0&&P.nodeType!==3||(R=v+r),P.nodeType===3&&(v+=P.nodeValue.length),(X=P.firstChild)!==null;)L=P,P=X;for(;;){if(P===e)break t;if(L===i&&++I===u&&(w=v),L===h&&++W===r&&(R=v),(X=P.nextSibling)!==null)break;P=L,L=P.parentNode}P=X}i=w===-1||R===-1?null:{start:w,end:R}}else i=null}i=i||{start:0,end:0}}else i=null;for(ih={focusedElem:e,selectionRange:i},dl=!1,yt=t;yt!==null;)if(t=yt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,yt=e;else for(;yt!==null;){switch(t=yt,h=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)u=e[i],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,i=t,u=h.memoizedProps,h=h.memoizedState,r=i.stateNode;try{var he=rs(i.type,u);e=r.getSnapshotBeforeUpdate(he,h),r.__reactInternalSnapshotBeforeUpdate=e}catch(ge){ze(i,i.return,ge)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)rh(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":rh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=t.sibling,e!==null){e.return=t.return,yt=e;break}yt=t.return}}function $p(e,t,i){var r=i.flags;switch(i.tag){case 0:case 11:case 15:Kn(e,i),r&4&&sr(5,i);break;case 1:if(Kn(e,i),r&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(v){ze(i,i.return,v)}else{var u=rs(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(v){ze(i,i.return,v)}}r&64&&Zp(i),r&512&&ar(i,i.return);break;case 3:if(Kn(e,i),r&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Vd(e,t)}catch(v){ze(i,i.return,v)}}break;case 27:t===null&&r&4&&Kp(i);case 26:case 5:Kn(e,i),t===null&&r&4&&Wp(i),r&512&&ar(i,i.return);break;case 12:Kn(e,i);break;case 31:Kn(e,i),r&4&&nm(e,i);break;case 13:Kn(e,i),r&4&&im(e,i),r&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=a_.bind(null,i),w_(e,i))));break;case 22:if(r=i.memoizedState!==null||Wn,!r){t=t!==null&&t.memoizedState!==null||ht,u=Wn;var h=ht;Wn=r,(ht=t)&&!h?Pn(e,i,(i.subtreeFlags&8772)!==0):Kn(e,i),Wn=u,ht=h}break;case 30:break;default:Kn(e,i)}}function em(e){var t=e.alternate;t!==null&&(e.alternate=null,em(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&hc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var We=null,Ut=!1;function Jn(e,t,i){for(i=i.child;i!==null;)tm(e,t,i),i=i.sibling}function tm(e,t,i){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Oa,i)}catch{}switch(i.tag){case 26:ht||Nn(i,t),Jn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:ht||Nn(i,t);var r=We,u=Ut;Ni(i.type)&&(We=i.stateNode,Ut=!1),Jn(e,t,i),pr(i.stateNode),We=r,Ut=u;break;case 5:ht||Nn(i,t);case 6:if(r=We,u=Ut,We=null,Jn(e,t,i),We=r,Ut=u,We!==null)if(Ut)try{(We.nodeType===9?We.body:We.nodeName==="HTML"?We.ownerDocument.body:We).removeChild(i.stateNode)}catch(h){ze(i,t,h)}else try{We.removeChild(i.stateNode)}catch(h){ze(i,t,h)}break;case 18:We!==null&&(Ut?(e=We,Zm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),ca(e)):Zm(We,i.stateNode));break;case 4:r=We,u=Ut,We=i.stateNode.containerInfo,Ut=!0,Jn(e,t,i),We=r,Ut=u;break;case 0:case 11:case 14:case 15:Ti(2,i,t),ht||Ti(4,i,t),Jn(e,t,i);break;case 1:ht||(Nn(i,t),r=i.stateNode,typeof r.componentWillUnmount=="function"&&Qp(i,t,r)),Jn(e,t,i);break;case 21:Jn(e,t,i);break;case 22:ht=(r=ht)||i.memoizedState!==null,Jn(e,t,i),ht=r;break;default:Jn(e,t,i)}}function nm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ca(e)}catch(i){ze(t,t.return,i)}}}function im(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ca(e)}catch(i){ze(t,t.return,i)}}function Kv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Pp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Pp),t;default:throw Error(a(435,e.tag))}}function Zo(e,t){var i=Kv(e);t.forEach(function(r){if(!i.has(r)){i.add(r);var u=r_.bind(null,e,r);r.then(u,u)}})}function Vt(e,t){var i=t.deletions;if(i!==null)for(var r=0;r<i.length;r++){var u=i[r],h=e,v=t,w=v;e:for(;w!==null;){switch(w.tag){case 27:if(Ni(w.type)){We=w.stateNode,Ut=!1;break e}break;case 5:We=w.stateNode,Ut=!1;break e;case 3:case 4:We=w.stateNode.containerInfo,Ut=!0;break e}w=w.return}if(We===null)throw Error(a(160));tm(h,v,u),We=null,Ut=!1,h=u.alternate,h!==null&&(h.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)sm(t,e),t=t.sibling}var vn=null;function sm(e,t){var i=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Vt(t,e),Bt(e),r&4&&(Ti(3,e,e.return),sr(3,e),Ti(5,e,e.return));break;case 1:Vt(t,e),Bt(e),r&512&&(ht||i===null||Nn(i,i.return)),r&64&&Wn&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?r:i.concat(r))));break;case 26:var u=vn;if(Vt(t,e),Bt(e),r&512&&(ht||i===null||Nn(i,i.return)),r&4){var h=i!==null?i.memoizedState:null;if(r=e.memoizedState,i===null)if(r===null)if(e.stateNode===null){e:{r=e.type,i=e.memoizedProps,u=u.ownerDocument||u;t:switch(r){case"title":h=u.getElementsByTagName("title")[0],(!h||h[Da]||h[xt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=u.createElement(r),u.head.insertBefore(h,u.querySelector("head > title"))),wt(h,r,i),h[xt]=e,gt(h),r=h;break e;case"link":var v=sg("link","href",u).get(r+(i.href||""));if(v){for(var w=0;w<v.length;w++)if(h=v[w],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){v.splice(w,1);break t}}h=u.createElement(r),wt(h,r,i),u.head.appendChild(h);break;case"meta":if(v=sg("meta","content",u).get(r+(i.content||""))){for(w=0;w<v.length;w++)if(h=v[w],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){v.splice(w,1);break t}}h=u.createElement(r),wt(h,r,i),u.head.appendChild(h);break;default:throw Error(a(468,r))}h[xt]=e,gt(h),r=h}e.stateNode=r}else ag(u,e.type,e.stateNode);else e.stateNode=ig(u,r,e.memoizedProps);else h!==r?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,r===null?ag(u,e.type,e.stateNode):ig(u,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Du(e,e.memoizedProps,i.memoizedProps)}break;case 27:Vt(t,e),Bt(e),r&512&&(ht||i===null||Nn(i,i.return)),i!==null&&r&4&&Du(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Vt(t,e),Bt(e),r&512&&(ht||i===null||Nn(i,i.return)),e.flags&32){u=e.stateNode;try{Ds(u,"")}catch(he){ze(e,e.return,he)}}r&4&&e.stateNode!=null&&(u=e.memoizedProps,Du(e,u,i!==null?i.memoizedProps:u)),r&1024&&(zu=!0);break;case 6:if(Vt(t,e),Bt(e),r&4){if(e.stateNode===null)throw Error(a(162));r=e.memoizedProps,i=e.stateNode;try{i.nodeValue=r}catch(he){ze(e,e.return,he)}}break;case 3:if(cl=null,u=vn,vn=ol(t.containerInfo),Vt(t,e),vn=u,Bt(e),r&4&&i!==null&&i.memoizedState.isDehydrated)try{ca(t.containerInfo)}catch(he){ze(e,e.return,he)}zu&&(zu=!1,am(e));break;case 4:r=vn,vn=ol(e.stateNode.containerInfo),Vt(t,e),Bt(e),vn=r;break;case 12:Vt(t,e),Bt(e);break;case 31:Vt(t,e),Bt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Zo(e,r)));break;case 13:Vt(t,e),Bt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Wo=bt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Zo(e,r)));break;case 22:u=e.memoizedState!==null;var R=i!==null&&i.memoizedState!==null,I=Wn,W=ht;if(Wn=I||u,ht=W||R,Vt(t,e),ht=W,Wn=I,Bt(e),r&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(i===null||R||Wn||ht||os(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){R=i=t;try{if(h=R.stateNode,u)v=h.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{w=R.stateNode;var P=R.memoizedProps.style,L=P!=null&&P.hasOwnProperty("display")?P.display:null;w.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(he){ze(R,R.return,he)}}}else if(t.tag===6){if(i===null){R=t;try{R.stateNode.nodeValue=u?"":R.memoizedProps}catch(he){ze(R,R.return,he)}}}else if(t.tag===18){if(i===null){R=t;try{var X=R.stateNode;u?Qm(X,!0):Qm(R.stateNode,!1)}catch(he){ze(R,R.return,he)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(i=r.retryQueue,i!==null&&(r.retryQueue=null,Zo(e,i))));break;case 19:Vt(t,e),Bt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Zo(e,r)));break;case 30:break;case 21:break;default:Vt(t,e),Bt(e)}}function Bt(e){var t=e.flags;if(t&2){try{for(var i,r=e.return;r!==null;){if(Jp(r)){i=r;break}r=r.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var u=i.stateNode,h=Ru(e);Xo(e,h,u);break;case 5:var v=i.stateNode;i.flags&32&&(Ds(v,""),i.flags&=-33);var w=Ru(e);Xo(e,w,v);break;case 3:case 4:var R=i.stateNode.containerInfo,I=Ru(e);ju(e,I,R);break;default:throw Error(a(161))}}catch(W){ze(e,e.return,W)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function am(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;am(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Kn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)$p(e,t.alternate,t),t=t.sibling}function os(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ti(4,t,t.return),os(t);break;case 1:Nn(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&Qp(t,t.return,i),os(t);break;case 27:pr(t.stateNode);case 26:case 5:Nn(t,t.return),os(t);break;case 22:t.memoizedState===null&&os(t);break;case 30:os(t);break;default:os(t)}e=e.sibling}}function Pn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,u=e,h=t,v=h.flags;switch(h.tag){case 0:case 11:case 15:Pn(u,h,i),sr(4,h);break;case 1:if(Pn(u,h,i),r=h,u=r.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(I){ze(r,r.return,I)}if(r=h,u=r.updateQueue,u!==null){var w=r.stateNode;try{var R=u.shared.hiddenCallbacks;if(R!==null)for(u.shared.hiddenCallbacks=null,u=0;u<R.length;u++)Ud(R[u],w)}catch(I){ze(r,r.return,I)}}i&&v&64&&Zp(h),ar(h,h.return);break;case 27:Kp(h);case 26:case 5:Pn(u,h,i),i&&r===null&&v&4&&Wp(h),ar(h,h.return);break;case 12:Pn(u,h,i);break;case 31:Pn(u,h,i),i&&v&4&&nm(u,h);break;case 13:Pn(u,h,i),i&&v&4&&im(u,h);break;case 22:h.memoizedState===null&&Pn(u,h,i),ar(h,h.return);break;case 30:break;default:Pn(u,h,i)}t=t.sibling}}function Uu(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Ya(i))}function Vu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ya(e))}function _n(e,t,i,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)rm(e,t,i,r),t=t.sibling}function rm(e,t,i,r){var u=t.flags;switch(t.tag){case 0:case 11:case 15:_n(e,t,i,r),u&2048&&sr(9,t);break;case 1:_n(e,t,i,r);break;case 3:_n(e,t,i,r),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ya(e)));break;case 12:if(u&2048){_n(e,t,i,r),e=t.stateNode;try{var h=t.memoizedProps,v=h.id,w=h.onPostCommit;typeof w=="function"&&w(v,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){ze(t,t.return,R)}}else _n(e,t,i,r);break;case 31:_n(e,t,i,r);break;case 13:_n(e,t,i,r);break;case 23:break;case 22:h=t.stateNode,v=t.alternate,t.memoizedState!==null?h._visibility&2?_n(e,t,i,r):rr(e,t):h._visibility&2?_n(e,t,i,r):(h._visibility|=2,Ps(e,t,i,r,(t.subtreeFlags&10256)!==0||!1)),u&2048&&Uu(v,t);break;case 24:_n(e,t,i,r),u&2048&&Vu(t.alternate,t);break;default:_n(e,t,i,r)}}function Ps(e,t,i,r,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var h=e,v=t,w=i,R=r,I=v.flags;switch(v.tag){case 0:case 11:case 15:Ps(h,v,w,R,u),sr(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&2?Ps(h,v,w,R,u):rr(h,v):(W._visibility|=2,Ps(h,v,w,R,u)),u&&I&2048&&Uu(v.alternate,v);break;case 24:Ps(h,v,w,R,u),u&&I&2048&&Vu(v.alternate,v);break;default:Ps(h,v,w,R,u)}t=t.sibling}}function rr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,r=t,u=r.flags;switch(r.tag){case 22:rr(i,r),u&2048&&Uu(r.alternate,r);break;case 24:rr(i,r),u&2048&&Vu(r.alternate,r);break;default:rr(i,r)}t=t.sibling}}var or=8192;function $s(e,t,i){if(e.subtreeFlags&or)for(e=e.child;e!==null;)om(e,t,i),e=e.sibling}function om(e,t,i){switch(e.tag){case 26:$s(e,t,i),e.flags&or&&e.memoizedState!==null&&V_(i,vn,e.memoizedState,e.memoizedProps);break;case 5:$s(e,t,i);break;case 3:case 4:var r=vn;vn=ol(e.stateNode.containerInfo),$s(e,t,i),vn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=or,or=16777216,$s(e,t,i),or=r):$s(e,t,i));break;default:$s(e,t,i)}}function lm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function lr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];yt=r,um(r,e)}lm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)cm(e),e=e.sibling}function cm(e){switch(e.tag){case 0:case 11:case 15:lr(e),e.flags&2048&&Ti(9,e,e.return);break;case 3:lr(e);break;case 12:lr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Qo(e)):lr(e);break;default:lr(e)}}function Qo(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];yt=r,um(r,e)}lm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ti(8,t,t.return),Qo(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,Qo(t));break;default:Qo(t)}e=e.sibling}}function um(e,t){for(;yt!==null;){var i=yt;switch(i.tag){case 0:case 11:case 15:Ti(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var r=i.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Ya(i.memoizedState.cache)}if(r=i.child,r!==null)r.return=i,yt=r;else e:for(i=e;yt!==null;){r=yt;var u=r.sibling,h=r.return;if(em(r),r===i){yt=null;break e}if(u!==null){u.return=h,yt=u;break e}yt=h}}}var Pv={getCacheForType:function(e){var t=Tt(lt),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return Tt(lt).controller.signal}},$v=typeof WeakMap=="function"?WeakMap:Map,De=0,Le=null,Te=null,we=0,je=0,Kt=null,Ci=!1,ea=!1,Bu=!1,$n=0,$e=0,wi=0,ls=0,qu=0,Pt=0,ta=0,cr=null,qt=null,Iu=!1,Wo=0,hm=0,Jo=1/0,Ko=null,Ai=null,dt=0,Mi=null,na=null,ei=0,Lu=0,Hu=null,fm=null,ur=0,Gu=null;function $t(){return(De&2)!==0&&we!==0?we&-we:V.T!==null?Wu():Ef()}function dm(){if(Pt===0)if((we&536870912)===0||Oe){var e=so;so<<=1,(so&3932160)===0&&(so=262144),Pt=e}else Pt=536870912;return e=Wt.current,e!==null&&(e.flags|=32),Pt}function It(e,t,i){(e===Le&&(je===2||je===9)||e.cancelPendingCommit!==null)&&(ia(e,0),Ei(e,we,Pt,!1)),ka(e,i),((De&2)===0||e!==Le)&&(e===Le&&((De&2)===0&&(ls|=i),$e===4&&Ei(e,we,Pt,!1)),kn(e))}function pm(e,t,i){if((De&6)!==0)throw Error(a(327));var r=!i&&(t&127)===0&&(t&e.expiredLanes)===0||Na(e,t),u=r?n_(e,t):Yu(e,t,!0),h=r;do{if(u===0){ea&&!r&&Ei(e,t,0,!1);break}else{if(i=e.current.alternate,h&&!e_(i)){u=Yu(e,t,!1),h=!1;continue}if(u===2){if(h=t,e.errorRecoveryDisabledLanes&h)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){t=v;e:{var w=e;u=cr;var R=w.current.memoizedState.isDehydrated;if(R&&(ia(w,v).flags|=256),v=Yu(w,v,!1),v!==2){if(Bu&&!R){w.errorRecoveryDisabledLanes|=h,ls|=h,u=4;break e}h=qt,qt=u,h!==null&&(qt===null?qt=h:qt.push.apply(qt,h))}u=v}if(h=!1,u!==2)continue}}if(u===1){ia(e,0),Ei(e,t,0,!0);break}e:{switch(r=e,h=u,h){case 0:case 1:throw Error(a(345));case 4:if((t&4194048)!==t)break;case 6:Ei(r,t,Pt,!Ci);break e;case 2:qt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((t&62914560)===t&&(u=Wo+300-bt(),10<u)){if(Ei(r,t,Pt,!Ci),ro(r,0,!0)!==0)break e;ei=t,r.timeoutHandle=Ym(mm.bind(null,r,i,qt,Ko,Iu,t,Pt,ls,ta,Ci,h,"Throttled",-0,0),u);break e}mm(r,i,qt,Ko,Iu,t,Pt,ls,ta,Ci,h,null,-0,0)}}break}while(!0);kn(e)}function mm(e,t,i,r,u,h,v,w,R,I,W,P,L,X){if(e.timeoutHandle=-1,P=t.subtreeFlags,P&8192||(P&16785408)===16785408){P={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},om(t,h,P);var he=(h&62914560)===h?Wo-bt():(h&4194048)===h?hm-bt():0;if(he=B_(P,he),he!==null){ei=h,e.cancelPendingCommit=he(Tm.bind(null,e,t,h,i,r,u,v,w,R,W,P,null,L,X)),Ei(e,h,v,!I);return}}Tm(e,t,h,i,r,u,v,w,R)}function e_(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var r=0;r<i.length;r++){var u=i[r],h=u.getSnapshot;u=u.value;try{if(!Zt(h(),u))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ei(e,t,i,r){t&=~qu,t&=~ls,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var u=t;0<u;){var h=31-Xt(u),v=1<<h;r[h]=-1,u&=~v}i!==0&&wf(e,i,t)}function Po(){return(De&6)===0?(hr(0),!1):!0}function Fu(){if(Te!==null){if(je===0)var e=Te.return;else e=Te,Gn=$i=null,ru(e),Zs=null,Za=0,e=Te;for(;e!==null;)Xp(e.alternate,e),e=e.return;Te=null}}function ia(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,b_(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),ei=0,Fu(),Le=e,Te=i=Ln(e.current,null),we=t,je=0,Kt=null,Ci=!1,ea=Na(e,t),Bu=!1,ta=Pt=qu=ls=wi=$e=0,qt=cr=null,Iu=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var u=31-Xt(r),h=1<<u;t|=e[u],r&=~h}return $n=t,_o(),i}function gm(e,t){be=null,V.H=tr,t===Xs||t===Mo?(t=Dd(),je=3):t===Qc?(t=Dd(),je=4):je=t===Su?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Kt=t,Te===null&&($e=1,Lo(e,on(t,e.current)))}function ym(){var e=Wt.current;return e===null?!0:(we&4194048)===we?hn===null:(we&62914560)===we||(we&536870912)!==0?e===hn:!1}function vm(){var e=V.H;return V.H=tr,e===null?tr:e}function _m(){var e=V.A;return V.A=Pv,e}function $o(){$e=4,Ci||(we&4194048)!==we&&Wt.current!==null||(ea=!0),(wi&134217727)===0&&(ls&134217727)===0||Le===null||Ei(Le,we,Pt,!1)}function Yu(e,t,i){var r=De;De|=2;var u=vm(),h=_m();(Le!==e||we!==t)&&(Ko=null,ia(e,t)),t=!1;var v=$e;e:do try{if(je!==0&&Te!==null){var w=Te,R=Kt;switch(je){case 8:Fu(),v=6;break e;case 3:case 2:case 9:case 6:Wt.current===null&&(t=!0);var I=je;if(je=0,Kt=null,sa(e,w,R,I),i&&ea){v=0;break e}break;default:I=je,je=0,Kt=null,sa(e,w,R,I)}}t_(),v=$e;break}catch(W){gm(e,W)}while(!0);return t&&e.shellSuspendCounter++,Gn=$i=null,De=r,V.H=u,V.A=h,Te===null&&(Le=null,we=0,_o()),v}function t_(){for(;Te!==null;)bm(Te)}function n_(e,t){var i=De;De|=2;var r=vm(),u=_m();Le!==e||we!==t?(Ko=null,Jo=bt()+500,ia(e,t)):ea=Na(e,t);e:do try{if(je!==0&&Te!==null){t=Te;var h=Kt;t:switch(je){case 1:je=0,Kt=null,sa(e,t,h,1);break;case 2:case 9:if(Nd(h)){je=0,Kt=null,xm(t);break}t=function(){je!==2&&je!==9||Le!==e||(je=7),kn(e)},h.then(t,t);break e;case 3:je=7;break e;case 4:je=5;break e;case 7:Nd(h)?(je=0,Kt=null,xm(t)):(je=0,Kt=null,sa(e,t,h,7));break;case 5:var v=null;switch(Te.tag){case 26:v=Te.memoizedState;case 5:case 27:var w=Te;if(v?rg(v):w.stateNode.complete){je=0,Kt=null;var R=w.sibling;if(R!==null)Te=R;else{var I=w.return;I!==null?(Te=I,el(I)):Te=null}break t}}je=0,Kt=null,sa(e,t,h,5);break;case 6:je=0,Kt=null,sa(e,t,h,6);break;case 8:Fu(),$e=6;break e;default:throw Error(a(462))}}i_();break}catch(W){gm(e,W)}while(!0);return Gn=$i=null,V.H=r,V.A=u,De=i,Te!==null?0:(Le=null,we=0,_o(),$e)}function i_(){for(;Te!==null&&!Mn();)bm(Te)}function bm(e){var t=Fp(e.alternate,e,$n);e.memoizedProps=e.pendingProps,t===null?el(e):Te=t}function xm(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=Bp(i,t,t.pendingProps,t.type,void 0,we);break;case 11:t=Bp(i,t,t.pendingProps,t.type.render,t.ref,we);break;case 5:ru(t);default:Xp(i,t),t=Te=_d(t,$n),t=Fp(i,t,$n)}e.memoizedProps=e.pendingProps,t===null?el(e):Te=t}function sa(e,t,i,r){Gn=$i=null,ru(t),Zs=null,Za=0;var u=t.return;try{if(Yv(e,u,t,i,we)){$e=1,Lo(e,on(i,e.current)),Te=null;return}}catch(h){if(u!==null)throw Te=u,h;$e=1,Lo(e,on(i,e.current)),Te=null;return}t.flags&32768?(Oe||r===1?e=!0:ea||(we&536870912)!==0?e=!1:(Ci=e=!0,(r===2||r===9||r===3||r===6)&&(r=Wt.current,r!==null&&r.tag===13&&(r.flags|=16384))),Sm(t,e)):el(t)}function el(e){var t=e;do{if((t.flags&32768)!==0){Sm(t,Ci);return}e=t.return;var i=Qv(t.alternate,t,$n);if(i!==null){Te=i;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);$e===0&&($e=5)}function Sm(e,t){do{var i=Wv(e.alternate,e);if(i!==null){i.flags&=32767,Te=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){Te=e;return}Te=e=i}while(e!==null);$e=6,Te=null}function Tm(e,t,i,r,u,h,v,w,R){e.cancelPendingCommit=null;do tl();while(dt!==0);if((De&6)!==0)throw Error(a(327));if(t!==null){if(t===e.current)throw Error(a(177));if(h=t.lanes|t.childLanes,h|=Rc,Uy(e,i,h,v,w,R),e===Le&&(Te=Le=null,we=0),na=t,Mi=e,ei=i,Lu=h,Hu=u,fm=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,o_(no,function(){return Em(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=V.T,V.T=null,u=G.p,G.p=2,v=De,De|=4;try{Jv(e,t,i)}finally{De=v,G.p=u,V.T=r}}dt=1,Cm(),wm(),Am()}}function Cm(){if(dt===1){dt=0;var e=Mi,t=na,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=V.T,V.T=null;var r=G.p;G.p=2;var u=De;De|=4;try{sm(t,e);var h=ih,v=ud(e.containerInfo),w=h.focusedElem,R=h.selectionRange;if(v!==w&&w&&w.ownerDocument&&cd(w.ownerDocument.documentElement,w)){if(R!==null&&Ec(w)){var I=R.start,W=R.end;if(W===void 0&&(W=I),"selectionStart"in w)w.selectionStart=I,w.selectionEnd=Math.min(W,w.value.length);else{var P=w.ownerDocument||document,L=P&&P.defaultView||window;if(L.getSelection){var X=L.getSelection(),he=w.textContent.length,ge=Math.min(R.start,he),Be=R.end===void 0?ge:Math.min(R.end,he);!X.extend&&ge>Be&&(v=Be,Be=ge,ge=v);var B=ld(w,ge),U=ld(w,Be);if(B&&U&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==U.node||X.focusOffset!==U.offset)){var q=P.createRange();q.setStart(B.node,B.offset),X.removeAllRanges(),ge>Be?(X.addRange(q),X.extend(U.node,U.offset)):(q.setEnd(U.node,U.offset),X.addRange(q))}}}}for(P=[],X=w;X=X.parentNode;)X.nodeType===1&&P.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<P.length;w++){var K=P[w];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}dl=!!nh,ih=nh=null}finally{De=u,G.p=r,V.T=i}}e.current=t,dt=2}}function wm(){if(dt===2){dt=0;var e=Mi,t=na,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=V.T,V.T=null;var r=G.p;G.p=2;var u=De;De|=4;try{$p(e,t.alternate,t)}finally{De=u,G.p=r,V.T=i}}dt=3}}function Am(){if(dt===4||dt===3){dt=0,Fi();var e=Mi,t=na,i=ei,r=fm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?dt=5:(dt=0,na=Mi=null,Mm(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Ai=null),cc(i),t=t.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Oa,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=V.T,u=G.p,G.p=2,V.T=null;try{for(var h=e.onRecoverableError,v=0;v<r.length;v++){var w=r[v];h(w.value,{componentStack:w.stack})}}finally{V.T=t,G.p=u}}(ei&3)!==0&&tl(),kn(e),u=e.pendingLanes,(i&261930)!==0&&(u&42)!==0?e===Gu?ur++:(ur=0,Gu=e):ur=0,hr(0)}}function Mm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ya(t)))}function tl(){return Cm(),wm(),Am(),Em()}function Em(){if(dt!==5)return!1;var e=Mi,t=Lu;Lu=0;var i=cc(ei),r=V.T,u=G.p;try{G.p=32>i?32:i,V.T=null,i=Hu,Hu=null;var h=Mi,v=ei;if(dt=0,na=Mi=null,ei=0,(De&6)!==0)throw Error(a(331));var w=De;if(De|=4,cm(h.current),rm(h,h.current,v,i),De=w,hr(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Oa,h)}catch{}return!0}finally{G.p=u,V.T=r,Mm(e,t)}}function Om(e,t,i){t=on(i,t),t=xu(e.stateNode,t,2),e=bi(e,t,2),e!==null&&(ka(e,2),kn(e))}function ze(e,t,i){if(e.tag===3)Om(e,e,i);else for(;t!==null;){if(t.tag===3){Om(t,e,i);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ai===null||!Ai.has(r))){e=on(i,e),i=Np(2),r=bi(t,i,2),r!==null&&(kp(i,r,t,e),ka(r,2),kn(r));break}}t=t.return}}function Xu(e,t,i){var r=e.pingCache;if(r===null){r=e.pingCache=new $v;var u=new Set;r.set(t,u)}else u=r.get(t),u===void 0&&(u=new Set,r.set(t,u));u.has(i)||(Bu=!0,u.add(i),e=s_.bind(null,e,t,i),t.then(e,e))}function s_(e,t,i){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Le===e&&(we&i)===i&&($e===4||$e===3&&(we&62914560)===we&&300>bt()-Wo?(De&2)===0&&ia(e,0):qu|=i,ta===we&&(ta=0)),kn(e)}function Nm(e,t){t===0&&(t=Cf()),e=Ji(e,t),e!==null&&(ka(e,t),kn(e))}function a_(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Nm(e,i)}function r_(e,t){var i=0;switch(e.tag){case 31:case 13:var r=e.stateNode,u=e.memoizedState;u!==null&&(i=u.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}r!==null&&r.delete(t),Nm(e,i)}function o_(e,t){return Ge(e,t)}var nl=null,aa=null,Zu=!1,il=!1,Qu=!1,Oi=0;function kn(e){e!==aa&&e.next===null&&(aa===null?nl=aa=e:aa=aa.next=e),il=!0,Zu||(Zu=!0,c_())}function hr(e,t){if(!Qu&&il){Qu=!0;do for(var i=!1,r=nl;r!==null;){if(e!==0){var u=r.pendingLanes;if(u===0)var h=0;else{var v=r.suspendedLanes,w=r.pingedLanes;h=(1<<31-Xt(42|e)+1)-1,h&=u&~(v&~w),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,jm(r,h))}else h=we,h=ro(r,r===Le?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(h&3)===0||Na(r,h)||(i=!0,jm(r,h));r=r.next}while(i);Qu=!1}}function l_(){km()}function km(){il=Zu=!1;var e=0;Oi!==0&&__()&&(e=Oi);for(var t=bt(),i=null,r=nl;r!==null;){var u=r.next,h=Dm(r,t);h===0?(r.next=null,i===null?nl=u:i.next=u,u===null&&(aa=i)):(i=r,(e!==0||(h&3)!==0)&&(il=!0)),r=u}dt!==0&&dt!==5||hr(e),Oi!==0&&(Oi=0)}function Dm(e,t){for(var i=e.suspendedLanes,r=e.pingedLanes,u=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var v=31-Xt(h),w=1<<v,R=u[v];R===-1?((w&i)===0||(w&r)!==0)&&(u[v]=zy(w,t)):R<=t&&(e.expiredLanes|=w),h&=~w}if(t=Le,i=we,i=ro(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,i===0||e===t&&(je===2||je===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Mt(r),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Na(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(r!==null&&Mt(r),cc(i)){case 2:case 8:i=Sf;break;case 32:i=no;break;case 268435456:i=Tf;break;default:i=no}return r=Rm.bind(null,e),i=Ge(i,r),e.callbackPriority=t,e.callbackNode=i,t}return r!==null&&r!==null&&Mt(r),e.callbackPriority=2,e.callbackNode=null,2}function Rm(e,t){if(dt!==0&&dt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(tl()&&e.callbackNode!==i)return null;var r=we;return r=ro(e,e===Le?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(pm(e,r,t),Dm(e,bt()),e.callbackNode!=null&&e.callbackNode===i?Rm.bind(null,e):null)}function jm(e,t){if(tl())return null;pm(e,t,!0)}function c_(){x_(function(){(De&6)!==0?Ge(to,l_):km()})}function Wu(){if(Oi===0){var e=Fs;e===0&&(e=io,io<<=1,(io&261888)===0&&(io=256)),Oi=e}return Oi}function zm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:uo(""+e)}function Um(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function u_(e,t,i,r,u){if(t==="submit"&&i&&i.stateNode===u){var h=zm((u[jt]||null).action),v=r.submitter;v&&(t=(t=v[jt]||null)?zm(t.formAction):v.getAttribute("formAction"),t!==null&&(h=t,v=null));var w=new mo("action","action",null,r,u);e.push({event:w,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Oi!==0){var R=v?Um(u,v):new FormData(u);mu(i,{pending:!0,data:R,method:u.method,action:h},null,R)}}else typeof h=="function"&&(w.preventDefault(),R=v?Um(u,v):new FormData(u),mu(i,{pending:!0,data:R,method:u.method,action:h},h,R))},currentTarget:u}]})}}for(var Ju=0;Ju<Dc.length;Ju++){var Ku=Dc[Ju],h_=Ku.toLowerCase(),f_=Ku[0].toUpperCase()+Ku.slice(1);yn(h_,"on"+f_)}yn(dd,"onAnimationEnd"),yn(pd,"onAnimationIteration"),yn(md,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(Ev,"onTransitionRun"),yn(Ov,"onTransitionStart"),yn(Nv,"onTransitionCancel"),yn(gd,"onTransitionEnd"),Ns("onMouseEnter",["mouseout","mouseover"]),Ns("onMouseLeave",["mouseout","mouseover"]),Ns("onPointerEnter",["pointerout","pointerover"]),Ns("onPointerLeave",["pointerout","pointerover"]),Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fr));function Vm(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var r=e[i],u=r.event;r=r.listeners;e:{var h=void 0;if(t)for(var v=r.length-1;0<=v;v--){var w=r[v],R=w.instance,I=w.currentTarget;if(w=w.listener,R!==h&&u.isPropagationStopped())break e;h=w,u.currentTarget=I;try{h(u)}catch(W){vo(W)}u.currentTarget=null,h=R}else for(v=0;v<r.length;v++){if(w=r[v],R=w.instance,I=w.currentTarget,w=w.listener,R!==h&&u.isPropagationStopped())break e;h=w,u.currentTarget=I;try{h(u)}catch(W){vo(W)}u.currentTarget=null,h=R}}}}function Ce(e,t){var i=t[uc];i===void 0&&(i=t[uc]=new Set);var r=e+"__bubble";i.has(r)||(Bm(t,e,2,!1),i.add(r))}function Pu(e,t,i){var r=0;t&&(r|=4),Bm(i,e,r,t)}var sl="_reactListening"+Math.random().toString(36).slice(2);function $u(e){if(!e[sl]){e[sl]=!0,kf.forEach(function(i){i!=="selectionchange"&&(d_.has(i)||Pu(i,!1,e),Pu(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[sl]||(t[sl]=!0,Pu("selectionchange",!1,t))}}function Bm(e,t,i,r){switch(dg(t)){case 2:var u=L_;break;case 8:u=H_;break;default:u=ph}i=u.bind(null,t,i,e),u=void 0,!_c||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),r?u!==void 0?e.addEventListener(t,i,{capture:!0,passive:u}):e.addEventListener(t,i,!0):u!==void 0?e.addEventListener(t,i,{passive:u}):e.addEventListener(t,i,!1)}function eh(e,t,i,r,u){var h=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var v=r.tag;if(v===3||v===4){var w=r.stateNode.containerInfo;if(w===u)break;if(v===4)for(v=r.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===u)return;v=v.return}for(;w!==null;){if(v=Ms(w),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){r=h=v;continue e}w=w.parentNode}}r=r.return}Gf(function(){var I=h,W=yc(i),P=[];e:{var L=yd.get(e);if(L!==void 0){var X=mo,he=e;switch(e){case"keypress":if(fo(i)===0)break e;case"keydown":case"keyup":X=rv;break;case"focusin":he="focus",X=Tc;break;case"focusout":he="blur",X=Tc;break;case"beforeblur":case"afterblur":X=Tc;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Xf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Qy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=cv;break;case dd:case pd:case md:X=Ky;break;case gd:X=hv;break;case"scroll":case"scrollend":X=Xy;break;case"wheel":X=dv;break;case"copy":case"cut":case"paste":X=$y;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Qf;break;case"toggle":case"beforetoggle":X=mv}var ge=(t&4)!==0,Be=!ge&&(e==="scroll"||e==="scrollend"),B=ge?L!==null?L+"Capture":null:L;ge=[];for(var U=I,q;U!==null;){var K=U;if(q=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||q===null||B===null||(K=ja(U,B),K!=null&&ge.push(dr(U,K,q))),Be)break;U=U.return}0<ge.length&&(L=new X(L,he,null,i,W),P.push({event:L,listeners:ge}))}}if((t&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",L&&i!==gc&&(he=i.relatedTarget||i.fromElement)&&(Ms(he)||he[As]))break e;if((X||L)&&(L=W.window===W?W:(L=W.ownerDocument)?L.defaultView||L.parentWindow:window,X?(he=i.relatedTarget||i.toElement,X=I,he=he?Ms(he):null,he!==null&&(Be=c(he),ge=he.tag,he!==Be||ge!==5&&ge!==27&&ge!==6)&&(he=null)):(X=null,he=I),X!==he)){if(ge=Xf,K="onMouseLeave",B="onMouseEnter",U="mouse",(e==="pointerout"||e==="pointerover")&&(ge=Qf,K="onPointerLeave",B="onPointerEnter",U="pointer"),Be=X==null?L:Ra(X),q=he==null?L:Ra(he),L=new ge(K,U+"leave",X,i,W),L.target=Be,L.relatedTarget=q,K=null,Ms(W)===I&&(ge=new ge(B,U+"enter",he,i,W),ge.target=q,ge.relatedTarget=Be,K=ge),Be=K,X&&he)t:{for(ge=p_,B=X,U=he,q=0,K=B;K;K=ge(K))q++;K=0;for(var pe=U;pe;pe=ge(pe))K++;for(;0<q-K;)B=ge(B),q--;for(;0<K-q;)U=ge(U),K--;for(;q--;){if(B===U||U!==null&&B===U.alternate){ge=B;break t}B=ge(B),U=ge(U)}ge=null}else ge=null;X!==null&&qm(P,L,X,ge,!1),he!==null&&Be!==null&&qm(P,Be,he,ge,!0)}}e:{if(L=I?Ra(I):window,X=L.nodeName&&L.nodeName.toLowerCase(),X==="select"||X==="input"&&L.type==="file")var Ne=nd;else if(ed(L))if(id)Ne=wv;else{Ne=Tv;var de=Sv}else X=L.nodeName,!X||X.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?I&&mc(I.elementType)&&(Ne=nd):Ne=Cv;if(Ne&&(Ne=Ne(e,I))){td(P,Ne,i,W);break e}de&&de(e,L,I),e==="focusout"&&I&&L.type==="number"&&I.memoizedProps.value!=null&&pc(L,"number",L.value)}switch(de=I?Ra(I):window,e){case"focusin":(ed(de)||de.contentEditable==="true")&&(Us=de,Oc=I,Ha=null);break;case"focusout":Ha=Oc=Us=null;break;case"mousedown":Nc=!0;break;case"contextmenu":case"mouseup":case"dragend":Nc=!1,hd(P,i,W);break;case"selectionchange":if(Mv)break;case"keydown":case"keyup":hd(P,i,W)}var xe;if(wc)e:{switch(e){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else zs?Pf(e,i)&&(Ae="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Ae="onCompositionStart");Ae&&(Wf&&i.locale!=="ko"&&(zs||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&zs&&(xe=Ff()):(di=W,bc="value"in di?di.value:di.textContent,zs=!0)),de=al(I,Ae),0<de.length&&(Ae=new Zf(Ae,e,null,i,W),P.push({event:Ae,listeners:de}),xe?Ae.data=xe:(xe=$f(i),xe!==null&&(Ae.data=xe)))),(xe=yv?vv(e,i):_v(e,i))&&(Ae=al(I,"onBeforeInput"),0<Ae.length&&(de=new Zf("onBeforeInput","beforeinput",null,i,W),P.push({event:de,listeners:Ae}),de.data=xe)),u_(P,e,I,i,W)}Vm(P,t)})}function dr(e,t,i){return{instance:e,listener:t,currentTarget:i}}function al(e,t){for(var i=t+"Capture",r=[];e!==null;){var u=e,h=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||h===null||(u=ja(e,i),u!=null&&r.unshift(dr(e,u,h)),u=ja(e,t),u!=null&&r.push(dr(e,u,h))),e.tag===3)return r;e=e.return}return[]}function p_(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function qm(e,t,i,r,u){for(var h=t._reactName,v=[];i!==null&&i!==r;){var w=i,R=w.alternate,I=w.stateNode;if(w=w.tag,R!==null&&R===r)break;w!==5&&w!==26&&w!==27||I===null||(R=I,u?(I=ja(i,h),I!=null&&v.unshift(dr(i,I,R))):u||(I=ja(i,h),I!=null&&v.push(dr(i,I,R)))),i=i.return}v.length!==0&&e.push({event:t,listeners:v})}var m_=/\r\n?/g,g_=/\u0000|\uFFFD/g;function Im(e){return(typeof e=="string"?e:""+e).replace(m_,`
`).replace(g_,"")}function Lm(e,t){return t=Im(t),Im(e)===t}function Ve(e,t,i,r,u,h){switch(i){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Ds(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Ds(e,""+r);break;case"className":lo(e,"class",r);break;case"tabIndex":lo(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":lo(e,i,r);break;case"style":Lf(e,r,h);break;case"data":if(t!=="object"){lo(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=uo(""+r),e.setAttribute(i,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(t!=="input"&&Ve(e,t,"name",u.name,u,null),Ve(e,t,"formEncType",u.formEncType,u,null),Ve(e,t,"formMethod",u.formMethod,u,null),Ve(e,t,"formTarget",u.formTarget,u,null)):(Ve(e,t,"encType",u.encType,u,null),Ve(e,t,"method",u.method,u,null),Ve(e,t,"target",u.target,u,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=uo(""+r),e.setAttribute(i,r);break;case"onClick":r!=null&&(e.onclick=qn);break;case"onScroll":r!=null&&Ce("scroll",e);break;case"onScrollEnd":r!=null&&Ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(i=r.__html,i!=null){if(u.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}i=uo(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""+r):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":r===!0?e.setAttribute(i,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,r):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(i,r):e.removeAttribute(i);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(i):e.setAttribute(i,r);break;case"popover":Ce("beforetoggle",e),Ce("toggle",e),oo(e,"popover",r);break;case"xlinkActuate":Bn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Bn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Bn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Bn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Bn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Bn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Bn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Bn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Bn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":oo(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Fy.get(i)||i,oo(e,i,r))}}function th(e,t,i,r,u,h){switch(i){case"style":Lf(e,r,h);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(i=r.__html,i!=null){if(u.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"children":typeof r=="string"?Ds(e,r):(typeof r=="number"||typeof r=="bigint")&&Ds(e,""+r);break;case"onScroll":r!=null&&Ce("scroll",e);break;case"onScrollEnd":r!=null&&Ce("scrollend",e);break;case"onClick":r!=null&&(e.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Df.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(u=i.endsWith("Capture"),t=i.slice(2,u?i.length-7:void 0),h=e[jt]||null,h=h!=null?h[i]:null,typeof h=="function"&&e.removeEventListener(t,h,u),typeof r=="function")){typeof h!="function"&&h!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,r,u);break e}i in e?e[i]=r:r===!0?e.setAttribute(i,""):oo(e,i,r)}}}function wt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",e),Ce("load",e);var r=!1,u=!1,h;for(h in i)if(i.hasOwnProperty(h)){var v=i[h];if(v!=null)switch(h){case"src":r=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Ve(e,t,h,v,i,null)}}u&&Ve(e,t,"srcSet",i.srcSet,i,null),r&&Ve(e,t,"src",i.src,i,null);return;case"input":Ce("invalid",e);var w=h=v=u=null,R=null,I=null;for(r in i)if(i.hasOwnProperty(r)){var W=i[r];if(W!=null)switch(r){case"name":u=W;break;case"type":v=W;break;case"checked":R=W;break;case"defaultChecked":I=W;break;case"value":h=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(137,t));break;default:Ve(e,t,r,W,i,null)}}Vf(e,h,w,R,I,v,u,!1);return;case"select":Ce("invalid",e),r=v=h=null;for(u in i)if(i.hasOwnProperty(u)&&(w=i[u],w!=null))switch(u){case"value":h=w;break;case"defaultValue":v=w;break;case"multiple":r=w;default:Ve(e,t,u,w,i,null)}t=h,i=v,e.multiple=!!r,t!=null?ks(e,!!r,t,!1):i!=null&&ks(e,!!r,i,!0);return;case"textarea":Ce("invalid",e),h=u=r=null;for(v in i)if(i.hasOwnProperty(v)&&(w=i[v],w!=null))switch(v){case"value":r=w;break;case"defaultValue":u=w;break;case"children":h=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(91));break;default:Ve(e,t,v,w,i,null)}qf(e,r,u,h);return;case"option":for(R in i)if(i.hasOwnProperty(R)&&(r=i[R],r!=null))switch(R){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Ve(e,t,R,r,i,null)}return;case"dialog":Ce("beforetoggle",e),Ce("toggle",e),Ce("cancel",e),Ce("close",e);break;case"iframe":case"object":Ce("load",e);break;case"video":case"audio":for(r=0;r<fr.length;r++)Ce(fr[r],e);break;case"image":Ce("error",e),Ce("load",e);break;case"details":Ce("toggle",e);break;case"embed":case"source":case"link":Ce("error",e),Ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in i)if(i.hasOwnProperty(I)&&(r=i[I],r!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Ve(e,t,I,r,i,null)}return;default:if(mc(t)){for(W in i)i.hasOwnProperty(W)&&(r=i[W],r!==void 0&&th(e,t,W,r,i,void 0));return}}for(w in i)i.hasOwnProperty(w)&&(r=i[w],r!=null&&Ve(e,t,w,r,i,null))}function y_(e,t,i,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,h=null,v=null,w=null,R=null,I=null,W=null;for(X in i){var P=i[X];if(i.hasOwnProperty(X)&&P!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":R=P;default:r.hasOwnProperty(X)||Ve(e,t,X,null,r,P)}}for(var L in r){var X=r[L];if(P=i[L],r.hasOwnProperty(L)&&(X!=null||P!=null))switch(L){case"type":h=X;break;case"name":u=X;break;case"checked":I=X;break;case"defaultChecked":W=X;break;case"value":v=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,t));break;default:X!==P&&Ve(e,t,L,X,r,P)}}dc(e,v,w,R,I,W,h,u);return;case"select":X=v=w=L=null;for(h in i)if(R=i[h],i.hasOwnProperty(h)&&R!=null)switch(h){case"value":break;case"multiple":X=R;default:r.hasOwnProperty(h)||Ve(e,t,h,null,r,R)}for(u in r)if(h=r[u],R=i[u],r.hasOwnProperty(u)&&(h!=null||R!=null))switch(u){case"value":L=h;break;case"defaultValue":w=h;break;case"multiple":v=h;default:h!==R&&Ve(e,t,u,h,r,R)}t=w,i=v,r=X,L!=null?ks(e,!!i,L,!1):!!r!=!!i&&(t!=null?ks(e,!!i,t,!0):ks(e,!!i,i?[]:"",!1));return;case"textarea":X=L=null;for(w in i)if(u=i[w],i.hasOwnProperty(w)&&u!=null&&!r.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Ve(e,t,w,null,r,u)}for(v in r)if(u=r[v],h=i[v],r.hasOwnProperty(v)&&(u!=null||h!=null))switch(v){case"value":L=u;break;case"defaultValue":X=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(a(91));break;default:u!==h&&Ve(e,t,v,u,r,h)}Bf(e,L,X);return;case"option":for(var he in i)if(L=i[he],i.hasOwnProperty(he)&&L!=null&&!r.hasOwnProperty(he))switch(he){case"selected":e.selected=!1;break;default:Ve(e,t,he,null,r,L)}for(R in r)if(L=r[R],X=i[R],r.hasOwnProperty(R)&&L!==X&&(L!=null||X!=null))switch(R){case"selected":e.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:Ve(e,t,R,L,r,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in i)L=i[ge],i.hasOwnProperty(ge)&&L!=null&&!r.hasOwnProperty(ge)&&Ve(e,t,ge,null,r,L);for(I in r)if(L=r[I],X=i[I],r.hasOwnProperty(I)&&L!==X&&(L!=null||X!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(137,t));break;default:Ve(e,t,I,L,r,X)}return;default:if(mc(t)){for(var Be in i)L=i[Be],i.hasOwnProperty(Be)&&L!==void 0&&!r.hasOwnProperty(Be)&&th(e,t,Be,void 0,r,L);for(W in r)L=r[W],X=i[W],!r.hasOwnProperty(W)||L===X||L===void 0&&X===void 0||th(e,t,W,L,r,X);return}}for(var B in i)L=i[B],i.hasOwnProperty(B)&&L!=null&&!r.hasOwnProperty(B)&&Ve(e,t,B,null,r,L);for(P in r)L=r[P],X=i[P],!r.hasOwnProperty(P)||L===X||L==null&&X==null||Ve(e,t,P,L,r,X)}function Hm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function v_(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),r=0;r<i.length;r++){var u=i[r],h=u.transferSize,v=u.initiatorType,w=u.duration;if(h&&w&&Hm(v)){for(v=0,w=u.responseEnd,r+=1;r<i.length;r++){var R=i[r],I=R.startTime;if(I>w)break;var W=R.transferSize,P=R.initiatorType;W&&Hm(P)&&(R=R.responseEnd,v+=W*(R<w?1:(w-I)/(R-I)))}if(--r,t+=8*(h+v)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var nh=null,ih=null;function rl(e){return e.nodeType===9?e:e.ownerDocument}function Gm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function sh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ah=null;function __(){var e=window.event;return e&&e.type==="popstate"?e===ah?!1:(ah=e,!0):(ah=null,!1)}var Ym=typeof setTimeout=="function"?setTimeout:void 0,b_=typeof clearTimeout=="function"?clearTimeout:void 0,Xm=typeof Promise=="function"?Promise:void 0,x_=typeof queueMicrotask=="function"?queueMicrotask:typeof Xm<"u"?function(e){return Xm.resolve(null).then(e).catch(S_)}:Ym;function S_(e){setTimeout(function(){throw e})}function Ni(e){return e==="head"}function Zm(e,t){var i=t,r=0;do{var u=i.nextSibling;if(e.removeChild(i),u&&u.nodeType===8)if(i=u.data,i==="/$"||i==="/&"){if(r===0){e.removeChild(u),ca(t);return}r--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")r++;else if(i==="html")pr(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,pr(i);for(var h=i.firstChild;h;){var v=h.nextSibling,w=h.nodeName;h[Da]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&h.rel.toLowerCase()==="stylesheet"||i.removeChild(h),h=v}}else i==="body"&&pr(e.ownerDocument.body);i=u}while(i);ca(t)}function Qm(e,t){var i=e;e=0;do{var r=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),r&&r.nodeType===8)if(i=r.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=r}while(i)}function rh(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":rh(i),hc(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function T_(e,t,i,r){for(;e.nodeType===1;){var u=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Da])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var h=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=fn(e.nextSibling),e===null)break}return null}function C_(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=fn(e.nextSibling),e===null))return null;return e}function Wm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=fn(e.nextSibling),e===null))return null;return e}function oh(e){return e.data==="$?"||e.data==="$~"}function lh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function w_(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var r=function(){t(),i.removeEventListener("DOMContentLoaded",r)};i.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var ch=null;function Jm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return fn(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function Km(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function Pm(e,t,i){switch(t=rl(i),e){case"html":if(e=t.documentElement,!e)throw Error(a(452));return e;case"head":if(e=t.head,!e)throw Error(a(453));return e;case"body":if(e=t.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function pr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);hc(e)}var dn=new Map,$m=new Set;function ol(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ti=G.d;G.d={f:A_,r:M_,D:E_,C:O_,L:N_,m:k_,X:R_,S:D_,M:j_};function A_(){var e=ti.f(),t=Po();return e||t}function M_(e){var t=Es(e);t!==null&&t.tag===5&&t.type==="form"?gp(t):ti.r(e)}var ra=typeof document>"u"?null:document;function eg(e,t,i){var r=ra;if(r&&typeof t=="string"&&t){var u=an(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof i=="string"&&(u+='[crossorigin="'+i+'"]'),$m.has(u)||($m.add(u),e={rel:e,crossOrigin:i,href:t},r.querySelector(u)===null&&(t=r.createElement("link"),wt(t,"link",e),gt(t),r.head.appendChild(t)))}}function E_(e){ti.D(e),eg("dns-prefetch",e,null)}function O_(e,t){ti.C(e,t),eg("preconnect",e,t)}function N_(e,t,i){ti.L(e,t,i);var r=ra;if(r&&e&&t){var u='link[rel="preload"][as="'+an(t)+'"]';t==="image"&&i&&i.imageSrcSet?(u+='[imagesrcset="'+an(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(u+='[imagesizes="'+an(i.imageSizes)+'"]')):u+='[href="'+an(e)+'"]';var h=u;switch(t){case"style":h=oa(e);break;case"script":h=la(e)}dn.has(h)||(e=y({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),dn.set(h,e),r.querySelector(u)!==null||t==="style"&&r.querySelector(mr(h))||t==="script"&&r.querySelector(gr(h))||(t=r.createElement("link"),wt(t,"link",e),gt(t),r.head.appendChild(t)))}}function k_(e,t){ti.m(e,t);var i=ra;if(i&&e){var r=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+an(r)+'"][href="'+an(e)+'"]',h=u;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=la(e)}if(!dn.has(h)&&(e=y({rel:"modulepreload",href:e},t),dn.set(h,e),i.querySelector(u)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(gr(h)))return}r=i.createElement("link"),wt(r,"link",e),gt(r),i.head.appendChild(r)}}}function D_(e,t,i){ti.S(e,t,i);var r=ra;if(r&&e){var u=Os(r).hoistableStyles,h=oa(e);t=t||"default";var v=u.get(h);if(!v){var w={loading:0,preload:null};if(v=r.querySelector(mr(h)))w.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},i),(i=dn.get(h))&&uh(e,i);var R=v=r.createElement("link");gt(R),wt(R,"link",e),R._p=new Promise(function(I,W){R.onload=I,R.onerror=W}),R.addEventListener("load",function(){w.loading|=1}),R.addEventListener("error",function(){w.loading|=2}),w.loading|=4,ll(v,t,r)}v={type:"stylesheet",instance:v,count:1,state:w},u.set(h,v)}}}function R_(e,t){ti.X(e,t);var i=ra;if(i&&e){var r=Os(i).hoistableScripts,u=la(e),h=r.get(u);h||(h=i.querySelector(gr(u)),h||(e=y({src:e,async:!0},t),(t=dn.get(u))&&hh(e,t),h=i.createElement("script"),gt(h),wt(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},r.set(u,h))}}function j_(e,t){ti.M(e,t);var i=ra;if(i&&e){var r=Os(i).hoistableScripts,u=la(e),h=r.get(u);h||(h=i.querySelector(gr(u)),h||(e=y({src:e,async:!0,type:"module"},t),(t=dn.get(u))&&hh(e,t),h=i.createElement("script"),gt(h),wt(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},r.set(u,h))}}function tg(e,t,i,r){var u=(u=fe.current)?ol(u):null;if(!u)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=oa(i.href),i=Os(u).hoistableStyles,r=i.get(t),r||(r={type:"style",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=oa(i.href);var h=Os(u).hoistableStyles,v=h.get(e);if(v||(u=u.ownerDocument||u,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,v),(h=u.querySelector(mr(e)))&&!h._p&&(v.instance=h,v.state.loading=5),dn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},dn.set(e,i),h||z_(u,e,i,v.state))),t&&r===null)throw Error(a(528,""));return v}if(t&&r!==null)throw Error(a(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=la(i),i=Os(u).hoistableScripts,r=i.get(t),r||(r={type:"script",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function oa(e){return'href="'+an(e)+'"'}function mr(e){return'link[rel="stylesheet"]['+e+"]"}function ng(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function z_(e,t,i,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),wt(t,"link",i),gt(t),e.head.appendChild(t))}function la(e){return'[src="'+an(e)+'"]'}function gr(e){return"script[async]"+e}function ig(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+an(i.href)+'"]');if(r)return t.instance=r,gt(r),r;var u=y({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),gt(r),wt(r,"style",u),ll(r,i.precedence,e),t.instance=r;case"stylesheet":u=oa(i.href);var h=e.querySelector(mr(u));if(h)return t.state.loading|=4,t.instance=h,gt(h),h;r=ng(i),(u=dn.get(u))&&uh(r,u),h=(e.ownerDocument||e).createElement("link"),gt(h);var v=h;return v._p=new Promise(function(w,R){v.onload=w,v.onerror=R}),wt(h,"link",r),t.state.loading|=4,ll(h,i.precedence,e),t.instance=h;case"script":return h=la(i.src),(u=e.querySelector(gr(h)))?(t.instance=u,gt(u),u):(r=i,(u=dn.get(h))&&(r=y({},i),hh(r,u)),e=e.ownerDocument||e,u=e.createElement("script"),gt(u),wt(u,"link",r),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(a(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,ll(r,i.precedence,e));return t.instance}function ll(e,t,i){for(var r=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=r.length?r[r.length-1]:null,h=u,v=0;v<r.length;v++){var w=r[v];if(w.dataset.precedence===t)h=w;else if(h!==u)break}h?h.parentNode.insertBefore(e,h.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function uh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function hh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var cl=null;function sg(e,t,i){if(cl===null){var r=new Map,u=cl=new Map;u.set(i,r)}else u=cl,r=u.get(i),r||(r=new Map,u.set(i,r));if(r.has(e))return r;for(r.set(e,null),i=i.getElementsByTagName(e),u=0;u<i.length;u++){var h=i[u];if(!(h[Da]||h[xt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var v=h.getAttribute(t)||"";v=e+v;var w=r.get(v);w?w.push(h):r.set(v,[h])}}return r}function ag(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function U_(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function rg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function V_(e,t,i,r){if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var u=oa(r.href),h=t.querySelector(mr(u));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ul.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=h,gt(h);return}h=t.ownerDocument||t,r=ng(r),(u=dn.get(u))&&uh(r,u),h=h.createElement("link"),gt(h);var v=h;v._p=new Promise(function(w,R){v.onload=w,v.onerror=R}),wt(h,"link",r),i.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=ul.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var fh=0;function B_(e,t){return e.stylesheets&&e.count===0&&fl(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var r=setTimeout(function(){if(e.stylesheets&&fl(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+t);0<e.imgBytes&&fh===0&&(fh=62500*v_());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&fl(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>fh?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(u)}}:null}function ul(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var hl=null;function fl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,hl=new Map,t.forEach(q_,e),hl=null,ul.call(e))}function q_(e,t){if(!(t.state.loading&4)){var i=hl.get(e);if(i)var r=i.get(null);else{i=new Map,hl.set(e,i);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<u.length;h++){var v=u[h];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(i.set(v.dataset.precedence,v),r=v)}r&&i.set(null,r)}u=t.instance,v=u.getAttribute("data-precedence"),h=i.get(v)||r,h===r&&i.set(null,u),i.set(v,u),this.count++,r=ul.bind(this),u.addEventListener("load",r),u.addEventListener("error",r),h?h.parentNode.insertBefore(u,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var yr={$$typeof:k,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function I_(e,t,i,r,u,h,v,w,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oc(0),this.hiddenUpdates=oc(null),this.identifierPrefix=r,this.onUncaughtError=u,this.onCaughtError=h,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function og(e,t,i,r,u,h,v,w,R,I,W,P){return e=new I_(e,t,i,v,R,I,W,P,w),t=1,h===!0&&(t|=24),h=Qt(3,null,null,t),e.current=h,h.stateNode=e,t=Yc(),t.refCount++,e.pooledCache=t,t.refCount++,h.memoizedState={element:r,isDehydrated:i,cache:t},Wc(h),e}function lg(e){return e?(e=qs,e):qs}function cg(e,t,i,r,u,h){u=lg(u),r.context===null?r.context=u:r.pendingContext=u,r=_i(t),r.payload={element:i},h=h===void 0?null:h,h!==null&&(r.callback=h),i=bi(e,r,t),i!==null&&(It(i,e,t),Wa(i,e,t))}function ug(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function dh(e,t){ug(e,t),(e=e.alternate)&&ug(e,t)}function hg(e){if(e.tag===13||e.tag===31){var t=Ji(e,67108864);t!==null&&It(t,e,67108864),dh(e,67108864)}}function fg(e){if(e.tag===13||e.tag===31){var t=$t();t=lc(t);var i=Ji(e,t);i!==null&&It(i,e,t),dh(e,t)}}var dl=!0;function L_(e,t,i,r){var u=V.T;V.T=null;var h=G.p;try{G.p=2,ph(e,t,i,r)}finally{G.p=h,V.T=u}}function H_(e,t,i,r){var u=V.T;V.T=null;var h=G.p;try{G.p=8,ph(e,t,i,r)}finally{G.p=h,V.T=u}}function ph(e,t,i,r){if(dl){var u=mh(r);if(u===null)eh(e,t,r,pl,i),pg(e,r);else if(F_(u,e,t,i,r))r.stopPropagation();else if(pg(e,r),t&4&&-1<G_.indexOf(e)){for(;u!==null;){var h=Es(u);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var v=Yi(h.pendingLanes);if(v!==0){var w=h;for(w.pendingLanes|=2,w.entangledLanes|=2;v;){var R=1<<31-Xt(v);w.entanglements[1]|=R,v&=~R}kn(h),(De&6)===0&&(Jo=bt()+500,hr(0))}}break;case 31:case 13:w=Ji(h,2),w!==null&&It(w,h,2),Po(),dh(h,2)}if(h=mh(r),h===null&&eh(e,t,r,pl,i),h===u)break;u=h}u!==null&&r.stopPropagation()}else eh(e,t,r,null,i)}}function mh(e){return e=yc(e),gh(e)}var pl=null;function gh(e){if(pl=null,e=Ms(e),e!==null){var t=c(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=f(t),e!==null)return e;e=null}else if(i===31){if(e=d(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return pl=e,null}function dg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rc()){case to:return 2;case Sf:return 8;case no:case Oy:return 32;case Tf:return 268435456;default:return 32}default:return 32}}var yh=!1,ki=null,Di=null,Ri=null,vr=new Map,_r=new Map,ji=[],G_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pg(e,t){switch(e){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":Ri=null;break;case"pointerover":case"pointerout":vr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_r.delete(t.pointerId)}}function br(e,t,i,r,u,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:i,eventSystemFlags:r,nativeEvent:h,targetContainers:[u]},t!==null&&(t=Es(t),t!==null&&hg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function F_(e,t,i,r,u){switch(t){case"focusin":return ki=br(ki,e,t,i,r,u),!0;case"dragenter":return Di=br(Di,e,t,i,r,u),!0;case"mouseover":return Ri=br(Ri,e,t,i,r,u),!0;case"pointerover":var h=u.pointerId;return vr.set(h,br(vr.get(h)||null,e,t,i,r,u)),!0;case"gotpointercapture":return h=u.pointerId,_r.set(h,br(_r.get(h)||null,e,t,i,r,u)),!0}return!1}function mg(e){var t=Ms(e.target);if(t!==null){var i=c(t);if(i!==null){if(t=i.tag,t===13){if(t=f(i),t!==null){e.blockedOn=t,Of(e.priority,function(){fg(i)});return}}else if(t===31){if(t=d(i),t!==null){e.blockedOn=t,Of(e.priority,function(){fg(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ml(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=mh(e.nativeEvent);if(i===null){i=e.nativeEvent;var r=new i.constructor(i.type,i);gc=r,i.target.dispatchEvent(r),gc=null}else return t=Es(i),t!==null&&hg(t),e.blockedOn=i,!1;t.shift()}return!0}function gg(e,t,i){ml(e)&&i.delete(t)}function Y_(){yh=!1,ki!==null&&ml(ki)&&(ki=null),Di!==null&&ml(Di)&&(Di=null),Ri!==null&&ml(Ri)&&(Ri=null),vr.forEach(gg),_r.forEach(gg)}function gl(e,t){e.blockedOn===t&&(e.blockedOn=null,yh||(yh=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Y_)))}var yl=null;function yg(e){yl!==e&&(yl=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){yl===e&&(yl=null);for(var t=0;t<e.length;t+=3){var i=e[t],r=e[t+1],u=e[t+2];if(typeof r!="function"){if(gh(r||i)===null)continue;break}var h=Es(i);h!==null&&(e.splice(t,3),t-=3,mu(h,{pending:!0,data:u,method:i.method,action:r},r,u))}}))}function ca(e){function t(R){return gl(R,e)}ki!==null&&gl(ki,e),Di!==null&&gl(Di,e),Ri!==null&&gl(Ri,e),vr.forEach(t),_r.forEach(t);for(var i=0;i<ji.length;i++){var r=ji[i];r.blockedOn===e&&(r.blockedOn=null)}for(;0<ji.length&&(i=ji[0],i.blockedOn===null);)mg(i),i.blockedOn===null&&ji.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(r=0;r<i.length;r+=3){var u=i[r],h=i[r+1],v=u[jt]||null;if(typeof h=="function")v||yg(i);else if(v){var w=null;if(h&&h.hasAttribute("formAction")){if(u=h,v=h[jt]||null)w=v.formAction;else if(gh(u)!==null)continue}else w=v.action;typeof w=="function"?i[r+1]=w:(i.splice(r,3),r-=3),yg(i)}}}function vg(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(v){return u=v})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),r||setTimeout(i,20)}function i(){if(!r&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function vh(e){this._internalRoot=e}vl.prototype.render=vh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));var i=t.current,r=$t();cg(i,r,e,t,null,null)},vl.prototype.unmount=vh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cg(e.current,2,null,e,null,null),Po(),t[As]=null}};function vl(e){this._internalRoot=e}vl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ef();e={blockedOn:null,target:e,priority:t};for(var i=0;i<ji.length&&t!==0&&t<ji[i].priority;i++);ji.splice(i,0,e),i===0&&mg(e)}};var _g=n.version;if(_g!=="19.2.1")throw Error(a(527,_g,"19.2.1"));G.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=p(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var X_={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_l.isDisabled&&_l.supportsFiber)try{Oa=_l.inject(X_),Yt=_l}catch{}}return Sr.createRoot=function(e,t){if(!l(e))throw Error(a(299));var i=!1,r="",u=Ap,h=Mp,v=Ep;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(h=t.onCaughtError),t.onRecoverableError!==void 0&&(v=t.onRecoverableError)),t=og(e,1,!1,null,null,i,r,null,u,h,v,vg),e[As]=t.current,$u(e),new vh(t)},Sr.hydrateRoot=function(e,t,i){if(!l(e))throw Error(a(299));var r=!1,u="",h=Ap,v=Mp,w=Ep,R=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError),i.formState!==void 0&&(R=i.formState)),t=og(e,1,!0,t,i??null,r,u,R,h,v,w,vg),t.context=lg(null),i=t.current,r=$t(),r=lc(r),u=_i(r),u.callback=null,bi(i,u,r),i=r,t.current.lanes=i,ka(t,i),kn(t),e[As]=t.current,$u(e),new vl(t)},Sr.version="19.2.1",Sr}var Og;function ib(){if(Og)return xh.exports;Og=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(n){console.error(n)}}return o(),xh.exports=nb(),xh.exports}var sb=ib();const ab=d0(sb);async function wh(o,n={},s){return window.__TAURI_INTERNALS__.invoke(o,n,s)}const rb=()=>({getEmotions:async()=>{try{return await wh("get_emotions")}catch(a){throw console.error("Failed to get emotions:",a),a}},generateMusic:async a=>{try{return await wh("generate_music",{request:a})}catch(l){throw console.error("Failed to generate music:",l),l}},interrogate:async a=>{try{return await wh("interrogate",{request:a})}catch(l){throw console.error("Failed to interrogate:",l),l}}}),ob=({emotions:o,onEmotionSelected:n})=>{const[s,a]=$.useState(null),[l,c]=$.useState(null),[f,d]=$.useState(null);if(!o)return x.jsx("div",{className:"emotion-wheel-empty",children:"Load emotions to begin selection"});const m=Object.keys(o.emotions),p=T=>{a(T),c(null),d(null),n(null)},g=T=>{c(T),d(null),n(null)},y=T=>{d(T),s&&l&&n({base:s,intensity:l,sub:T})},_=()=>{a(null),c(null),d(null),n(null)},b=T=>{const N=T.toLowerCase();return N.includes("angry")||N==="anger"?"emotion-angry":N.includes("sad")||N==="sadness"?"emotion-sad":N.includes("happy")||N==="joy"||N==="happiness"?"emotion-happy":N.includes("fear")||N==="fear"?"emotion-fear":N.includes("disgust")||N==="disgust"?"emotion-disgust":N.includes("surprise")||N==="surprise"?"emotion-surprise":"emotion-neutral"},C=()=>!s||!o?.emotions[s]?[]:Object.keys(o.emotions[s].intensities||{}),A=()=>!s||!l||!o?.emotions[s]?[]:o.emotions[s].intensities?.[l]||[],S=T=>T&&T.charAt(0).toUpperCase()+T.slice(1);return x.jsxs("div",{className:"emotion-wheel-container",children:[s&&l&&f&&x.jsxs("div",{className:"emotion-wheel-selected animate-fadeIn",children:[x.jsxs("div",{className:"emotion-wheel-selected-content",children:[x.jsx("div",{className:"emotion-wheel-selected-label",children:"Selected Emotion:"}),x.jsxs("div",{className:"emotion-wheel-selected-value",children:[S(s),"  ",S(l),"  ",S(f)]})]}),x.jsx("button",{onClick:_,className:"emotion-wheel-clear-btn",children:"Clear"})]}),x.jsxs("div",{className:"emotion-wheel-step",children:[x.jsx("h4",{className:"emotion-wheel-step-title",children:s?"1. Base Emotion (selected)":"1. Select Base Emotion"}),x.jsx("div",{className:"emotion-wheel-grid emotion-wheel-grid-base",children:m.map(T=>x.jsx("button",{onClick:()=>p(T),className:`emotion-wheel-btn ${b(T)} ${s===T?"emotion-wheel-btn-selected":""}`,children:S(T)},T))})]}),s&&x.jsxs("div",{className:"emotion-wheel-step animate-fadeIn",children:[x.jsx("h4",{className:"emotion-wheel-step-title",children:l?"2. Intensity Level (selected)":"2. Select Intensity Level"}),x.jsx("div",{className:"emotion-wheel-grid emotion-wheel-grid-intensity",children:C().map(T=>x.jsx("button",{onClick:()=>g(T),className:`emotion-wheel-btn ${b(s)} ${l===T?"emotion-wheel-btn-selected":""}`,children:S(T)},T))})]}),s&&l&&x.jsxs("div",{className:"emotion-wheel-step animate-fadeIn",children:[x.jsx("h4",{className:"emotion-wheel-step-title",children:f?"3. Specific Emotion (selected)":"3. Select Specific Emotion"}),x.jsx("div",{className:"emotion-wheel-grid emotion-wheel-grid-sub",children:A().map(T=>x.jsx("button",{onClick:()=>y(T),className:`emotion-wheel-btn ${b(s)} ${f===T?"emotion-wheel-btn-selected":""}`,children:S(T)},T))})]}),!s&&x.jsx("div",{className:"emotion-wheel-empty",children:"Choose your emotional starting point above"})]})},m0="14.9.17",Ng=(o,n,s)=>({endTime:n,insertTime:s,type:"exponentialRampToValue",value:o}),kg=(o,n,s)=>({endTime:n,insertTime:s,type:"linearRampToValue",value:o}),Rh=(o,n)=>({startTime:n,type:"setValue",value:o}),g0=(o,n,s)=>({duration:s,startTime:n,type:"setValueCurve",values:o}),y0=(o,n,{startTime:s,target:a,timeConstant:l})=>a+(n-a)*Math.exp((s-o)/l),fa=o=>o.type==="exponentialRampToValue",Ml=o=>o.type==="linearRampToValue",Vi=o=>fa(o)||Ml(o),Qh=o=>o.type==="setValue",ii=o=>o.type==="setValueCurve",El=(o,n,s,a)=>{const l=o[n];return l===void 0?a:Vi(l)||Qh(l)?l.value:ii(l)?l.values[l.values.length-1]:y0(s,El(o,n-1,l.startTime,a),l)},Dg=(o,n,s,a,l)=>s===void 0?[a.insertTime,l]:Vi(s)?[s.endTime,s.value]:Qh(s)?[s.startTime,s.value]:ii(s)?[s.startTime+s.duration,s.values[s.values.length-1]]:[s.startTime,El(o,n-1,s.startTime,l)],jh=o=>o.type==="cancelAndHold",zh=o=>o.type==="cancelScheduledValues",Ui=o=>jh(o)||zh(o)?o.cancelTime:fa(o)||Ml(o)?o.endTime:o.startTime,Rg=(o,n,s,{endTime:a,value:l})=>s===l?l:0<s&&0<l||s<0&&l<0?s*(l/s)**((o-n)/(a-n)):0,jg=(o,n,s,{endTime:a,value:l})=>s+(o-n)/(a-n)*(l-s),lb=(o,n)=>{const s=Math.floor(n),a=Math.ceil(n);return s===a?o[s]:(1-(n-s))*o[s]+(1-(a-n))*o[a]},cb=(o,{duration:n,startTime:s,values:a})=>{const l=(o-s)/n*(a.length-1);return lb(a,l)},bl=o=>o.type==="setTarget";class ub{constructor(n){this._automationEvents=[],this._currenTime=0,this._defaultValue=n}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(n){const s=Ui(n);if(jh(n)||zh(n)){const a=this._automationEvents.findIndex(c=>zh(n)&&ii(c)?c.startTime+c.duration>=s:Ui(c)>=s),l=this._automationEvents[a];if(a!==-1&&(this._automationEvents=this._automationEvents.slice(0,a)),jh(n)){const c=this._automationEvents[this._automationEvents.length-1];if(l!==void 0&&Vi(l)){if(c!==void 0&&bl(c))throw new Error("The internal list is malformed.");const f=c===void 0?l.insertTime:ii(c)?c.startTime+c.duration:Ui(c),d=c===void 0?this._defaultValue:ii(c)?c.values[c.values.length-1]:c.value,m=fa(l)?Rg(s,f,d,l):jg(s,f,d,l),p=fa(l)?Ng(m,s,this._currenTime):kg(m,s,this._currenTime);this._automationEvents.push(p)}if(c!==void 0&&bl(c)&&this._automationEvents.push(Rh(this.getValue(s),s)),c!==void 0&&ii(c)&&c.startTime+c.duration>s){const f=s-c.startTime,d=(c.values.length-1)/c.duration,m=Math.max(2,1+Math.ceil(f*d)),p=f/(m-1)*d,g=c.values.slice(0,m);if(p<1)for(let y=1;y<m;y+=1){const _=p*y%1;g[y]=c.values[y-1]*(1-_)+c.values[y]*_}this._automationEvents[this._automationEvents.length-1]=g0(g,c.startTime,f)}}}else{const a=this._automationEvents.findIndex(f=>Ui(f)>s),l=a===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[a-1];if(l!==void 0&&ii(l)&&Ui(l)+l.duration>s)return!1;const c=fa(n)?Ng(n.value,n.endTime,this._currenTime):Ml(n)?kg(n.value,s,this._currenTime):n;if(a===-1)this._automationEvents.push(c);else{if(ii(n)&&s+n.duration>Ui(this._automationEvents[a]))return!1;this._automationEvents.splice(a,0,c)}}return!0}flush(n){const s=this._automationEvents.findIndex(a=>Ui(a)>n);if(s>1){const a=this._automationEvents.slice(s-1),l=a[0];bl(l)&&a.unshift(Rh(El(this._automationEvents,s-2,l.startTime,this._defaultValue),l.startTime)),this._automationEvents=a}}getValue(n){if(this._automationEvents.length===0)return this._defaultValue;const s=this._automationEvents.findIndex(f=>Ui(f)>n),a=this._automationEvents[s],l=(s===-1?this._automationEvents.length:s)-1,c=this._automationEvents[l];if(c!==void 0&&bl(c)&&(a===void 0||!Vi(a)||a.insertTime>n))return y0(n,El(this._automationEvents,l-1,c.startTime,this._defaultValue),c);if(c!==void 0&&Qh(c)&&(a===void 0||!Vi(a)))return c.value;if(c!==void 0&&ii(c)&&(a===void 0||!Vi(a)||c.startTime+c.duration>n))return n<c.startTime+c.duration?cb(n,c):c.values[c.values.length-1];if(c!==void 0&&Vi(c)&&(a===void 0||!Vi(a)))return c.value;if(a!==void 0&&fa(a)){const[f,d]=Dg(this._automationEvents,l,c,a,this._defaultValue);return Rg(n,f,d,a)}if(a!==void 0&&Ml(a)){const[f,d]=Dg(this._automationEvents,l,c,a,this._defaultValue);return jg(n,f,d,a)}return this._defaultValue}}const hb=o=>({cancelTime:o,type:"cancelAndHold"}),fb=o=>({cancelTime:o,type:"cancelScheduledValues"}),db=(o,n)=>({endTime:n,type:"exponentialRampToValue",value:o}),pb=(o,n)=>({endTime:n,type:"linearRampToValue",value:o}),mb=(o,n,s)=>({startTime:n,target:o,timeConstant:s,type:"setTarget"}),gb=()=>new DOMException("","AbortError"),yb=o=>(n,s,[a,l,c],f)=>{o(n[l],[s,a,c],d=>d[0]===s&&d[1]===a,f)},vb=o=>(n,s,a)=>{const l=[];for(let c=0;c<a.numberOfInputs;c+=1)l.push(new Set);o.set(n,{activeInputs:l,outputs:new Set,passiveInputs:new WeakMap,renderer:s})},_b=o=>(n,s)=>{o.set(n,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:s})},ma=new WeakSet,v0=new WeakMap,Wh=new WeakMap,_0=new WeakMap,Jh=new WeakMap,Jl=new WeakMap,b0=new WeakMap,Uh=new WeakMap,Vh=new WeakMap,Bh=new WeakMap,x0={construct(){return x0}},bb=o=>{try{const n=new Proxy(o,x0);new n}catch{return!1}return!0},zg=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Ug=(o,n)=>{const s=[];let a=o.replace(/^[\s]+/,""),l=a.match(zg);for(;l!==null;){const c=l[1].slice(1,-1),f=l[0].replace(/([\s]+)?;?$/,"").replace(c,new URL(c,n).toString());s.push(f),a=a.slice(l[0].length).replace(/^[\s]+/,""),l=a.match(zg)}return[s.join(";"),a]},Vg=o=>{if(o!==void 0&&!Array.isArray(o))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Bg=o=>{if(!bb(o))throw new TypeError("The given value for processorCtor should be a constructor.");if(o.prototype===null||typeof o.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},xb=(o,n,s,a,l,c,f,d,m,p,g,y,_)=>{let b=0;return(C,A,S={credentials:"omit"})=>{const T=g.get(C);if(T!==void 0&&T.has(A))return Promise.resolve();const N=p.get(C);if(N!==void 0){const M=N.get(A);if(M!==void 0)return M}const k=c(C),D=k.audioWorklet===void 0?l(A).then(([M,E])=>{const[z,j]=Ug(M,E),F=`${z};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${j}
})})(window,'_AWGS')`;return s(F)}).then(()=>{const M=_._AWGS.pop();if(M===void 0)throw new SyntaxError;a(k.currentTime,k.sampleRate,()=>M(class{},void 0,(E,z)=>{if(E.trim()==="")throw n();const j=Vh.get(k);if(j!==void 0){if(j.has(E))throw n();Bg(z),Vg(z.parameterDescriptors),j.set(E,z)}else Bg(z),Vg(z.parameterDescriptors),Vh.set(k,new Map([[E,z]]))},k.sampleRate,void 0,void 0))}):Promise.all([l(A),Promise.resolve(o(y,y))]).then(([[M,E],z])=>{const j=b+1;b=j;const[F,J]=Ug(M,E),Z=`${F};((AudioWorkletProcessor,registerProcessor)=>{${J}
})(${z?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${z?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${z?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${j}',class extends AudioWorkletProcessor{process(){return !1}})`,ne=new Blob([Z],{type:"application/javascript; charset=utf-8"}),V=URL.createObjectURL(ne);return k.audioWorklet.addModule(V,S).then(()=>{if(d(k))return k;const G=f(k);return G.audioWorklet.addModule(V,S).then(()=>G)}).then(G=>{if(m===null)throw new SyntaxError;try{new m(G,`__sac${j}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(V))});return N===void 0?p.set(C,new Map([[A,D]])):N.set(A,D),D.then(()=>{const M=g.get(C);M===void 0?g.set(C,new Set([A])):M.add(A)}).finally(()=>{const M=p.get(C);M!==void 0&&M.delete(A)}),D}},Sn=(o,n)=>{const s=o.get(n);if(s===void 0)throw new Error("A value with the given key could not be found.");return s},Kl=(o,n)=>{const s=Array.from(o).filter(n);if(s.length>1)throw Error("More than one element was found.");if(s.length===0)throw Error("No element was found.");const[a]=s;return o.delete(a),a},S0=(o,n,s,a)=>{const l=Sn(o,n),c=Kl(l,f=>f[0]===s&&f[1]===a);return l.size===0&&o.delete(n),c},Fr=o=>Sn(b0,o),ga=o=>{if(ma.has(o))throw new Error("The AudioNode is already stored.");ma.add(o),Fr(o).forEach(n=>n(!0))},T0=o=>"port"in o,Yr=o=>{if(!ma.has(o))throw new Error("The AudioNode is not stored.");ma.delete(o),Fr(o).forEach(n=>n(!1))},qh=(o,n)=>{!T0(o)&&n.every(s=>s.size===0)&&Yr(o)},Sb=(o,n,s,a,l,c,f,d,m,p,g,y,_)=>{const b=new WeakMap;return(C,A,S,T,N)=>{const{activeInputs:k,passiveInputs:D}=c(A),{outputs:M}=c(C),E=d(C),z=j=>{const F=m(A),J=m(C);if(j){const Q=S0(D,C,S,T);o(k,C,Q,!1),!N&&!y(C)&&s(J,F,S,T),_(A)&&ga(A)}else{const Q=a(k,C,S,T);n(D,T,Q,!1),!N&&!y(C)&&l(J,F,S,T);const H=f(A);if(H===0)g(A)&&qh(A,k);else{const te=b.get(A);te!==void 0&&clearTimeout(te),b.set(A,setTimeout(()=>{g(A)&&qh(A,k)},H*1e3))}}};return p(M,[A,S,T],j=>j[0]===A&&j[1]===S&&j[2]===T,!0)?(E.add(z),g(C)?o(k,C,[S,T,z],!0):n(D,T,[C,S,z],!0),!0):!1}},Tb=o=>(n,s,[a,l,c],f)=>{const d=n.get(a);d===void 0?n.set(a,new Set([[l,s,c]])):o(d,[l,s,c],m=>m[0]===l&&m[1]===s,f)},Cb=o=>(n,s)=>{const a=o(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});s.connect(a).connect(n.destination);const l=()=>{s.removeEventListener("ended",l),s.disconnect(a),a.disconnect()};s.addEventListener("ended",l)},wb=o=>(n,s)=>{o(n).add(s)},Ab={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},Mb=(o,n,s,a,l,c)=>class extends o{constructor(d,m){const p=l(d),g={...Ab,...m},y=a(p,g),_=c(p)?n():null;super(d,!1,y,_),this._nativeAnalyserNode=y}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(d){this._nativeAnalyserNode.fftSize=d}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(d){const m=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=d,!(d>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=m,s()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(d){const m=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=d,!(this._nativeAnalyserNode.maxDecibels>d))throw this._nativeAnalyserNode.minDecibels=m,s()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(d){this._nativeAnalyserNode.smoothingTimeConstant=d}getByteFrequencyData(d){this._nativeAnalyserNode.getByteFrequencyData(d)}getByteTimeDomainData(d){this._nativeAnalyserNode.getByteTimeDomainData(d)}getFloatFrequencyData(d){this._nativeAnalyserNode.getFloatFrequencyData(d)}getFloatTimeDomainData(d){this._nativeAnalyserNode.getFloatTimeDomainData(d)}},Ot=(o,n)=>o.context===n,Eb=(o,n,s)=>()=>{const a=new WeakMap,l=async(c,f)=>{let d=n(c);if(!Ot(d,f)){const p={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,fftSize:d.fftSize,maxDecibels:d.maxDecibels,minDecibels:d.minDecibels,smoothingTimeConstant:d.smoothingTimeConstant};d=o(f,p)}return a.set(f,d),await s(c,f,d),d};return{render(c,f){const d=a.get(f);return d!==void 0?Promise.resolve(d):l(c,f)}}},Ol=o=>{try{o.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},jn=()=>new DOMException("","IndexSizeError"),Kh=o=>{o.getChannelData=(n=>s=>{try{return n.call(o,s)}catch(a){throw a.code===12?jn():a}})(o.getChannelData)},Ob={numberOfChannels:1},Nb=(o,n,s,a,l,c,f,d)=>{let m=null;return class C0{constructor(g){if(l===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:y,numberOfChannels:_,sampleRate:b}={...Ob,...g};m===null&&(m=new l(1,1,44100));const C=a!==null&&n(c,c)?new a({length:y,numberOfChannels:_,sampleRate:b}):m.createBuffer(_,y,b);if(C.numberOfChannels===0)throw s();return typeof C.copyFromChannel!="function"?(f(C),Kh(C)):n(Ol,()=>Ol(C))||d(C),o.add(C),C}static[Symbol.hasInstance](g){return g!==null&&typeof g=="object"&&Object.getPrototypeOf(g)===C0.prototype||o.has(g)}}},Lt=-34028234663852886e22,kt=-Lt,si=o=>ma.has(o),kb={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},Db=(o,n,s,a,l,c,f,d)=>class extends o{constructor(p,g){const y=c(p),_={...kb,...g},b=l(y,_),C=f(y),A=C?n():null;super(p,!1,b,A),this._audioBufferSourceNodeRenderer=A,this._isBufferNullified=!1,this._isBufferSet=_.buffer!==null,this._nativeAudioBufferSourceNode=b,this._onended=null,this._playbackRate=s(this,C,b.playbackRate,kt,Lt)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(p){if(this._nativeAudioBufferSourceNode.buffer=p,p!==null){if(this._isBufferSet)throw a();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(p){this._nativeAudioBufferSourceNode.loop=p}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(p){this._nativeAudioBufferSourceNode.loopEnd=p}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(p){this._nativeAudioBufferSourceNode.loopStart=p}get onended(){return this._onended}set onended(p){const g=typeof p=="function"?d(this,p):null;this._nativeAudioBufferSourceNode.onended=g;const y=this._nativeAudioBufferSourceNode.onended;this._onended=y!==null&&y===g?p:y}get playbackRate(){return this._playbackRate}start(p=0,g=0,y){if(this._nativeAudioBufferSourceNode.start(p,g,y),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=y===void 0?[p,g]:[p,g,y]),this.context.state!=="closed"){ga(this);const _=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",_),si(this)&&Yr(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",_)}}stop(p=0){this._nativeAudioBufferSourceNode.stop(p),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=p)}},Rb=(o,n,s,a,l)=>()=>{const c=new WeakMap;let f=null,d=null;const m=async(p,g)=>{let y=s(p);const _=Ot(y,g);if(!_){const b={buffer:y.buffer,channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,loop:y.loop,loopEnd:y.loopEnd,loopStart:y.loopStart,playbackRate:y.playbackRate.value};y=n(g,b),f!==null&&y.start(...f),d!==null&&y.stop(d)}return c.set(g,y),_?await o(g,p.playbackRate,y.playbackRate):await a(g,p.playbackRate,y.playbackRate),await l(p,g,y),y};return{set start(p){f=p},set stop(p){d=p},render(p,g){const y=c.get(g);return y!==void 0?Promise.resolve(y):m(p,g)}}},jb=o=>"playbackRate"in o,zb=o=>"frequency"in o&&"gain"in o,Ub=o=>"offset"in o,Vb=o=>!("frequency"in o)&&"gain"in o,Bb=o=>"detune"in o&&"frequency"in o&&!("gain"in o),qb=o=>"pan"in o,Dt=o=>Sn(v0,o),Xr=o=>Sn(_0,o),Ih=(o,n)=>{const{activeInputs:s}=Dt(o);s.forEach(l=>l.forEach(([c])=>{n.includes(o)||Ih(c,[...n,o])}));const a=jb(o)?[o.playbackRate]:T0(o)?Array.from(o.parameters.values()):zb(o)?[o.Q,o.detune,o.frequency,o.gain]:Ub(o)?[o.offset]:Vb(o)?[o.gain]:Bb(o)?[o.detune,o.frequency]:qb(o)?[o.pan]:[];for(const l of a){const c=Xr(l);c!==void 0&&c.activeInputs.forEach(([f])=>Ih(f,n))}si(o)&&Yr(o)},w0=o=>{Ih(o.destination,[])},Ib=o=>o===void 0||typeof o=="number"||typeof o=="string"&&(o==="balanced"||o==="interactive"||o==="playback"),Lb=(o,n,s,a,l,c,f,d,m)=>class extends o{constructor(g={}){if(m===null)throw new Error("Missing the native AudioContext constructor.");let y;try{y=new m(g)}catch(C){throw C.code===12&&C.message==="sampleRate is not in range"?s():C}if(y===null)throw a();if(!Ib(g.latencyHint))throw new TypeError(`The provided value '${g.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(g.sampleRate!==void 0&&y.sampleRate!==g.sampleRate)throw s();super(y,2);const{latencyHint:_}=g,{sampleRate:b}=y;if(this._baseLatency=typeof y.baseLatency=="number"?y.baseLatency:_==="balanced"?512/b:_==="interactive"||_===void 0?256/b:_==="playback"?1024/b:Math.max(2,Math.min(128,Math.round(_*b/128)))*128/b,this._nativeAudioContext=y,m.name==="webkitAudioContext"?(this._nativeGainNode=y.createGain(),this._nativeOscillatorNode=y.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(y.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,y.state==="running"){this._state="suspended";const C=()=>{this._state==="suspended"&&(this._state=null),y.removeEventListener("statechange",C)};y.addEventListener("statechange",C)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw n()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),w0(this)}))}createMediaElementSource(g){return new l(this,{mediaElement:g})}createMediaStreamDestination(){return new c(this)}createMediaStreamSource(g){return new f(this,{mediaStream:g})}createMediaStreamTrackSource(g){return new d(this,{mediaStreamTrack:g})}resume(){return this._state==="suspended"?new Promise((g,y)=>{const _=()=>{this._nativeAudioContext.removeEventListener("statechange",_),this._nativeAudioContext.state==="running"?g():this.resume().then(g,y)};this._nativeAudioContext.addEventListener("statechange",_)}):this._nativeAudioContext.resume().catch(g=>{throw g===void 0||g.code===15?n():g})}suspend(){return this._nativeAudioContext.suspend().catch(g=>{throw g===void 0?n():g})}},Hb=(o,n,s,a,l,c,f,d)=>class extends o{constructor(p,g){const y=c(p),_=f(y),b=l(y,g,_),C=_?n(d):null;super(p,!1,b,C),this._isNodeOfNativeOfflineAudioContext=_,this._nativeAudioDestinationNode=b}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(p){if(this._isNodeOfNativeOfflineAudioContext)throw a();if(p>this._nativeAudioDestinationNode.maxChannelCount)throw s();this._nativeAudioDestinationNode.channelCount=p}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(p){if(this._isNodeOfNativeOfflineAudioContext)throw a();this._nativeAudioDestinationNode.channelCountMode=p}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},Gb=o=>{const n=new WeakMap,s=async(a,l)=>{const c=l.destination;return n.set(l,c),await o(a,l,c),c};return{render(a,l){const c=n.get(l);return c!==void 0?Promise.resolve(c):s(a,l)}}},Fb=(o,n,s,a,l,c,f,d)=>(m,p)=>{const g=p.listener,y=()=>{const M=new Float32Array(1),E=n(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),z=f(p);let j=!1,F=[0,0,-1,0,1,0],J=[0,0,0];const Q=()=>{if(j)return;j=!0;const ne=a(p,256,9,0);ne.onaudioprocess=({inputBuffer:V})=>{const G=[c(V,M,0),c(V,M,1),c(V,M,2),c(V,M,3),c(V,M,4),c(V,M,5)];G.some((se,le)=>se!==F[le])&&(g.setOrientation(...G),F=G);const ee=[c(V,M,6),c(V,M,7),c(V,M,8)];ee.some((se,le)=>se!==J[le])&&(g.setPosition(...ee),J=ee)},E.connect(ne)},H=ne=>V=>{V!==F[ne]&&(F[ne]=V,g.setOrientation(...F))},te=ne=>V=>{V!==J[ne]&&(J[ne]=V,g.setPosition(...J))},Z=(ne,V,G)=>{const ee=s(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:V});ee.connect(E,0,ne),ee.start(),Object.defineProperty(ee.offset,"defaultValue",{get(){return V}});const se=o({context:m},z,ee.offset,kt,Lt);return d(se,"value",le=>()=>le.call(se),le=>O=>{try{le.call(se,O)}catch(Y){if(Y.code!==9)throw Y}Q(),z&&G(O)}),se.cancelAndHoldAtTime=(le=>z?()=>{throw l()}:(...O)=>{const Y=le.apply(se,O);return Q(),Y})(se.cancelAndHoldAtTime),se.cancelScheduledValues=(le=>z?()=>{throw l()}:(...O)=>{const Y=le.apply(se,O);return Q(),Y})(se.cancelScheduledValues),se.exponentialRampToValueAtTime=(le=>z?()=>{throw l()}:(...O)=>{const Y=le.apply(se,O);return Q(),Y})(se.exponentialRampToValueAtTime),se.linearRampToValueAtTime=(le=>z?()=>{throw l()}:(...O)=>{const Y=le.apply(se,O);return Q(),Y})(se.linearRampToValueAtTime),se.setTargetAtTime=(le=>z?()=>{throw l()}:(...O)=>{const Y=le.apply(se,O);return Q(),Y})(se.setTargetAtTime),se.setValueAtTime=(le=>z?()=>{throw l()}:(...O)=>{const Y=le.apply(se,O);return Q(),Y})(se.setValueAtTime),se.setValueCurveAtTime=(le=>z?()=>{throw l()}:(...O)=>{const Y=le.apply(se,O);return Q(),Y})(se.setValueCurveAtTime),se};return{forwardX:Z(0,0,H(0)),forwardY:Z(1,0,H(1)),forwardZ:Z(2,-1,H(2)),positionX:Z(6,0,te(0)),positionY:Z(7,0,te(1)),positionZ:Z(8,0,te(2)),upX:Z(3,0,H(3)),upY:Z(4,1,H(4)),upZ:Z(5,0,H(5))}},{forwardX:_,forwardY:b,forwardZ:C,positionX:A,positionY:S,positionZ:T,upX:N,upY:k,upZ:D}=g.forwardX===void 0?y():g;return{get forwardX(){return _},get forwardY(){return b},get forwardZ(){return C},get positionX(){return A},get positionY(){return S},get positionZ(){return T},get upX(){return N},get upY(){return k},get upZ(){return D}}},Nl=o=>"context"in o,Zr=o=>Nl(o[0]),Ts=(o,n,s,a)=>{for(const l of o)if(s(l)){if(a)return!1;throw Error("The set contains at least one similar element.")}return o.add(n),!0},qg=(o,n,[s,a],l)=>{Ts(o,[n,s,a],c=>c[0]===n&&c[1]===s,l)},Ig=(o,[n,s,a],l)=>{const c=o.get(n);c===void 0?o.set(n,new Set([[s,a]])):Ts(c,[s,a],f=>f[0]===s,l)},Ta=o=>"inputs"in o,kl=(o,n,s,a)=>{if(Ta(n)){const l=n.inputs[a];return o.connect(l,s,0),[l,s,0]}return o.connect(n,s,a),[n,s,a]},A0=(o,n,s)=>{for(const a of o)if(a[0]===n&&a[1]===s)return o.delete(a),a;return null},Yb=(o,n,s)=>Kl(o,a=>a[0]===n&&a[1]===s),M0=(o,n)=>{if(!Fr(o).delete(n))throw new Error("Missing the expected event listener.")},E0=(o,n,s)=>{const a=Sn(o,n),l=Kl(a,c=>c[0]===s);return a.size===0&&o.delete(n),l},Dl=(o,n,s,a)=>{Ta(n)?o.disconnect(n.inputs[a],s,0):o.disconnect(n,s,a)},Qe=o=>Sn(Wh,o),Nr=o=>Sn(Jh,o),vs=o=>Uh.has(o),wl=o=>!ma.has(o),Lg=(o,n)=>new Promise(s=>{if(n!==null)s(!0);else{const a=o.createScriptProcessor(256,1,1),l=o.createGain(),c=o.createBuffer(1,2,44100),f=c.getChannelData(0);f[0]=1,f[1]=1;const d=o.createBufferSource();d.buffer=c,d.loop=!0,d.connect(a).connect(o.destination),d.connect(l),d.disconnect(l),a.onaudioprocess=m=>{const p=m.inputBuffer.getChannelData(0);Array.prototype.some.call(p,g=>g===1)?s(!0):s(!1),d.stop(),a.onaudioprocess=null,d.disconnect(a),a.disconnect(o.destination)},d.start()}}),Ah=(o,n)=>{const s=new Map;for(const a of o)for(const l of a){const c=s.get(l);s.set(l,c===void 0?1:c+1)}s.forEach((a,l)=>n(l,a))},Rl=o=>"context"in o,Xb=o=>{const n=new Map;o.connect=(s=>(a,l=0,c=0)=>{const f=Rl(a)?s(a,l,c):s(a,l),d=n.get(a);return d===void 0?n.set(a,[{input:c,output:l}]):d.every(m=>m.input!==c||m.output!==l)&&d.push({input:c,output:l}),f})(o.connect.bind(o)),o.disconnect=(s=>(a,l,c)=>{if(s.apply(o),a===void 0)n.clear();else if(typeof a=="number")for(const[f,d]of n){const m=d.filter(p=>p.output!==a);m.length===0?n.delete(f):n.set(f,m)}else if(n.has(a))if(l===void 0)n.delete(a);else{const f=n.get(a);if(f!==void 0){const d=f.filter(m=>m.output!==l&&(m.input!==c||c===void 0));d.length===0?n.delete(a):n.set(a,d)}}for(const[f,d]of n)d.forEach(m=>{Rl(f)?o.connect(f,m.output,m.input):o.connect(f,m.output)})})(o.disconnect)},Zb=(o,n,s,a)=>{const{activeInputs:l,passiveInputs:c}=Xr(n),{outputs:f}=Dt(o),d=Fr(o),m=p=>{const g=Qe(o),y=Nr(n);if(p){const _=E0(c,o,s);qg(l,o,_,!1),!a&&!vs(o)&&g.connect(y,s)}else{const _=Yb(l,o,s);Ig(c,_,!1),!a&&!vs(o)&&g.disconnect(y,s)}};return Ts(f,[n,s],p=>p[0]===n&&p[1]===s,!0)?(d.add(m),si(o)?qg(l,o,[s,m],!0):Ig(c,[o,s,m],!0),!0):!1},Qb=(o,n,s,a)=>{const{activeInputs:l,passiveInputs:c}=Dt(n),f=A0(l[a],o,s);return f===null?[S0(c,o,s,a)[2],!1]:[f[2],!0]},Wb=(o,n,s)=>{const{activeInputs:a,passiveInputs:l}=Xr(n),c=A0(a,o,s);return c===null?[E0(l,o,s)[1],!1]:[c[2],!0]},Ph=(o,n,s,a,l)=>{const[c,f]=Qb(o,s,a,l);if(c!==null&&(M0(o,c),f&&!n&&!vs(o)&&Dl(Qe(o),Qe(s),a,l)),si(s)){const{activeInputs:d}=Dt(s);qh(s,d)}},$h=(o,n,s,a)=>{const[l,c]=Wb(o,s,a);l!==null&&(M0(o,l),c&&!n&&!vs(o)&&Qe(o).disconnect(Nr(s),a))},Jb=(o,n)=>{const s=Dt(o),a=[];for(const l of s.outputs)Zr(l)?Ph(o,n,...l):$h(o,n,...l),a.push(l[0]);return s.outputs.clear(),a},Kb=(o,n,s)=>{const a=Dt(o),l=[];for(const c of a.outputs)c[1]===s&&(Zr(c)?Ph(o,n,...c):$h(o,n,...c),l.push(c[0]),a.outputs.delete(c));return l},Pb=(o,n,s,a,l)=>{const c=Dt(o);return Array.from(c.outputs).filter(f=>f[0]===s&&(a===void 0||f[1]===a)&&(l===void 0||f[2]===l)).map(f=>(Zr(f)?Ph(o,n,...f):$h(o,n,...f),c.outputs.delete(f),f[0]))},$b=(o,n,s,a,l,c,f,d,m,p,g,y,_,b,C,A)=>class extends p{constructor(T,N,k,D){super(k),this._context=T,this._nativeAudioNode=k;const M=g(T);y(M)&&s(Lg,()=>Lg(M,A))!==!0&&Xb(k),Wh.set(this,k),b0.set(this,new Set),T.state!=="closed"&&N&&ga(this),o(this,D,k)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(T){this._nativeAudioNode.channelCount=T}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(T){this._nativeAudioNode.channelCountMode=T}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(T){this._nativeAudioNode.channelInterpretation=T}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(T,N=0,k=0){if(N<0||N>=this._nativeAudioNode.numberOfOutputs)throw l();const D=g(this._context),M=C(D);if(_(T)||b(T))throw c();if(Nl(T)){const j=Qe(T);try{const J=kl(this._nativeAudioNode,j,N,k),Q=wl(this);(M||Q)&&this._nativeAudioNode.disconnect(...J),this.context.state!=="closed"&&!Q&&wl(T)&&ga(T)}catch(J){throw J.code===12?c():J}if(n(this,T,N,k,M)){const J=m([this],T);Ah(J,a(M))}return T}const E=Nr(T);if(E.name==="playbackRate"&&E.maxValue===1024)throw f();try{this._nativeAudioNode.connect(E,N),(M||wl(this))&&this._nativeAudioNode.disconnect(E,N)}catch(j){throw j.code===12?c():j}if(Zb(this,T,N,M)){const j=m([this],T);Ah(j,a(M))}}disconnect(T,N,k){let D;const M=g(this._context),E=C(M);if(T===void 0)D=Jb(this,E);else if(typeof T=="number"){if(T<0||T>=this.numberOfOutputs)throw l();D=Kb(this,E,T)}else{if(N!==void 0&&(N<0||N>=this.numberOfOutputs)||Nl(T)&&k!==void 0&&(k<0||k>=T.numberOfInputs))throw l();if(D=Pb(this,E,T,N,k),D.length===0)throw c()}for(const z of D){const j=m([this],z);Ah(j,d)}}},e1=(o,n,s,a,l,c,f,d,m,p,g,y,_)=>(b,C,A,S=null,T=null)=>{const N=A.value,k=new ub(N),D=C?a(k):null,M={get defaultValue(){return N},get maxValue(){return S===null?A.maxValue:S},get minValue(){return T===null?A.minValue:T},get value(){return A.value},set value(E){A.value=E,M.setValueAtTime(E,b.context.currentTime)},cancelAndHoldAtTime(E){if(typeof A.cancelAndHoldAtTime=="function")D===null&&k.flush(b.context.currentTime),k.add(l(E)),A.cancelAndHoldAtTime(E);else{const z=Array.from(k).pop();D===null&&k.flush(b.context.currentTime),k.add(l(E));const j=Array.from(k).pop();A.cancelScheduledValues(E),z!==j&&j!==void 0&&(j.type==="exponentialRampToValue"?A.exponentialRampToValueAtTime(j.value,j.endTime):j.type==="linearRampToValue"?A.linearRampToValueAtTime(j.value,j.endTime):j.type==="setValue"?A.setValueAtTime(j.value,j.startTime):j.type==="setValueCurve"&&A.setValueCurveAtTime(j.values,j.startTime,j.duration))}return M},cancelScheduledValues(E){return D===null&&k.flush(b.context.currentTime),k.add(c(E)),A.cancelScheduledValues(E),M},exponentialRampToValueAtTime(E,z){if(E===0)throw new RangeError;if(!Number.isFinite(z)||z<0)throw new RangeError;const j=b.context.currentTime;return D===null&&k.flush(j),Array.from(k).length===0&&(k.add(p(N,j)),A.setValueAtTime(N,j)),k.add(f(E,z)),A.exponentialRampToValueAtTime(E,z),M},linearRampToValueAtTime(E,z){const j=b.context.currentTime;return D===null&&k.flush(j),Array.from(k).length===0&&(k.add(p(N,j)),A.setValueAtTime(N,j)),k.add(d(E,z)),A.linearRampToValueAtTime(E,z),M},setTargetAtTime(E,z,j){return D===null&&k.flush(b.context.currentTime),k.add(m(E,z,j)),A.setTargetAtTime(E,z,j),M},setValueAtTime(E,z){return D===null&&k.flush(b.context.currentTime),k.add(p(E,z)),A.setValueAtTime(E,z),M},setValueCurveAtTime(E,z,j){const F=E instanceof Float32Array?E:new Float32Array(E);if(y!==null&&y.name==="webkitAudioContext"){const J=z+j,Q=b.context.sampleRate,H=Math.ceil(z*Q),te=Math.floor(J*Q),Z=te-H,ne=new Float32Array(Z);for(let G=0;G<Z;G+=1){const ee=(F.length-1)/j*((H+G)/Q-z),se=Math.floor(ee),le=Math.ceil(ee);ne[G]=se===le?F[se]:(1-(ee-se))*F[se]+(1-(le-ee))*F[le]}D===null&&k.flush(b.context.currentTime),k.add(g(ne,z,j)),A.setValueCurveAtTime(ne,z,j);const V=te/Q;V<J&&_(M,ne[ne.length-1],V),_(M,F[F.length-1],J)}else D===null&&k.flush(b.context.currentTime),k.add(g(F,z,j)),A.setValueCurveAtTime(F,z,j);return M}};return s.set(M,A),n.set(M,b),o(M,D),M},t1=o=>({replay(n){for(const s of o)if(s.type==="exponentialRampToValue"){const{endTime:a,value:l}=s;n.exponentialRampToValueAtTime(l,a)}else if(s.type==="linearRampToValue"){const{endTime:a,value:l}=s;n.linearRampToValueAtTime(l,a)}else if(s.type==="setTarget"){const{startTime:a,target:l,timeConstant:c}=s;n.setTargetAtTime(l,a,c)}else if(s.type==="setValue"){const{startTime:a,value:l}=s;n.setValueAtTime(l,a)}else if(s.type==="setValueCurve"){const{duration:a,startTime:l,values:c}=s;n.setValueCurveAtTime(c,l,a)}else throw new Error("Can't apply an unknown automation.")}});class O0{constructor(n){this._map=new Map(n)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(n,s=null){return this._map.forEach((a,l)=>n.call(s,a,l,this))}get(n){return this._map.get(n)}has(n){return this._map.has(n)}keys(){return this._map.keys()}values(){return this._map.values()}}const n1={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},i1=(o,n,s,a,l,c,f,d,m,p,g,y,_,b)=>class extends n{constructor(A,S,T){var N;const k=d(A),D=m(k),M=g({...n1,...T});_(M);const E=Vh.get(k),z=E?.get(S),j=D||k.state!=="closed"?k:(N=f(k))!==null&&N!==void 0?N:k,F=l(j,D?null:A.baseLatency,p,S,z,M),J=D?a(S,M,z):null;super(A,!0,F,J);const Q=[];F.parameters.forEach((te,Z)=>{const ne=s(this,D,te);Q.push([Z,ne])}),this._nativeAudioWorkletNode=F,this._onprocessorerror=null,this._parameters=new O0(Q),D&&o(k,this);const{activeInputs:H}=c(this);y(F,H)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(A){const S=typeof A=="function"?b(this,A):null;this._nativeAudioWorkletNode.onprocessorerror=S;const T=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=T!==null&&T===S?A:T}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function jl(o,n,s,a,l){if(typeof o.copyFromChannel=="function")n[s].byteLength===0&&(n[s]=new Float32Array(128)),o.copyFromChannel(n[s],a,l);else{const c=o.getChannelData(a);if(n[s].byteLength===0)n[s]=c.slice(l,l+128);else{const f=new Float32Array(c.buffer,l*Float32Array.BYTES_PER_ELEMENT,128);n[s].set(f)}}}const N0=(o,n,s,a,l)=>{typeof o.copyToChannel=="function"?n[s].byteLength!==0&&o.copyToChannel(n[s],a,l):n[s].byteLength!==0&&o.getChannelData(a).set(n[s],l)},zl=(o,n)=>{const s=[];for(let a=0;a<o;a+=1){const l=[],c=typeof n=="number"?n:n[a];for(let f=0;f<c;f+=1)l.push(new Float32Array(128));s.push(l)}return s},s1=(o,n)=>{const s=Sn(Bh,o),a=Qe(n);return Sn(s,a)},a1=async(o,n,s,a,l,c,f)=>{const d=n===null?Math.ceil(o.context.length/128)*128:n.length,m=a.channelCount*a.numberOfInputs,p=l.reduce((S,T)=>S+T,0),g=p===0?null:s.createBuffer(p,d,s.sampleRate);if(c===void 0)throw new Error("Missing the processor constructor.");const y=Dt(o),_=await s1(s,o),b=zl(a.numberOfInputs,a.channelCount),C=zl(a.numberOfOutputs,l),A=Array.from(o.parameters.keys()).reduce((S,T)=>({...S,[T]:new Float32Array(128)}),{});for(let S=0;S<d;S+=128){if(a.numberOfInputs>0&&n!==null)for(let T=0;T<a.numberOfInputs;T+=1)for(let N=0;N<a.channelCount;N+=1)jl(n,b[T],N,N,S);c.parameterDescriptors!==void 0&&n!==null&&c.parameterDescriptors.forEach(({name:T},N)=>{jl(n,A,T,m+N,S)});for(let T=0;T<a.numberOfInputs;T+=1)for(let N=0;N<l[T];N+=1)C[T][N].byteLength===0&&(C[T][N]=new Float32Array(128));try{const T=b.map((k,D)=>y.activeInputs[D].size===0?[]:k),N=f(S/s.sampleRate,s.sampleRate,()=>_.process(T,C,A));if(g!==null)for(let k=0,D=0;k<a.numberOfOutputs;k+=1){for(let M=0;M<l[k];M+=1)N0(g,C[k],M,D+M,S);D+=l[k]}if(!N)break}catch(T){o.dispatchEvent(new ErrorEvent("processorerror",{colno:T.colno,filename:T.filename,lineno:T.lineno,message:T.message}));break}}return g},r1=(o,n,s,a,l,c,f,d,m,p,g,y,_,b,C,A)=>(S,T,N)=>{const k=new WeakMap;let D=null;const M=async(E,z)=>{let j=g(E),F=null;const J=Ot(j,z),Q=Array.isArray(T.outputChannelCount)?T.outputChannelCount:Array.from(T.outputChannelCount);if(y===null){const H=Q.reduce((V,G)=>V+G,0),te=l(z,{channelCount:Math.max(1,H),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,H)}),Z=[];for(let V=0;V<E.numberOfOutputs;V+=1)Z.push(a(z,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Q[V]}));const ne=f(z,{channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation,gain:1});ne.connect=n.bind(null,Z),ne.disconnect=m.bind(null,Z),F=[te,Z,ne]}else J||(j=new y(z,S));if(k.set(z,F===null?j:F[2]),F!==null){if(D===null){if(N===void 0)throw new Error("Missing the processor constructor.");if(_===null)throw new Error("Missing the native OfflineAudioContext constructor.");const G=E.channelCount*E.numberOfInputs,ee=N.parameterDescriptors===void 0?0:N.parameterDescriptors.length,se=G+ee;D=a1(E,se===0?null:await(async()=>{const O=new _(se,Math.ceil(E.context.length/128)*128,z.sampleRate),Y=[],ie=[];for(let fe=0;fe<T.numberOfInputs;fe+=1)Y.push(f(O,{channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation,gain:1})),ie.push(l(O,{channelCount:T.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:T.channelCount}));const oe=await Promise.all(Array.from(E.parameters.values()).map(async fe=>{const ve=c(O,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:fe.value});return await b(O,fe,ve.offset),ve})),re=a(O,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,G+ee)});for(let fe=0;fe<T.numberOfInputs;fe+=1){Y[fe].connect(ie[fe]);for(let ve=0;ve<T.channelCount;ve+=1)ie[fe].connect(re,ve,fe*T.channelCount+ve)}for(const[fe,ve]of oe.entries())ve.connect(re,0,G+fe),ve.start(0);return re.connect(O.destination),await Promise.all(Y.map(fe=>C(E,O,fe))),A(O)})(),z,T,Q,N,p)}const H=await D,te=s(z,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[Z,ne,V]=F;H!==null&&(te.buffer=H,te.start(0)),te.connect(Z);for(let G=0,ee=0;G<E.numberOfOutputs;G+=1){const se=ne[G];for(let le=0;le<Q[G];le+=1)Z.connect(se,ee+le,le);ee+=Q[G]}return V}if(J)for(const[H,te]of E.parameters.entries())await o(z,te,j.parameters.get(H));else for(const[H,te]of E.parameters.entries())await b(z,te,j.parameters.get(H));return await C(E,z,j),j};return{render(E,z){d(z,E);const j=k.get(z);return j!==void 0?Promise.resolve(j):M(E,z)}}},o1=(o,n,s,a,l,c,f,d,m,p,g,y,_,b,C,A,S,T,N,k)=>class extends C{constructor(M,E){super(M,E),this._nativeContext=M,this._audioWorklet=o===void 0?void 0:{addModule:(z,j)=>o(this,z,j)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new n(this)}createBiquadFilter(){return new l(this)}createBuffer(M,E,z){return new s({length:E,numberOfChannels:M,sampleRate:z})}createBufferSource(){return new a(this)}createChannelMerger(M=6){return new c(this,{numberOfInputs:M})}createChannelSplitter(M=6){return new f(this,{numberOfOutputs:M})}createConstantSource(){return new d(this)}createConvolver(){return new m(this)}createDelay(M=1){return new g(this,{maxDelayTime:M})}createDynamicsCompressor(){return new y(this)}createGain(){return new _(this)}createIIRFilter(M,E){return new b(this,{feedback:E,feedforward:M})}createOscillator(){return new A(this)}createPanner(){return new S(this)}createPeriodicWave(M,E,z={disableNormalization:!1}){return new T(this,{...z,imag:E,real:M})}createStereoPanner(){return new N(this)}createWaveShaper(){return new k(this)}decodeAudioData(M,E,z){return p(this._nativeContext,M).then(j=>(typeof E=="function"&&E(j),j),j=>{throw typeof z=="function"&&z(j),j})}},l1={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},c1=(o,n,s,a,l,c,f,d)=>class extends o{constructor(p,g){const y=c(p),_={...l1,...g},b=l(y,_),C=f(y),A=C?s():null;super(p,!1,b,A),this._Q=n(this,C,b.Q,kt,Lt),this._detune=n(this,C,b.detune,1200*Math.log2(kt),-1200*Math.log2(kt)),this._frequency=n(this,C,b.frequency,p.sampleRate/2,0),this._gain=n(this,C,b.gain,40*Math.log10(kt),Lt),this._nativeBiquadFilterNode=b,d(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(p){this._nativeBiquadFilterNode.type=p}getFrequencyResponse(p,g,y){try{this._nativeBiquadFilterNode.getFrequencyResponse(p,g,y)}catch(_){throw _.code===11?a():_}if(p.length!==g.length||g.length!==y.length)throw a()}},u1=(o,n,s,a,l)=>()=>{const c=new WeakMap,f=async(d,m)=>{let p=s(d);const g=Ot(p,m);if(!g){const y={Q:p.Q.value,channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,detune:p.detune.value,frequency:p.frequency.value,gain:p.gain.value,type:p.type};p=n(m,y)}return c.set(m,p),g?(await o(m,d.Q,p.Q),await o(m,d.detune,p.detune),await o(m,d.frequency,p.frequency),await o(m,d.gain,p.gain)):(await a(m,d.Q,p.Q),await a(m,d.detune,p.detune),await a(m,d.frequency,p.frequency),await a(m,d.gain,p.gain)),await l(d,m,p),p};return{render(d,m){const p=c.get(m);return p!==void 0?Promise.resolve(p):f(d,m)}}},h1=(o,n)=>(s,a)=>{const l=n.get(s);if(l!==void 0)return l;const c=o.get(s);if(c!==void 0)return c;try{const f=a();return f instanceof Promise?(o.set(s,f),f.catch(()=>!1).then(d=>(o.delete(s),n.set(s,d),d))):(n.set(s,f),f)}catch{return n.set(s,!1),!1}},f1={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},d1=(o,n,s,a,l)=>class extends o{constructor(f,d){const m=a(f),p={...f1,...d},g=s(m,p),y=l(m)?n():null;super(f,!1,g,y)}},p1=(o,n,s)=>()=>{const a=new WeakMap,l=async(c,f)=>{let d=n(c);if(!Ot(d,f)){const p={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,numberOfInputs:d.numberOfInputs};d=o(f,p)}return a.set(f,d),await s(c,f,d),d};return{render(c,f){const d=a.get(f);return d!==void 0?Promise.resolve(d):l(c,f)}}},m1={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},g1=(o,n,s,a,l,c)=>class extends o{constructor(d,m){const p=a(d),g=c({...m1,...m}),y=s(p,g),_=l(p)?n():null;super(d,!1,y,_)}},y1=(o,n,s)=>()=>{const a=new WeakMap,l=async(c,f)=>{let d=n(c);if(!Ot(d,f)){const p={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,numberOfOutputs:d.numberOfOutputs};d=o(f,p)}return a.set(f,d),await s(c,f,d),d};return{render(c,f){const d=a.get(f);return d!==void 0?Promise.resolve(d):l(c,f)}}},v1=o=>(n,s,a)=>o(s,n,a),_1=o=>(n,s,a=0,l=0)=>{const c=n[a];if(c===void 0)throw o();return Rl(s)?c.connect(s,0,l):c.connect(s,0)},b1=o=>(n,s)=>{const a=o(n,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),l=n.createBuffer(1,2,44100);return a.buffer=l,a.loop=!0,a.connect(s),a.start(),()=>{a.stop(),a.disconnect(s)}},x1={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},S1=(o,n,s,a,l,c,f)=>class extends o{constructor(m,p){const g=l(m),y={...x1,...p},_=a(g,y),b=c(g),C=b?s():null;super(m,!1,_,C),this._constantSourceNodeRenderer=C,this._nativeConstantSourceNode=_,this._offset=n(this,b,_.offset,kt,Lt),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(m){const p=typeof m=="function"?f(this,m):null;this._nativeConstantSourceNode.onended=p;const g=this._nativeConstantSourceNode.onended;this._onended=g!==null&&g===p?m:g}start(m=0){if(this._nativeConstantSourceNode.start(m),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=m),this.context.state!=="closed"){ga(this);const p=()=>{this._nativeConstantSourceNode.removeEventListener("ended",p),si(this)&&Yr(this)};this._nativeConstantSourceNode.addEventListener("ended",p)}}stop(m=0){this._nativeConstantSourceNode.stop(m),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=m)}},T1=(o,n,s,a,l)=>()=>{const c=new WeakMap;let f=null,d=null;const m=async(p,g)=>{let y=s(p);const _=Ot(y,g);if(!_){const b={channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,offset:y.offset.value};y=n(g,b),f!==null&&y.start(f),d!==null&&y.stop(d)}return c.set(g,y),_?await o(g,p.offset,y.offset):await a(g,p.offset,y.offset),await l(p,g,y),y};return{set start(p){f=p},set stop(p){d=p},render(p,g){const y=c.get(g);return y!==void 0?Promise.resolve(y):m(p,g)}}},C1=o=>n=>(o[0]=n,o[0]),w1={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},A1=(o,n,s,a,l,c)=>class extends o{constructor(d,m){const p=a(d),g={...w1,...m},y=s(p,g),b=l(p)?n():null;super(d,!1,y,b),this._isBufferNullified=!1,this._nativeConvolverNode=y,g.buffer!==null&&c(this,g.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(d){if(this._nativeConvolverNode.buffer=d,d===null&&this._nativeConvolverNode.buffer!==null){const m=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=m.createBuffer(1,1,m.sampleRate),this._isBufferNullified=!0,c(this,0)}else this._isBufferNullified=!1,c(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(d){this._nativeConvolverNode.normalize=d}},M1=(o,n,s)=>()=>{const a=new WeakMap,l=async(c,f)=>{let d=n(c);if(!Ot(d,f)){const p={buffer:d.buffer,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,disableNormalization:!d.normalize};d=o(f,p)}return a.set(f,d),Ta(d)?await s(c,f,d.inputs[0]):await s(c,f,d),d};return{render(c,f){const d=a.get(f);return d!==void 0?Promise.resolve(d):l(c,f)}}},E1=(o,n)=>(s,a,l)=>{if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new n(s,a,l)}catch(c){throw c.name==="SyntaxError"?o():c}},O1=()=>new DOMException("","DataCloneError"),Hg=o=>{const{port1:n,port2:s}=new MessageChannel;return new Promise(a=>{const l=()=>{s.onmessage=null,n.close(),s.close(),a()};s.onmessage=()=>l();try{n.postMessage(o,[o])}catch{}finally{l()}})},N1=(o,n,s,a,l,c,f,d,m,p,g)=>(y,_)=>{const b=f(y)?y:c(y);if(l.has(_)){const C=s();return Promise.reject(C)}try{l.add(_)}catch{}return n(m,()=>m(b))?b.decodeAudioData(_).then(C=>(Hg(_).catch(()=>{}),n(d,()=>d(C))||g(C),o.add(C),C)):new Promise((C,A)=>{const S=async()=>{try{await Hg(_)}catch{}},T=N=>{A(N),S()};try{b.decodeAudioData(_,N=>{typeof N.copyFromChannel!="function"&&(p(N),Kh(N)),o.add(N),S().then(()=>C(N))},N=>{T(N===null?a():N)})}catch(N){T(N)}})},k1=(o,n,s,a,l,c,f,d)=>(m,p)=>{const g=n.get(m);if(g===void 0)throw new Error("Missing the expected cycle count.");const y=c(m.context),_=d(y);if(g===p){if(n.delete(m),!_&&f(m)){const b=a(m),{outputs:C}=s(m);for(const A of C)if(Zr(A)){const S=a(A[0]);o(b,S,A[1],A[2])}else{const S=l(A[0]);b.connect(S,A[1])}}}else n.set(m,g-p)},D1={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},R1=(o,n,s,a,l,c,f)=>class extends o{constructor(m,p){const g=l(m),y={...D1,...p},_=a(g,y),b=c(g),C=b?s(y.maxDelayTime):null;super(m,!1,_,C),this._delayTime=n(this,b,_.delayTime),f(this,y.maxDelayTime)}get delayTime(){return this._delayTime}},j1=(o,n,s,a,l)=>c=>{const f=new WeakMap,d=async(m,p)=>{let g=s(m);const y=Ot(g,p);if(!y){const _={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,delayTime:g.delayTime.value,maxDelayTime:c};g=n(p,_)}return f.set(p,g),y?await o(p,m.delayTime,g.delayTime):await a(p,m.delayTime,g.delayTime),await l(m,p,g),g};return{render(m,p){const g=f.get(p);return g!==void 0?Promise.resolve(g):d(m,p)}}},z1=o=>(n,s,a,l)=>o(n[l],c=>c[0]===s&&c[1]===a),U1=o=>(n,s)=>{o(n).delete(s)},V1=o=>"delayTime"in o,B1=(o,n,s)=>function a(l,c){const f=Nl(c)?c:s(o,c);if(V1(f))return[];if(l[0]===f)return[l];if(l.includes(f))return[];const{outputs:d}=n(f);return Array.from(d).map(m=>a([...l,f],m[0])).reduce((m,p)=>m.concat(p),[])},xl=(o,n,s)=>{const a=n[s];if(a===void 0)throw o();return a},q1=o=>(n,s=void 0,a=void 0,l=0)=>s===void 0?n.forEach(c=>c.disconnect()):typeof s=="number"?xl(o,n,s).disconnect():Rl(s)?a===void 0?n.forEach(c=>c.disconnect(s)):l===void 0?xl(o,n,a).disconnect(s,0):xl(o,n,a).disconnect(s,0,l):a===void 0?n.forEach(c=>c.disconnect(s)):xl(o,n,a).disconnect(s,0),I1={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},L1=(o,n,s,a,l,c,f,d)=>class extends o{constructor(p,g){const y=c(p),_={...I1,...g},b=a(y,_),C=f(y),A=C?s():null;super(p,!1,b,A),this._attack=n(this,C,b.attack),this._knee=n(this,C,b.knee),this._nativeDynamicsCompressorNode=b,this._ratio=n(this,C,b.ratio),this._release=n(this,C,b.release),this._threshold=n(this,C,b.threshold),d(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(p){const g=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=p,p>2)throw this._nativeDynamicsCompressorNode.channelCount=g,l()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(p){const g=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=p,p==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=g,l()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},H1=(o,n,s,a,l)=>()=>{const c=new WeakMap,f=async(d,m)=>{let p=s(d);const g=Ot(p,m);if(!g){const y={attack:p.attack.value,channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,knee:p.knee.value,ratio:p.ratio.value,release:p.release.value,threshold:p.threshold.value};p=n(m,y)}return c.set(m,p),g?(await o(m,d.attack,p.attack),await o(m,d.knee,p.knee),await o(m,d.ratio,p.ratio),await o(m,d.release,p.release),await o(m,d.threshold,p.threshold)):(await a(m,d.attack,p.attack),await a(m,d.knee,p.knee),await a(m,d.ratio,p.ratio),await a(m,d.release,p.release),await a(m,d.threshold,p.threshold)),await l(d,m,p),p};return{render(d,m){const p=c.get(m);return p!==void 0?Promise.resolve(p):f(d,m)}}},G1=()=>new DOMException("","EncodingError"),F1=o=>n=>new Promise((s,a)=>{if(o===null){a(new SyntaxError);return}const l=o.document.head;if(l===null)a(new SyntaxError);else{const c=o.document.createElement("script"),f=new Blob([n],{type:"application/javascript"}),d=URL.createObjectURL(f),m=o.onerror,p=()=>{o.onerror=m,URL.revokeObjectURL(d)};o.onerror=(g,y,_,b,C)=>{if(y===d||y===o.location.href&&_===1&&b===1)return p(),a(C),!1;if(m!==null)return m(g,y,_,b,C)},c.onerror=()=>{p(),a(new SyntaxError)},c.onload=()=>{p(),s()},c.src=d,c.type="module",l.appendChild(c)}}),Y1=o=>class{constructor(s){this._nativeEventTarget=s,this._listeners=new WeakMap}addEventListener(s,a,l){if(a!==null){let c=this._listeners.get(a);c===void 0&&(c=o(this,a),typeof a=="function"&&this._listeners.set(a,c)),this._nativeEventTarget.addEventListener(s,c,l)}}dispatchEvent(s){return this._nativeEventTarget.dispatchEvent(s)}removeEventListener(s,a,l){const c=a===null?void 0:this._listeners.get(a);this._nativeEventTarget.removeEventListener(s,c===void 0?null:c,l)}},X1=o=>(n,s,a)=>{Object.defineProperties(o,{currentFrame:{configurable:!0,get(){return Math.round(n*s)}},currentTime:{configurable:!0,get(){return n}}});try{return a()}finally{o!==null&&(delete o.currentFrame,delete o.currentTime)}},Z1=o=>async n=>{try{const s=await fetch(n);if(s.ok)return[await s.text(),s.url]}catch{}throw o()},Q1={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},W1=(o,n,s,a,l,c)=>class extends o{constructor(d,m){const p=l(d),g={...Q1,...m},y=a(p,g),_=c(p),b=_?s():null;super(d,!1,y,b),this._gain=n(this,_,y.gain,kt,Lt)}get gain(){return this._gain}},J1=(o,n,s,a,l)=>()=>{const c=new WeakMap,f=async(d,m)=>{let p=s(d);const g=Ot(p,m);if(!g){const y={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,gain:p.gain.value};p=n(m,y)}return c.set(m,p),g?await o(m,d.gain,p.gain):await a(m,d.gain,p.gain),await l(d,m,p),p};return{render(d,m){const p=c.get(m);return p!==void 0?Promise.resolve(p):f(d,m)}}},K1=(o,n)=>s=>n(o,s),P1=o=>n=>{const s=o(n);if(s.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return s.renderer},$1=o=>n=>{var s;return(s=o.get(n))!==null&&s!==void 0?s:0},ex=o=>n=>{const s=o(n);if(s.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return s.renderer},tx=o=>n=>o.get(n),vt=()=>new DOMException("","InvalidStateError"),nx=o=>n=>{const s=o.get(n);if(s===void 0)throw vt();return s},ix=(o,n)=>s=>{let a=o.get(s);if(a!==void 0)return a;if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");return a=new n(1,1,44100),o.set(s,a),a},sx=o=>n=>{const s=o.get(n);if(s===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return s},Pl=()=>new DOMException("","InvalidAccessError"),ax=o=>{o.getFrequencyResponse=(n=>(s,a,l)=>{if(s.length!==a.length||a.length!==l.length)throw Pl();return n.call(o,s,a,l)})(o.getFrequencyResponse)},rx={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},ox=(o,n,s,a,l,c)=>class extends o{constructor(d,m){const p=a(d),g=l(p),y={...rx,...m},_=n(p,g?null:d.baseLatency,y),b=g?s(y.feedback,y.feedforward):null;super(d,!1,_,b),ax(_),this._nativeIIRFilterNode=_,c(this,1)}getFrequencyResponse(d,m,p){return this._nativeIIRFilterNode.getFrequencyResponse(d,m,p)}},k0=(o,n,s,a,l,c,f,d,m,p,g)=>{const y=p.length;let _=d;for(let b=0;b<y;b+=1){let C=s[0]*p[b];for(let A=1;A<l;A+=1){const S=_-A&m-1;C+=s[A]*c[S],C-=o[A]*f[S]}for(let A=l;A<a;A+=1)C+=s[A]*c[_-A&m-1];for(let A=l;A<n;A+=1)C-=o[A]*f[_-A&m-1];c[_]=p[b],f[_]=C,_=_+1&m-1,g[b]=C}return _},lx=(o,n,s,a)=>{const l=s instanceof Float64Array?s:new Float64Array(s),c=a instanceof Float64Array?a:new Float64Array(a),f=l.length,d=c.length,m=Math.min(f,d);if(l[0]!==1){for(let C=0;C<f;C+=1)c[C]/=l[0];for(let C=1;C<d;C+=1)l[C]/=l[0]}const p=32,g=new Float32Array(p),y=new Float32Array(p),_=n.createBuffer(o.numberOfChannels,o.length,o.sampleRate),b=o.numberOfChannels;for(let C=0;C<b;C+=1){const A=o.getChannelData(C),S=_.getChannelData(C);g.fill(0),y.fill(0),k0(l,f,c,d,m,g,y,0,p,A,S)}return _},cx=(o,n,s,a,l)=>(c,f)=>{const d=new WeakMap;let m=null;const p=async(g,y)=>{let _=null,b=n(g);const C=Ot(b,y);if(y.createIIRFilter===void 0?_=o(y,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):C||(b=y.createIIRFilter(f,c)),d.set(y,_===null?b:_),_!==null){if(m===null){if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");const S=new s(g.context.destination.channelCount,g.context.length,y.sampleRate);m=(async()=>{await a(g,S,S.destination);const T=await l(S);return lx(T,y,c,f)})()}const A=await m;return _.buffer=A,_.start(0),_}return await a(g,y,b),b};return{render(g,y){const _=d.get(y);return _!==void 0?Promise.resolve(_):p(g,y)}}},ux=(o,n,s,a,l,c)=>f=>(d,m)=>{const p=o.get(d);if(p===void 0){if(!f&&c(d)){const g=a(d),{outputs:y}=s(d);for(const _ of y)if(Zr(_)){const b=a(_[0]);n(g,b,_[1],_[2])}else{const b=l(_[0]);g.disconnect(b,_[1])}}o.set(d,m)}else o.set(d,p+m)},hx=(o,n)=>s=>{const a=o.get(s);return n(a)||n(s)},fx=(o,n)=>s=>o.has(s)||n(s),dx=(o,n)=>s=>o.has(s)||n(s),px=(o,n)=>s=>{const a=o.get(s);return n(a)||n(s)},mx=o=>n=>o!==null&&n instanceof o,gx=o=>n=>o!==null&&typeof o.AudioNode=="function"&&n instanceof o.AudioNode,yx=o=>n=>o!==null&&typeof o.AudioParam=="function"&&n instanceof o.AudioParam,vx=(o,n)=>s=>o(s)||n(s),_x=o=>n=>o!==null&&n instanceof o,bx=o=>o!==null&&o.isSecureContext,xx=(o,n,s,a)=>class extends o{constructor(c,f){const d=s(c),m=n(d,f);if(a(d))throw TypeError();super(c,!0,m,null),this._nativeMediaElementAudioSourceNode=m}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},Sx={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Tx=(o,n,s,a)=>class extends o{constructor(c,f){const d=s(c);if(a(d))throw new TypeError;const m={...Sx,...f},p=n(d,m);super(c,!1,p,null),this._nativeMediaStreamAudioDestinationNode=p}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},Cx=(o,n,s,a)=>class extends o{constructor(c,f){const d=s(c),m=n(d,f);if(a(d))throw new TypeError;super(c,!0,m,null),this._nativeMediaStreamAudioSourceNode=m}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},wx=(o,n,s)=>class extends o{constructor(l,c){const f=s(l),d=n(f,c);super(l,!0,d,null)}},Ax=(o,n,s,a,l,c)=>class extends s{constructor(d,m){super(d),this._nativeContext=d,Jl.set(this,d),a(d)&&l.set(d,new Set),this._destination=new o(this,m),this._listener=n(this,d),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(d){const m=typeof d=="function"?c(this,d):null;this._nativeContext.onstatechange=m;const p=this._nativeContext.onstatechange;this._onstatechange=p!==null&&p===m?d:p}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},kr=o=>{const n=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const s=o.decodeAudioData(n.buffer,()=>{});return s===void 0?!1:(s.catch(()=>{}),!0)}catch{}return!1},Mx=(o,n)=>(s,a,l)=>{const c=new Set;return s.connect=(f=>(d,m=0,p=0)=>{const g=c.size===0;if(n(d))return f.call(s,d,m,p),o(c,[d,m,p],y=>y[0]===d&&y[1]===m&&y[2]===p,!0),g&&a(),d;f.call(s,d,m),o(c,[d,m],y=>y[0]===d&&y[1]===m,!0),g&&a()})(s.connect),s.disconnect=(f=>(d,m,p)=>{const g=c.size>0;if(d===void 0)f.apply(s),c.clear();else if(typeof d=="number"){f.call(s,d);for(const _ of c)_[1]===d&&c.delete(_)}else{n(d)?f.call(s,d,m,p):f.call(s,d,m);for(const _ of c)_[0]===d&&(m===void 0||_[1]===m)&&(p===void 0||_[2]===p)&&c.delete(_)}const y=c.size===0;g&&y&&l()})(s.disconnect),s},Ke=(o,n,s)=>{const a=n[s];a!==void 0&&a!==o[s]&&(o[s]=a)},pt=(o,n)=>{Ke(o,n,"channelCount"),Ke(o,n,"channelCountMode"),Ke(o,n,"channelInterpretation")},Gg=o=>typeof o.getFloatTimeDomainData=="function",Ex=o=>{o.getFloatTimeDomainData=n=>{const s=new Uint8Array(n.length);o.getByteTimeDomainData(s);const a=Math.max(s.length,o.fftSize);for(let l=0;l<a;l+=1)n[l]=(s[l]-128)*.0078125;return n}},Ox=(o,n)=>(s,a)=>{const l=s.createAnalyser();if(pt(l,a),!(a.maxDecibels>a.minDecibels))throw n();return Ke(l,a,"fftSize"),Ke(l,a,"maxDecibels"),Ke(l,a,"minDecibels"),Ke(l,a,"smoothingTimeConstant"),o(Gg,()=>Gg(l))||Ex(l),l},Nx=o=>o===null?null:o.hasOwnProperty("AudioBuffer")?o.AudioBuffer:null,et=(o,n,s)=>{const a=n[s];a!==void 0&&a!==o[s].value&&(o[s].value=a)},kx=o=>{o.start=(n=>{let s=!1;return(a=0,l=0,c)=>{if(s)throw vt();n.call(o,a,l,c),s=!0}})(o.start)},ef=o=>{o.start=(n=>(s=0,a=0,l)=>{if(typeof l=="number"&&l<0||a<0||s<0)throw new RangeError("The parameters can't be negative.");n.call(o,s,a,l)})(o.start)},tf=o=>{o.stop=(n=>(s=0)=>{if(s<0)throw new RangeError("The parameter can't be negative.");n.call(o,s)})(o.stop)},Dx=(o,n,s,a,l,c,f,d,m,p,g)=>(y,_)=>{const b=y.createBufferSource();return pt(b,_),et(b,_,"playbackRate"),Ke(b,_,"buffer"),Ke(b,_,"loop"),Ke(b,_,"loopEnd"),Ke(b,_,"loopStart"),n(s,()=>s(y))||kx(b),n(a,()=>a(y))||m(b),n(l,()=>l(y))||p(b,y),n(c,()=>c(y))||ef(b),n(f,()=>f(y))||g(b,y),n(d,()=>d(y))||tf(b),o(y,b),b},Rx=o=>o===null?null:o.hasOwnProperty("AudioContext")?o.AudioContext:o.hasOwnProperty("webkitAudioContext")?o.webkitAudioContext:null,jx=(o,n)=>(s,a,l)=>{const c=s.destination;if(c.channelCount!==a)try{c.channelCount=a}catch{}l&&c.channelCountMode!=="explicit"&&(c.channelCountMode="explicit"),c.maxChannelCount===0&&Object.defineProperty(c,"maxChannelCount",{value:a});const f=o(s,{channelCount:a,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,gain:1});return n(f,"channelCount",d=>()=>d.call(f),d=>m=>{d.call(f,m);try{c.channelCount=m}catch(p){if(m>c.maxChannelCount)throw p}}),n(f,"channelCountMode",d=>()=>d.call(f),d=>m=>{d.call(f,m),c.channelCountMode=m}),n(f,"channelInterpretation",d=>()=>d.call(f),d=>m=>{d.call(f,m),c.channelInterpretation=m}),Object.defineProperty(f,"maxChannelCount",{get:()=>c.maxChannelCount}),f.connect(c),f},zx=o=>o===null?null:o.hasOwnProperty("AudioWorkletNode")?o.AudioWorkletNode:null,Ux=o=>{const{port1:n}=new MessageChannel;try{n.postMessage(o)}finally{n.close()}},Vx=(o,n,s,a,l)=>(c,f,d,m,p,g)=>{if(d!==null)try{const y=new d(c,m,g),_=new Map;let b=null;if(Object.defineProperties(y,{channelCount:{get:()=>g.channelCount,set:()=>{throw o()}},channelCountMode:{get:()=>"explicit",set:()=>{throw o()}},onprocessorerror:{get:()=>b,set:C=>{typeof b=="function"&&y.removeEventListener("processorerror",b),b=typeof C=="function"?C:null,typeof b=="function"&&y.addEventListener("processorerror",b)}}}),y.addEventListener=(C=>(...A)=>{if(A[0]==="processorerror"){const S=typeof A[1]=="function"?A[1]:typeof A[1]=="object"&&A[1]!==null&&typeof A[1].handleEvent=="function"?A[1].handleEvent:null;if(S!==null){const T=_.get(A[1]);T!==void 0?A[1]=T:(A[1]=N=>{N.type==="error"?(Object.defineProperties(N,{type:{value:"processorerror"}}),S(N)):S(new ErrorEvent(A[0],{...N}))},_.set(S,A[1]))}}return C.call(y,"error",A[1],A[2]),C.call(y,...A)})(y.addEventListener),y.removeEventListener=(C=>(...A)=>{if(A[0]==="processorerror"){const S=_.get(A[1]);S!==void 0&&(_.delete(A[1]),A[1]=S)}return C.call(y,"error",A[1],A[2]),C.call(y,A[0],A[1],A[2])})(y.removeEventListener),g.numberOfOutputs!==0){const C=s(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return y.connect(C).connect(c.destination),l(y,()=>C.disconnect(),()=>C.connect(c.destination))}return y}catch(y){throw y.code===11?a():y}if(p===void 0)throw a();return Ux(g),n(c,f,p,g)},D0=(o,n)=>o===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(o*n))))),Bx=o=>new Promise((n,s)=>{const{port1:a,port2:l}=new MessageChannel;a.onmessage=({data:c})=>{a.close(),l.close(),n(c)},a.onmessageerror=({data:c})=>{a.close(),l.close(),s(c)},l.postMessage(o)}),qx=async(o,n)=>{const s=await Bx(n);return new o(s)},Ix=(o,n,s,a)=>{let l=Bh.get(o);l===void 0&&(l=new WeakMap,Bh.set(o,l));const c=qx(s,a);return l.set(n,c),c},Lx=(o,n,s,a,l,c,f,d,m,p,g,y,_)=>(b,C,A,S)=>{if(S.numberOfInputs===0&&S.numberOfOutputs===0)throw m();const T=Array.isArray(S.outputChannelCount)?S.outputChannelCount:Array.from(S.outputChannelCount);if(T.some(ce=>ce<1))throw m();if(T.length!==S.numberOfOutputs)throw n();if(S.channelCountMode!=="explicit")throw m();const N=S.channelCount*S.numberOfInputs,k=T.reduce((ce,me)=>ce+me,0),D=A.parameterDescriptors===void 0?0:A.parameterDescriptors.length;if(N+D>6||k>6)throw m();const M=new MessageChannel,E=[],z=[];for(let ce=0;ce<S.numberOfInputs;ce+=1)E.push(f(b,{channelCount:S.channelCount,channelCountMode:S.channelCountMode,channelInterpretation:S.channelInterpretation,gain:1})),z.push(l(b,{channelCount:S.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:S.channelCount}));const j=[];if(A.parameterDescriptors!==void 0)for(const{defaultValue:ce,maxValue:me,minValue:nt,name:He}of A.parameterDescriptors){const Ee=c(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:S.parameterData[He]!==void 0?S.parameterData[He]:ce===void 0?0:ce});Object.defineProperties(Ee.offset,{defaultValue:{get:()=>ce===void 0?0:ce},maxValue:{get:()=>me===void 0?kt:me},minValue:{get:()=>nt===void 0?Lt:nt}}),j.push(Ee)}const F=a(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,N+D)}),J=D0(C,b.sampleRate),Q=d(b,J,N+D,Math.max(1,k)),H=l(b,{channelCount:Math.max(1,k),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,k)}),te=[];for(let ce=0;ce<S.numberOfOutputs;ce+=1)te.push(a(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:T[ce]}));for(let ce=0;ce<S.numberOfInputs;ce+=1){E[ce].connect(z[ce]);for(let me=0;me<S.channelCount;me+=1)z[ce].connect(F,me,ce*S.channelCount+me)}const Z=new O0(A.parameterDescriptors===void 0?[]:A.parameterDescriptors.map(({name:ce},me)=>{const nt=j[me];return nt.connect(F,0,N+me),nt.start(0),[ce,nt.offset]}));F.connect(Q);let ne=S.channelInterpretation,V=null;const G=S.numberOfOutputs===0?[Q]:te,ee={get bufferSize(){return J},get channelCount(){return S.channelCount},set channelCount(ce){throw s()},get channelCountMode(){return S.channelCountMode},set channelCountMode(ce){throw s()},get channelInterpretation(){return ne},set channelInterpretation(ce){for(const me of E)me.channelInterpretation=ce;ne=ce},get context(){return Q.context},get inputs(){return E},get numberOfInputs(){return S.numberOfInputs},get numberOfOutputs(){return S.numberOfOutputs},get onprocessorerror(){return V},set onprocessorerror(ce){typeof V=="function"&&ee.removeEventListener("processorerror",V),V=typeof ce=="function"?ce:null,typeof V=="function"&&ee.addEventListener("processorerror",V)},get parameters(){return Z},get port(){return M.port2},addEventListener(...ce){return Q.addEventListener(ce[0],ce[1],ce[2])},connect:o.bind(null,G),disconnect:p.bind(null,G),dispatchEvent(...ce){return Q.dispatchEvent(ce[0])},removeEventListener(...ce){return Q.removeEventListener(ce[0],ce[1],ce[2])}},se=new Map;M.port1.addEventListener=(ce=>(...me)=>{if(me[0]==="message"){const nt=typeof me[1]=="function"?me[1]:typeof me[1]=="object"&&me[1]!==null&&typeof me[1].handleEvent=="function"?me[1].handleEvent:null;if(nt!==null){const He=se.get(me[1]);He!==void 0?me[1]=He:(me[1]=Ee=>{g(b.currentTime,b.sampleRate,()=>nt(Ee))},se.set(nt,me[1]))}}return ce.call(M.port1,me[0],me[1],me[2])})(M.port1.addEventListener),M.port1.removeEventListener=(ce=>(...me)=>{if(me[0]==="message"){const nt=se.get(me[1]);nt!==void 0&&(se.delete(me[1]),me[1]=nt)}return ce.call(M.port1,me[0],me[1],me[2])})(M.port1.removeEventListener);let le=null;Object.defineProperty(M.port1,"onmessage",{get:()=>le,set:ce=>{typeof le=="function"&&M.port1.removeEventListener("message",le),le=typeof ce=="function"?ce:null,typeof le=="function"&&(M.port1.addEventListener("message",le),M.port1.start())}}),A.prototype.port=M.port1;let O=null;Ix(b,ee,A,S).then(ce=>O=ce);const ie=zl(S.numberOfInputs,S.channelCount),oe=zl(S.numberOfOutputs,T),re=A.parameterDescriptors===void 0?[]:A.parameterDescriptors.reduce((ce,{name:me})=>({...ce,[me]:new Float32Array(128)}),{});let fe=!0;const ve=()=>{S.numberOfOutputs>0&&Q.disconnect(H);for(let ce=0,me=0;ce<S.numberOfOutputs;ce+=1){const nt=te[ce];for(let He=0;He<T[ce];He+=1)H.disconnect(nt,me+He,He);me+=T[ce]}},ue=new Map;Q.onaudioprocess=({inputBuffer:ce,outputBuffer:me})=>{if(O!==null){const nt=y(ee);for(let He=0;He<J;He+=128){for(let Ee=0;Ee<S.numberOfInputs;Ee+=1)for(let Ge=0;Ge<S.channelCount;Ge+=1)jl(ce,ie[Ee],Ge,Ge,He);A.parameterDescriptors!==void 0&&A.parameterDescriptors.forEach(({name:Ee},Ge)=>{jl(ce,re,Ee,N+Ge,He)});for(let Ee=0;Ee<S.numberOfInputs;Ee+=1)for(let Ge=0;Ge<T[Ee];Ge+=1)oe[Ee][Ge].byteLength===0&&(oe[Ee][Ge]=new Float32Array(128));try{const Ee=ie.map((Mt,Mn)=>{if(nt[Mn].size>0)return ue.set(Mn,J/128),Mt;const bt=ue.get(Mn);return bt===void 0?[]:(Mt.every(rc=>rc.every(to=>to===0))&&(bt===1?ue.delete(Mn):ue.set(Mn,bt-1)),Mt)});fe=g(b.currentTime+He/b.sampleRate,b.sampleRate,()=>O.process(Ee,oe,re));for(let Mt=0,Mn=0;Mt<S.numberOfOutputs;Mt+=1){for(let Fi=0;Fi<T[Mt];Fi+=1)N0(me,oe[Mt],Fi,Mn+Fi,He);Mn+=T[Mt]}}catch(Ee){fe=!1,ee.dispatchEvent(new ErrorEvent("processorerror",{colno:Ee.colno,filename:Ee.filename,lineno:Ee.lineno,message:Ee.message}))}if(!fe){for(let Ee=0;Ee<S.numberOfInputs;Ee+=1){E[Ee].disconnect(z[Ee]);for(let Ge=0;Ge<S.channelCount;Ge+=1)z[He].disconnect(F,Ge,Ee*S.channelCount+Ge)}if(A.parameterDescriptors!==void 0){const Ee=A.parameterDescriptors.length;for(let Ge=0;Ge<Ee;Ge+=1){const Mt=j[Ge];Mt.disconnect(F,0,N+Ge),Mt.stop()}}F.disconnect(Q),Q.onaudioprocess=null,Re?ve():An();break}}}};let Re=!1;const Ft=f(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),gn=()=>Q.connect(Ft).connect(b.destination),An=()=>{Q.disconnect(Ft),Ft.disconnect()},eo=()=>{if(fe){An(),S.numberOfOutputs>0&&Q.connect(H);for(let ce=0,me=0;ce<S.numberOfOutputs;ce+=1){const nt=te[ce];for(let He=0;He<T[ce];He+=1)H.connect(nt,me+He,He);me+=T[ce]}}Re=!0},Vn=()=>{fe&&(gn(),ve()),Re=!1};return gn(),_(ee,eo,Vn)},R0=(o,n)=>{const s=o.createBiquadFilter();return pt(s,n),et(s,n,"Q"),et(s,n,"detune"),et(s,n,"frequency"),et(s,n,"gain"),Ke(s,n,"type"),s},Hx=(o,n)=>(s,a)=>{const l=s.createChannelMerger(a.numberOfInputs);return o!==null&&o.name==="webkitAudioContext"&&n(s,l),pt(l,a),l},Gx=o=>{const n=o.numberOfOutputs;Object.defineProperty(o,"channelCount",{get:()=>n,set:s=>{if(s!==n)throw vt()}}),Object.defineProperty(o,"channelCountMode",{get:()=>"explicit",set:s=>{if(s!=="explicit")throw vt()}}),Object.defineProperty(o,"channelInterpretation",{get:()=>"discrete",set:s=>{if(s!=="discrete")throw vt()}})},Qr=(o,n)=>{const s=o.createChannelSplitter(n.numberOfOutputs);return pt(s,n),Gx(s),s},Fx=(o,n,s,a,l)=>(c,f)=>{if(c.createConstantSource===void 0)return s(c,f);const d=c.createConstantSource();return pt(d,f),et(d,f,"offset"),n(a,()=>a(c))||ef(d),n(l,()=>l(c))||tf(d),o(c,d),d},Ca=(o,n)=>(o.connect=n.connect.bind(n),o.disconnect=n.disconnect.bind(n),o),Yx=(o,n,s,a)=>(l,{offset:c,...f})=>{const d=l.createBuffer(1,2,44100),m=n(l,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),p=s(l,{...f,gain:c}),g=d.getChannelData(0);g[0]=1,g[1]=1,m.buffer=d,m.loop=!0;const y={get bufferSize(){},get channelCount(){return p.channelCount},set channelCount(C){p.channelCount=C},get channelCountMode(){return p.channelCountMode},set channelCountMode(C){p.channelCountMode=C},get channelInterpretation(){return p.channelInterpretation},set channelInterpretation(C){p.channelInterpretation=C},get context(){return p.context},get inputs(){return[]},get numberOfInputs(){return m.numberOfInputs},get numberOfOutputs(){return p.numberOfOutputs},get offset(){return p.gain},get onended(){return m.onended},set onended(C){m.onended=C},addEventListener(...C){return m.addEventListener(C[0],C[1],C[2])},dispatchEvent(...C){return m.dispatchEvent(C[0])},removeEventListener(...C){return m.removeEventListener(C[0],C[1],C[2])},start(C=0){m.start.call(m,C)},stop(C=0){m.stop.call(m,C)}},_=()=>m.connect(p),b=()=>m.disconnect(p);return o(l,m),a(Ca(y,p),_,b)},Xx=(o,n)=>(s,a)=>{const l=s.createConvolver();if(pt(l,a),a.disableNormalization===l.normalize&&(l.normalize=!a.disableNormalization),Ke(l,a,"buffer"),a.channelCount>2||(n(l,"channelCount",c=>()=>c.call(l),c=>f=>{if(f>2)throw o();return c.call(l,f)}),a.channelCountMode==="max"))throw o();return n(l,"channelCountMode",c=>()=>c.call(l),c=>f=>{if(f==="max")throw o();return c.call(l,f)}),l},j0=(o,n)=>{const s=o.createDelay(n.maxDelayTime);return pt(s,n),et(s,n,"delayTime"),s},Zx=o=>(n,s)=>{const a=n.createDynamicsCompressor();if(pt(a,s),s.channelCount>2||s.channelCountMode==="max")throw o();return et(a,s,"attack"),et(a,s,"knee"),et(a,s,"ratio"),et(a,s,"release"),et(a,s,"threshold"),a},Gt=(o,n)=>{const s=o.createGain();return pt(s,n),et(s,n,"gain"),s},Qx=o=>(n,s,a)=>{if(n.createIIRFilter===void 0)return o(n,s,a);const l=n.createIIRFilter(a.feedforward,a.feedback);return pt(l,a),l};function Wx(o,n){const s=n[0]*n[0]+n[1]*n[1];return[(o[0]*n[0]+o[1]*n[1])/s,(o[1]*n[0]-o[0]*n[1])/s]}function Jx(o,n){return[o[0]*n[0]-o[1]*n[1],o[0]*n[1]+o[1]*n[0]]}function Fg(o,n){let s=[0,0];for(let a=o.length-1;a>=0;a-=1)s=Jx(s,n),s[0]+=o[a];return s}const Kx=(o,n,s,a)=>(l,c,{channelCount:f,channelCountMode:d,channelInterpretation:m,feedback:p,feedforward:g})=>{const y=D0(c,l.sampleRate),_=p instanceof Float64Array?p:new Float64Array(p),b=g instanceof Float64Array?g:new Float64Array(g),C=_.length,A=b.length,S=Math.min(C,A);if(C===0||C>20)throw a();if(_[0]===0)throw n();if(A===0||A>20)throw a();if(b[0]===0)throw n();if(_[0]!==1){for(let j=0;j<A;j+=1)b[j]/=_[0];for(let j=1;j<C;j+=1)_[j]/=_[0]}const T=s(l,y,f,f);T.channelCount=f,T.channelCountMode=d,T.channelInterpretation=m;const N=32,k=[],D=[],M=[];for(let j=0;j<f;j+=1){k.push(0);const F=new Float32Array(N),J=new Float32Array(N);F.fill(0),J.fill(0),D.push(F),M.push(J)}T.onaudioprocess=j=>{const F=j.inputBuffer,J=j.outputBuffer,Q=F.numberOfChannels;for(let H=0;H<Q;H+=1){const te=F.getChannelData(H),Z=J.getChannelData(H);k[H]=k0(_,C,b,A,S,D[H],M[H],k[H],N,te,Z)}};const E=l.sampleRate/2;return Ca({get bufferSize(){return y},get channelCount(){return T.channelCount},set channelCount(j){T.channelCount=j},get channelCountMode(){return T.channelCountMode},set channelCountMode(j){T.channelCountMode=j},get channelInterpretation(){return T.channelInterpretation},set channelInterpretation(j){T.channelInterpretation=j},get context(){return T.context},get inputs(){return[T]},get numberOfInputs(){return T.numberOfInputs},get numberOfOutputs(){return T.numberOfOutputs},addEventListener(...j){return T.addEventListener(j[0],j[1],j[2])},dispatchEvent(...j){return T.dispatchEvent(j[0])},getFrequencyResponse(j,F,J){if(j.length!==F.length||F.length!==J.length)throw o();const Q=j.length;for(let H=0;H<Q;H+=1){const te=-Math.PI*(j[H]/E),Z=[Math.cos(te),Math.sin(te)],ne=Fg(b,Z),V=Fg(_,Z),G=Wx(ne,V);F[H]=Math.sqrt(G[0]*G[0]+G[1]*G[1]),J[H]=Math.atan2(G[1],G[0])}},removeEventListener(...j){return T.removeEventListener(j[0],j[1],j[2])}},T)},Px=(o,n)=>o.createMediaElementSource(n.mediaElement),$x=(o,n)=>{const s=o.createMediaStreamDestination();return pt(s,n),s.numberOfOutputs===1&&Object.defineProperty(s,"numberOfOutputs",{get:()=>0}),s},eS=(o,{mediaStream:n})=>{const s=n.getAudioTracks();s.sort((c,f)=>c.id<f.id?-1:c.id>f.id?1:0);const a=s.slice(0,1),l=o.createMediaStreamSource(new MediaStream(a));return Object.defineProperty(l,"mediaStream",{value:n}),l},tS=(o,n)=>(s,{mediaStreamTrack:a})=>{if(typeof s.createMediaStreamTrackSource=="function")return s.createMediaStreamTrackSource(a);const l=new MediaStream([a]),c=s.createMediaStreamSource(l);if(a.kind!=="audio")throw o();if(n(s))throw new TypeError;return c},nS=o=>o===null?null:o.hasOwnProperty("OfflineAudioContext")?o.OfflineAudioContext:o.hasOwnProperty("webkitOfflineAudioContext")?o.webkitOfflineAudioContext:null,iS=(o,n,s,a,l,c)=>(f,d)=>{const m=f.createOscillator();return pt(m,d),et(m,d,"detune"),et(m,d,"frequency"),d.periodicWave!==void 0?m.setPeriodicWave(d.periodicWave):Ke(m,d,"type"),n(s,()=>s(f))||ef(m),n(a,()=>a(f))||c(m,f),n(l,()=>l(f))||tf(m),o(f,m),m},sS=o=>(n,s)=>{const a=n.createPanner();return a.orientationX===void 0?o(n,s):(pt(a,s),et(a,s,"orientationX"),et(a,s,"orientationY"),et(a,s,"orientationZ"),et(a,s,"positionX"),et(a,s,"positionY"),et(a,s,"positionZ"),Ke(a,s,"coneInnerAngle"),Ke(a,s,"coneOuterAngle"),Ke(a,s,"coneOuterGain"),Ke(a,s,"distanceModel"),Ke(a,s,"maxDistance"),Ke(a,s,"panningModel"),Ke(a,s,"refDistance"),Ke(a,s,"rolloffFactor"),a)},aS=(o,n,s,a,l,c,f,d,m,p)=>(g,{coneInnerAngle:y,coneOuterAngle:_,coneOuterGain:b,distanceModel:C,maxDistance:A,orientationX:S,orientationY:T,orientationZ:N,panningModel:k,positionX:D,positionY:M,positionZ:E,refDistance:z,rolloffFactor:j,...F})=>{const J=g.createPanner();if(F.channelCount>2||F.channelCountMode==="max")throw f();pt(J,F);const Q={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},H=s(g,{...Q,channelInterpretation:"speakers",numberOfInputs:6}),te=a(g,{...F,gain:1}),Z=a(g,{...Q,gain:1}),ne=a(g,{...Q,gain:0}),V=a(g,{...Q,gain:0}),G=a(g,{...Q,gain:0}),ee=a(g,{...Q,gain:0}),se=a(g,{...Q,gain:0}),le=l(g,256,6,1),O=c(g,{...Q,curve:new Float32Array([1,1]),oversample:"none"});let Y=[S,T,N],ie=[D,M,E];const oe=new Float32Array(1);le.onaudioprocess=({inputBuffer:ue})=>{const Re=[m(ue,oe,0),m(ue,oe,1),m(ue,oe,2)];Re.some((gn,An)=>gn!==Y[An])&&(J.setOrientation(...Re),Y=Re);const Ft=[m(ue,oe,3),m(ue,oe,4),m(ue,oe,5)];Ft.some((gn,An)=>gn!==ie[An])&&(J.setPosition(...Ft),ie=Ft)},Object.defineProperty(ne.gain,"defaultValue",{get:()=>0}),Object.defineProperty(V.gain,"defaultValue",{get:()=>0}),Object.defineProperty(G.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ee.gain,"defaultValue",{get:()=>0}),Object.defineProperty(se.gain,"defaultValue",{get:()=>0});const re={get bufferSize(){},get channelCount(){return J.channelCount},set channelCount(ue){if(ue>2)throw f();te.channelCount=ue,J.channelCount=ue},get channelCountMode(){return J.channelCountMode},set channelCountMode(ue){if(ue==="max")throw f();te.channelCountMode=ue,J.channelCountMode=ue},get channelInterpretation(){return J.channelInterpretation},set channelInterpretation(ue){te.channelInterpretation=ue,J.channelInterpretation=ue},get coneInnerAngle(){return J.coneInnerAngle},set coneInnerAngle(ue){J.coneInnerAngle=ue},get coneOuterAngle(){return J.coneOuterAngle},set coneOuterAngle(ue){J.coneOuterAngle=ue},get coneOuterGain(){return J.coneOuterGain},set coneOuterGain(ue){if(ue<0||ue>1)throw n();J.coneOuterGain=ue},get context(){return J.context},get distanceModel(){return J.distanceModel},set distanceModel(ue){J.distanceModel=ue},get inputs(){return[te]},get maxDistance(){return J.maxDistance},set maxDistance(ue){if(ue<0)throw new RangeError;J.maxDistance=ue},get numberOfInputs(){return J.numberOfInputs},get numberOfOutputs(){return J.numberOfOutputs},get orientationX(){return Z.gain},get orientationY(){return ne.gain},get orientationZ(){return V.gain},get panningModel(){return J.panningModel},set panningModel(ue){J.panningModel=ue},get positionX(){return G.gain},get positionY(){return ee.gain},get positionZ(){return se.gain},get refDistance(){return J.refDistance},set refDistance(ue){if(ue<0)throw new RangeError;J.refDistance=ue},get rolloffFactor(){return J.rolloffFactor},set rolloffFactor(ue){if(ue<0)throw new RangeError;J.rolloffFactor=ue},addEventListener(...ue){return te.addEventListener(ue[0],ue[1],ue[2])},dispatchEvent(...ue){return te.dispatchEvent(ue[0])},removeEventListener(...ue){return te.removeEventListener(ue[0],ue[1],ue[2])}};y!==re.coneInnerAngle&&(re.coneInnerAngle=y),_!==re.coneOuterAngle&&(re.coneOuterAngle=_),b!==re.coneOuterGain&&(re.coneOuterGain=b),C!==re.distanceModel&&(re.distanceModel=C),A!==re.maxDistance&&(re.maxDistance=A),S!==re.orientationX.value&&(re.orientationX.value=S),T!==re.orientationY.value&&(re.orientationY.value=T),N!==re.orientationZ.value&&(re.orientationZ.value=N),k!==re.panningModel&&(re.panningModel=k),D!==re.positionX.value&&(re.positionX.value=D),M!==re.positionY.value&&(re.positionY.value=M),E!==re.positionZ.value&&(re.positionZ.value=E),z!==re.refDistance&&(re.refDistance=z),j!==re.rolloffFactor&&(re.rolloffFactor=j),(Y[0]!==1||Y[1]!==0||Y[2]!==0)&&J.setOrientation(...Y),(ie[0]!==0||ie[1]!==0||ie[2]!==0)&&J.setPosition(...ie);const fe=()=>{te.connect(J),o(te,O,0,0),O.connect(Z).connect(H,0,0),O.connect(ne).connect(H,0,1),O.connect(V).connect(H,0,2),O.connect(G).connect(H,0,3),O.connect(ee).connect(H,0,4),O.connect(se).connect(H,0,5),H.connect(le).connect(g.destination)},ve=()=>{te.disconnect(J),d(te,O,0,0),O.disconnect(Z),Z.disconnect(H),O.disconnect(ne),ne.disconnect(H),O.disconnect(V),V.disconnect(H),O.disconnect(G),G.disconnect(H),O.disconnect(ee),ee.disconnect(H),O.disconnect(se),se.disconnect(H),H.disconnect(le),le.disconnect(g.destination)};return p(Ca(re,J),fe,ve)},rS=o=>(n,{disableNormalization:s,imag:a,real:l})=>{const c=a instanceof Float32Array?a:new Float32Array(a),f=l instanceof Float32Array?l:new Float32Array(l),d=n.createPeriodicWave(f,c,{disableNormalization:s});if(Array.from(a).length<2)throw o();return d},Wr=(o,n,s,a)=>o.createScriptProcessor(n,s,a),oS=(o,n)=>(s,a)=>{const l=a.channelCountMode;if(l==="clamped-max")throw n();if(s.createStereoPanner===void 0)return o(s,a);const c=s.createStereoPanner();return pt(c,a),et(c,a,"pan"),Object.defineProperty(c,"channelCountMode",{get:()=>l,set:f=>{if(f!==l)throw n()}}),c},lS=(o,n,s,a,l,c)=>{const d=new Float32Array([1,1]),m=Math.PI/2,p={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},g={...p,oversample:"none"},y=(C,A,S,T)=>{const N=new Float32Array(16385),k=new Float32Array(16385);for(let F=0;F<16385;F+=1){const J=F/16384*m;N[F]=Math.cos(J),k[F]=Math.sin(J)}const D=s(C,{...p,gain:0}),M=a(C,{...g,curve:N}),E=a(C,{...g,curve:d}),z=s(C,{...p,gain:0}),j=a(C,{...g,curve:k});return{connectGraph(){A.connect(D),A.connect(E.inputs===void 0?E:E.inputs[0]),A.connect(z),E.connect(S),S.connect(M.inputs===void 0?M:M.inputs[0]),S.connect(j.inputs===void 0?j:j.inputs[0]),M.connect(D.gain),j.connect(z.gain),D.connect(T,0,0),z.connect(T,0,1)},disconnectGraph(){A.disconnect(D),A.disconnect(E.inputs===void 0?E:E.inputs[0]),A.disconnect(z),E.disconnect(S),S.disconnect(M.inputs===void 0?M:M.inputs[0]),S.disconnect(j.inputs===void 0?j:j.inputs[0]),M.disconnect(D.gain),j.disconnect(z.gain),D.disconnect(T,0,0),z.disconnect(T,0,1)}}},_=(C,A,S,T)=>{const N=new Float32Array(16385),k=new Float32Array(16385),D=new Float32Array(16385),M=new Float32Array(16385),E=Math.floor(16385/2);for(let G=0;G<16385;G+=1)if(G>E){const ee=(G-E)/(16384-E)*m;N[G]=Math.cos(ee),k[G]=Math.sin(ee),D[G]=0,M[G]=1}else{const ee=G/(16384-E)*m;N[G]=1,k[G]=0,D[G]=Math.cos(ee),M[G]=Math.sin(ee)}const z=n(C,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),j=s(C,{...p,gain:0}),F=a(C,{...g,curve:N}),J=s(C,{...p,gain:0}),Q=a(C,{...g,curve:k}),H=a(C,{...g,curve:d}),te=s(C,{...p,gain:0}),Z=a(C,{...g,curve:D}),ne=s(C,{...p,gain:0}),V=a(C,{...g,curve:M});return{connectGraph(){A.connect(z),A.connect(H.inputs===void 0?H:H.inputs[0]),z.connect(j,0),z.connect(J,0),z.connect(te,1),z.connect(ne,1),H.connect(S),S.connect(F.inputs===void 0?F:F.inputs[0]),S.connect(Q.inputs===void 0?Q:Q.inputs[0]),S.connect(Z.inputs===void 0?Z:Z.inputs[0]),S.connect(V.inputs===void 0?V:V.inputs[0]),F.connect(j.gain),Q.connect(J.gain),Z.connect(te.gain),V.connect(ne.gain),j.connect(T,0,0),te.connect(T,0,0),J.connect(T,0,1),ne.connect(T,0,1)},disconnectGraph(){A.disconnect(z),A.disconnect(H.inputs===void 0?H:H.inputs[0]),z.disconnect(j,0),z.disconnect(J,0),z.disconnect(te,1),z.disconnect(ne,1),H.disconnect(S),S.disconnect(F.inputs===void 0?F:F.inputs[0]),S.disconnect(Q.inputs===void 0?Q:Q.inputs[0]),S.disconnect(Z.inputs===void 0?Z:Z.inputs[0]),S.disconnect(V.inputs===void 0?V:V.inputs[0]),F.disconnect(j.gain),Q.disconnect(J.gain),Z.disconnect(te.gain),V.disconnect(ne.gain),j.disconnect(T,0,0),te.disconnect(T,0,0),J.disconnect(T,0,1),ne.disconnect(T,0,1)}}},b=(C,A,S,T,N)=>{if(A===1)return y(C,S,T,N);if(A===2)return _(C,S,T,N);throw l()};return(C,{channelCount:A,channelCountMode:S,pan:T,...N})=>{if(S==="max")throw l();const k=o(C,{...N,channelCount:1,channelCountMode:S,numberOfInputs:2}),D=s(C,{...N,channelCount:A,channelCountMode:S,gain:1}),M=s(C,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:T});let{connectGraph:E,disconnectGraph:z}=b(C,A,D,M,k);Object.defineProperty(M.gain,"defaultValue",{get:()=>0}),Object.defineProperty(M.gain,"maxValue",{get:()=>1}),Object.defineProperty(M.gain,"minValue",{get:()=>-1});const j={get bufferSize(){},get channelCount(){return D.channelCount},set channelCount(H){D.channelCount!==H&&(F&&z(),{connectGraph:E,disconnectGraph:z}=b(C,H,D,M,k),F&&E()),D.channelCount=H},get channelCountMode(){return D.channelCountMode},set channelCountMode(H){if(H==="clamped-max"||H==="max")throw l();D.channelCountMode=H},get channelInterpretation(){return D.channelInterpretation},set channelInterpretation(H){D.channelInterpretation=H},get context(){return D.context},get inputs(){return[D]},get numberOfInputs(){return D.numberOfInputs},get numberOfOutputs(){return D.numberOfOutputs},get pan(){return M.gain},addEventListener(...H){return D.addEventListener(H[0],H[1],H[2])},dispatchEvent(...H){return D.dispatchEvent(H[0])},removeEventListener(...H){return D.removeEventListener(H[0],H[1],H[2])}};let F=!1;const J=()=>{E(),F=!0},Q=()=>{z(),F=!1};return c(Ca(j,k),J,Q)}},cS=(o,n,s,a,l,c,f)=>(d,m)=>{const p=d.createWaveShaper();if(c!==null&&c.name==="webkitAudioContext"&&d.createGain().gain.automationRate===void 0)return s(d,m);pt(p,m);const g=m.curve===null||m.curve instanceof Float32Array?m.curve:new Float32Array(m.curve);if(g!==null&&g.length<2)throw n();Ke(p,{curve:g},"curve"),Ke(p,m,"oversample");let y=null,_=!1;return f(p,"curve",A=>()=>A.call(p),A=>S=>(A.call(p,S),_&&(a(S)&&y===null?y=o(d,p):!a(S)&&y!==null&&(y(),y=null)),S)),l(p,()=>{_=!0,a(p.curve)&&(y=o(d,p))},()=>{_=!1,y!==null&&(y(),y=null)})},uS=(o,n,s,a,l)=>(c,{curve:f,oversample:d,...m})=>{const p=c.createWaveShaper(),g=c.createWaveShaper();pt(p,m),pt(g,m);const y=s(c,{...m,gain:1}),_=s(c,{...m,gain:-1}),b=s(c,{...m,gain:1}),C=s(c,{...m,gain:-1});let A=null,S=!1,T=null;const N={get bufferSize(){},get channelCount(){return p.channelCount},set channelCount(M){y.channelCount=M,_.channelCount=M,p.channelCount=M,b.channelCount=M,g.channelCount=M,C.channelCount=M},get channelCountMode(){return p.channelCountMode},set channelCountMode(M){y.channelCountMode=M,_.channelCountMode=M,p.channelCountMode=M,b.channelCountMode=M,g.channelCountMode=M,C.channelCountMode=M},get channelInterpretation(){return p.channelInterpretation},set channelInterpretation(M){y.channelInterpretation=M,_.channelInterpretation=M,p.channelInterpretation=M,b.channelInterpretation=M,g.channelInterpretation=M,C.channelInterpretation=M},get context(){return p.context},get curve(){return T},set curve(M){if(M!==null&&M.length<2)throw n();if(M===null)p.curve=M,g.curve=M;else{const E=M.length,z=new Float32Array(E+2-E%2),j=new Float32Array(E+2-E%2);z[0]=M[0],j[0]=-M[E-1];const F=Math.ceil((E+1)/2),J=(E+1)/2-1;for(let Q=1;Q<F;Q+=1){const H=Q/F*J,te=Math.floor(H),Z=Math.ceil(H);z[Q]=te===Z?M[te]:(1-(H-te))*M[te]+(1-(Z-H))*M[Z],j[Q]=te===Z?-M[E-1-te]:-((1-(H-te))*M[E-1-te])-(1-(Z-H))*M[E-1-Z]}z[F]=E%2===1?M[F-1]:(M[F-2]+M[F-1])/2,p.curve=z,g.curve=j}T=M,S&&(a(T)&&A===null?A=o(c,y):A!==null&&(A(),A=null))},get inputs(){return[y]},get numberOfInputs(){return p.numberOfInputs},get numberOfOutputs(){return p.numberOfOutputs},get oversample(){return p.oversample},set oversample(M){p.oversample=M,g.oversample=M},addEventListener(...M){return y.addEventListener(M[0],M[1],M[2])},dispatchEvent(...M){return y.dispatchEvent(M[0])},removeEventListener(...M){return y.removeEventListener(M[0],M[1],M[2])}};f!==null&&(N.curve=f instanceof Float32Array?f:new Float32Array(f)),d!==N.oversample&&(N.oversample=d);const k=()=>{y.connect(p).connect(b),y.connect(_).connect(g).connect(C).connect(b),S=!0,a(T)&&(A=o(c,y))},D=()=>{y.disconnect(p),p.disconnect(b),y.disconnect(_),_.disconnect(g),g.disconnect(C),C.disconnect(b),S=!1,A!==null&&(A(),A=null)};return l(Ca(N,b),k,D)},Rt=()=>new DOMException("","NotSupportedError"),hS={numberOfChannels:1},fS=(o,n,s,a,l)=>class extends o{constructor(f,d,m){let p;if(typeof f=="number"&&d!==void 0&&m!==void 0)p={length:d,numberOfChannels:f,sampleRate:m};else if(typeof f=="object")p=f;else throw new Error("The given parameters are not valid.");const{length:g,numberOfChannels:y,sampleRate:_}={...hS,...p},b=a(y,g,_);n(kr,()=>kr(b))||b.addEventListener("statechange",(()=>{let C=0;const A=S=>{this._state==="running"&&(C>0?(b.removeEventListener("statechange",A),S.stopImmediatePropagation(),this._waitForThePromiseToSettle(S)):C+=1)};return A})()),super(b,y),this._length=g,this._nativeOfflineAudioContext=b,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(s()):(this._state="running",l(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,w0(this)}))}_waitForThePromiseToSettle(f){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(f):setTimeout(()=>this._waitForThePromiseToSettle(f))}},dS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},pS=(o,n,s,a,l,c,f)=>class extends o{constructor(m,p){const g=l(m),y={...dS,...p},_=s(g,y),b=c(g),C=b?a():null,A=m.sampleRate/2;super(m,!1,_,C),this._detune=n(this,b,_.detune,153600,-153600),this._frequency=n(this,b,_.frequency,A,-A),this._nativeOscillatorNode=_,this._onended=null,this._oscillatorNodeRenderer=C,this._oscillatorNodeRenderer!==null&&y.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=y.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(m){const p=typeof m=="function"?f(this,m):null;this._nativeOscillatorNode.onended=p;const g=this._nativeOscillatorNode.onended;this._onended=g!==null&&g===p?m:g}get type(){return this._nativeOscillatorNode.type}set type(m){this._nativeOscillatorNode.type=m,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(m){this._nativeOscillatorNode.setPeriodicWave(m),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=m)}start(m=0){if(this._nativeOscillatorNode.start(m),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=m),this.context.state!=="closed"){ga(this);const p=()=>{this._nativeOscillatorNode.removeEventListener("ended",p),si(this)&&Yr(this)};this._nativeOscillatorNode.addEventListener("ended",p)}}stop(m=0){this._nativeOscillatorNode.stop(m),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=m)}},mS=(o,n,s,a,l)=>()=>{const c=new WeakMap;let f=null,d=null,m=null;const p=async(g,y)=>{let _=s(g);const b=Ot(_,y);if(!b){const C={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,detune:_.detune.value,frequency:_.frequency.value,periodicWave:f===null?void 0:f,type:_.type};_=n(y,C),d!==null&&_.start(d),m!==null&&_.stop(m)}return c.set(y,_),b?(await o(y,g.detune,_.detune),await o(y,g.frequency,_.frequency)):(await a(y,g.detune,_.detune),await a(y,g.frequency,_.frequency)),await l(g,y,_),_};return{set periodicWave(g){f=g},set start(g){d=g},set stop(g){m=g},render(g,y){const _=c.get(y);return _!==void 0?Promise.resolve(_):p(g,y)}}},gS={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},yS=(o,n,s,a,l,c,f)=>class extends o{constructor(m,p){const g=l(m),y={...gS,...p},_=s(g,y),b=c(g),C=b?a():null;super(m,!1,_,C),this._nativePannerNode=_,this._orientationX=n(this,b,_.orientationX,kt,Lt),this._orientationY=n(this,b,_.orientationY,kt,Lt),this._orientationZ=n(this,b,_.orientationZ,kt,Lt),this._positionX=n(this,b,_.positionX,kt,Lt),this._positionY=n(this,b,_.positionY,kt,Lt),this._positionZ=n(this,b,_.positionZ,kt,Lt),f(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(m){this._nativePannerNode.coneInnerAngle=m}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(m){this._nativePannerNode.coneOuterAngle=m}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(m){this._nativePannerNode.coneOuterGain=m}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(m){this._nativePannerNode.distanceModel=m}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(m){this._nativePannerNode.maxDistance=m}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(m){this._nativePannerNode.panningModel=m}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(m){this._nativePannerNode.refDistance=m}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(m){this._nativePannerNode.rolloffFactor=m}},vS=(o,n,s,a,l,c,f,d,m,p)=>()=>{const g=new WeakMap;let y=null;const _=async(b,C)=>{let A=null,S=c(b);const T={channelCount:S.channelCount,channelCountMode:S.channelCountMode,channelInterpretation:S.channelInterpretation},N={...T,coneInnerAngle:S.coneInnerAngle,coneOuterAngle:S.coneOuterAngle,coneOuterGain:S.coneOuterGain,distanceModel:S.distanceModel,maxDistance:S.maxDistance,panningModel:S.panningModel,refDistance:S.refDistance,rolloffFactor:S.rolloffFactor},k=Ot(S,C);if("bufferSize"in S)A=a(C,{...T,gain:1});else if(!k){const D={...N,orientationX:S.orientationX.value,orientationY:S.orientationY.value,orientationZ:S.orientationZ.value,positionX:S.positionX.value,positionY:S.positionY.value,positionZ:S.positionZ.value};S=l(C,D)}if(g.set(C,A===null?S:A),A!==null){if(y===null){if(f===null)throw new Error("Missing the native OfflineAudioContext constructor.");const Q=new f(6,b.context.length,C.sampleRate),H=n(Q,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});H.connect(Q.destination),y=(async()=>{const te=await Promise.all([b.orientationX,b.orientationY,b.orientationZ,b.positionX,b.positionY,b.positionZ].map(async(Z,ne)=>{const V=s(Q,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ne===0?1:0});return await d(Q,Z,V.offset),V}));for(let Z=0;Z<6;Z+=1)te[Z].connect(H,0,Z),te[Z].start(0);return p(Q)})()}const D=await y,M=a(C,{...T,gain:1});await m(b,C,M);const E=[];for(let Q=0;Q<D.numberOfChannels;Q+=1)E.push(D.getChannelData(Q));let z=[E[0][0],E[1][0],E[2][0]],j=[E[3][0],E[4][0],E[5][0]],F=a(C,{...T,gain:1}),J=l(C,{...N,orientationX:z[0],orientationY:z[1],orientationZ:z[2],positionX:j[0],positionY:j[1],positionZ:j[2]});M.connect(F).connect(J.inputs[0]),J.connect(A);for(let Q=128;Q<D.length;Q+=128){const H=[E[0][Q],E[1][Q],E[2][Q]],te=[E[3][Q],E[4][Q],E[5][Q]];if(H.some((Z,ne)=>Z!==z[ne])||te.some((Z,ne)=>Z!==j[ne])){z=H,j=te;const Z=Q/C.sampleRate;F.gain.setValueAtTime(0,Z),F=a(C,{...T,gain:0}),J=l(C,{...N,orientationX:z[0],orientationY:z[1],orientationZ:z[2],positionX:j[0],positionY:j[1],positionZ:j[2]}),F.gain.setValueAtTime(1,Z),M.connect(F).connect(J.inputs[0]),J.connect(A)}}return A}return k?(await o(C,b.orientationX,S.orientationX),await o(C,b.orientationY,S.orientationY),await o(C,b.orientationZ,S.orientationZ),await o(C,b.positionX,S.positionX),await o(C,b.positionY,S.positionY),await o(C,b.positionZ,S.positionZ)):(await d(C,b.orientationX,S.orientationX),await d(C,b.orientationY,S.orientationY),await d(C,b.orientationZ,S.orientationZ),await d(C,b.positionX,S.positionX),await d(C,b.positionY,S.positionY),await d(C,b.positionZ,S.positionZ)),Ta(S)?await m(b,C,S.inputs[0]):await m(b,C,S),S};return{render(b,C){const A=g.get(C);return A!==void 0?Promise.resolve(A):_(b,C)}}},_S={disableNormalization:!1},bS=(o,n,s,a)=>class z0{constructor(c,f){const d=n(c),m=a({..._S,...f}),p=o(d,m);return s.add(p),p}static[Symbol.hasInstance](c){return c!==null&&typeof c=="object"&&Object.getPrototypeOf(c)===z0.prototype||s.has(c)}},xS=(o,n)=>(s,a,l)=>(o(a).replay(l),n(a,s,l)),SS=(o,n,s)=>async(a,l,c)=>{const f=o(a);await Promise.all(f.activeInputs.map((d,m)=>Array.from(d).map(async([p,g])=>{const _=await n(p).render(p,l),b=a.context.destination;!s(p)&&(a!==b||!s(a))&&_.connect(c,g,m)})).reduce((d,m)=>[...d,...m],[]))},TS=(o,n,s)=>async(a,l,c)=>{const f=n(a);await Promise.all(Array.from(f.activeInputs).map(async([d,m])=>{const g=await o(d).render(d,l);s(d)||g.connect(c,m)}))},CS=(o,n,s,a)=>l=>o(kr,()=>kr(l))?Promise.resolve(o(a,a)).then(c=>{if(!c){const f=s(l,512,0,1);l.oncomplete=()=>{f.onaudioprocess=null,f.disconnect()},f.onaudioprocess=()=>l.currentTime,f.connect(l.destination)}return l.startRendering()}):new Promise(c=>{const f=n(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});l.oncomplete=d=>{f.disconnect(),c(d.renderedBuffer)},f.connect(l.destination),l.startRendering()}),wS=o=>(n,s)=>{o.set(n,s)},AS=o=>(n,s)=>o.set(n,s),MS=(o,n,s,a,l,c,f,d)=>(m,p)=>s(m).render(m,p).then(()=>Promise.all(Array.from(a(p)).map(g=>s(g).render(g,p)))).then(()=>l(p)).then(g=>(typeof g.copyFromChannel!="function"?(f(g),Kh(g)):n(c,()=>c(g))||d(g),o.add(g),g)),ES={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},OS=(o,n,s,a,l,c)=>class extends o{constructor(d,m){const p=l(d),g={...ES,...m},y=s(p,g),_=c(p),b=_?a():null;super(d,!1,y,b),this._pan=n(this,_,y.pan)}get pan(){return this._pan}},NS=(o,n,s,a,l)=>()=>{const c=new WeakMap,f=async(d,m)=>{let p=s(d);const g=Ot(p,m);if(!g){const y={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,pan:p.pan.value};p=n(m,y)}return c.set(m,p),g?await o(m,d.pan,p.pan):await a(m,d.pan,p.pan),Ta(p)?await l(d,m,p.inputs[0]):await l(d,m,p),p};return{render(d,m){const p=c.get(m);return p!==void 0?Promise.resolve(p):f(d,m)}}},kS=o=>()=>{if(o===null)return!1;try{new o({length:1,sampleRate:44100})}catch{return!1}return!0},DS=(o,n)=>async()=>{if(o===null)return!0;if(n===null)return!1;const s=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),a=new n(1,128,44100),l=URL.createObjectURL(s);let c=!1,f=!1;try{await a.audioWorklet.addModule(l);const d=new o(a,"a",{numberOfOutputs:0}),m=a.createOscillator();d.port.onmessage=()=>c=!0,d.onprocessorerror=()=>f=!0,m.connect(d),m.start(0),await a.startRendering(),await new Promise(p=>setTimeout(p))}catch{}finally{URL.revokeObjectURL(l)}return c&&!f},RS=(o,n)=>()=>{if(n===null)return Promise.resolve(!1);const s=new n(1,1,44100),a=o(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(l=>{s.oncomplete=()=>{a.disconnect(),l(s.currentTime!==0)},s.startRendering()})},jS=()=>new DOMException("","UnknownError"),zS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},US=(o,n,s,a,l,c,f)=>class extends o{constructor(m,p){const g=l(m),y={...zS,...p},_=s(g,y),C=c(g)?a():null;super(m,!0,_,C),this._isCurveNullified=!1,this._nativeWaveShaperNode=_,f(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(m){if(m===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(m.length<2)throw n();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=m}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(m){this._nativeWaveShaperNode.oversample=m}},VS=(o,n,s)=>()=>{const a=new WeakMap,l=async(c,f)=>{let d=n(c);if(!Ot(d,f)){const p={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,curve:d.curve,oversample:d.oversample};d=o(f,p)}return a.set(f,d),Ta(d)?await s(c,f,d.inputs[0]):await s(c,f,d),d};return{render(c,f){const d=a.get(f);return d!==void 0?Promise.resolve(d):l(c,f)}}},BS=()=>typeof window>"u"?null:window,qS=(o,n)=>s=>{s.copyFromChannel=(a,l,c=0)=>{const f=o(c),d=o(l);if(d>=s.numberOfChannels)throw n();const m=s.length,p=s.getChannelData(d),g=a.length;for(let y=f<0?-f:0;y+f<m&&y<g;y+=1)a[y]=p[y+f]},s.copyToChannel=(a,l,c=0)=>{const f=o(c),d=o(l);if(d>=s.numberOfChannels)throw n();const m=s.length,p=s.getChannelData(d),g=a.length;for(let y=f<0?-f:0;y+f<m&&y<g;y+=1)p[y+f]=a[y]}},IS=o=>n=>{n.copyFromChannel=(s=>(a,l,c=0)=>{const f=o(c),d=o(l);if(f<n.length)return s.call(n,a,d,f)})(n.copyFromChannel),n.copyToChannel=(s=>(a,l,c=0)=>{const f=o(c),d=o(l);if(f<n.length)return s.call(n,a,d,f)})(n.copyToChannel)},LS=o=>(n,s)=>{const a=s.createBuffer(1,1,44100);n.buffer===null&&(n.buffer=a),o(n,"buffer",l=>()=>{const c=l.call(n);return c===a?null:c},l=>c=>l.call(n,c===null?a:c))},HS=(o,n)=>(s,a)=>{a.channelCount=1,a.channelCountMode="explicit",Object.defineProperty(a,"channelCount",{get:()=>1,set:()=>{throw o()}}),Object.defineProperty(a,"channelCountMode",{get:()=>"explicit",set:()=>{throw o()}});const l=s.createBufferSource();n(a,()=>{const d=a.numberOfInputs;for(let m=0;m<d;m+=1)l.connect(a,0,m)},()=>l.disconnect(a))},U0=(o,n,s)=>o.copyFromChannel===void 0?o.getChannelData(s)[0]:(o.copyFromChannel(n,s),n[0]),V0=o=>{if(o===null)return!1;const n=o.length;return n%2!==0?o[Math.floor(n/2)]!==0:o[n/2-1]+o[n/2]!==0},Jr=(o,n,s,a)=>{let l=o;for(;!l.hasOwnProperty(n);)l=Object.getPrototypeOf(l);const{get:c,set:f}=Object.getOwnPropertyDescriptor(l,n);Object.defineProperty(o,n,{get:s(c),set:a(f)})},GS=o=>({...o,outputChannelCount:o.outputChannelCount!==void 0?o.outputChannelCount:o.numberOfInputs===1&&o.numberOfOutputs===1?[o.channelCount]:Array.from({length:o.numberOfOutputs},()=>1)}),FS=o=>({...o,channelCount:o.numberOfOutputs}),YS=o=>{const{imag:n,real:s}=o;return n===void 0?s===void 0?{...o,imag:[0,0],real:[0,0]}:{...o,imag:Array.from(s,()=>0),real:s}:s===void 0?{...o,imag:n,real:Array.from(n,()=>0)}:{...o,imag:n,real:s}},B0=(o,n,s)=>{try{o.setValueAtTime(n,s)}catch(a){if(a.code!==9)throw a;B0(o,n,s+1e-7)}},XS=o=>{const n=o.createBufferSource();n.start();try{n.start()}catch{return!0}return!1},ZS=o=>{const n=o.createBufferSource(),s=o.createBuffer(1,1,44100);n.buffer=s;try{n.start(0,1)}catch{return!1}return!0},QS=o=>{const n=o.createBufferSource();n.start();try{n.stop()}catch{return!1}return!0},nf=o=>{const n=o.createOscillator();try{n.start(-1)}catch(s){return s instanceof RangeError}return!1},q0=o=>{const n=o.createBuffer(1,1,44100),s=o.createBufferSource();s.buffer=n,s.start(),s.stop();try{return s.stop(),!0}catch{return!1}},sf=o=>{const n=o.createOscillator();try{n.stop(-1)}catch(s){return s instanceof RangeError}return!1},WS=o=>{const{port1:n,port2:s}=new MessageChannel;try{n.postMessage(o)}finally{n.close(),s.close()}},JS=o=>{o.start=(n=>(s=0,a=0,l)=>{const c=o.buffer,f=c===null?a:Math.min(c.duration,a);c!==null&&f>c.duration-.5/o.context.sampleRate?n.call(o,s,0,0):n.call(o,s,f,l)})(o.start)},I0=(o,n)=>{const s=n.createGain();o.connect(s);const a=(l=>()=>{l.call(o,s),o.removeEventListener("ended",a)})(o.disconnect);o.addEventListener("ended",a),Ca(o,s),o.stop=(l=>{let c=!1;return(f=0)=>{if(c)try{l.call(o,f)}catch{s.gain.setValueAtTime(0,f)}else l.call(o,f),c=!0}})(o.stop)},wa=(o,n)=>s=>{const a={value:o};return Object.defineProperties(s,{currentTarget:a,target:a}),typeof n=="function"?n.call(o,s):n.handleEvent.call(o,s)},KS=yb(Ts),PS=Tb(Ts),$S=z1(Kl),L0=new WeakMap,eT=$1(L0),Tn=h1(new Map,new WeakMap),Rn=BS(),H0=Ox(Tn,jn),af=P1(Dt),At=SS(Dt,af,vs),tT=Eb(H0,Qe,At),Fe=nx(Jl),li=nS(Rn),Ie=_x(li),G0=new WeakMap,F0=Y1(wa),Kr=Rx(Rn),rf=mx(Kr),of=gx(Rn),Y0=yx(Rn),Dr=zx(Rn),ot=$b(vb(v0),Sb(KS,PS,kl,$S,Dl,Dt,eT,Fr,Qe,Ts,si,vs,wl),Tn,ux(Uh,Dl,Dt,Qe,Nr,si),jn,Pl,Rt,k1(kl,Uh,Dt,Qe,Nr,Fe,si,Ie),B1(G0,Dt,Sn),F0,Fe,rf,of,Y0,Ie,Dr),nT=Mb(ot,tT,jn,H0,Fe,Ie),lf=new WeakSet,Yg=Nx(Rn),X0=C1(new Uint32Array(1)),cf=qS(X0,jn),uf=IS(X0),Z0=Nb(lf,Tn,Rt,Yg,li,kS(Yg),cf,uf),$l=Cb(Gt),Q0=TS(af,Xr,vs),zn=v1(Q0),Aa=Dx($l,Tn,XS,ZS,QS,nf,q0,sf,JS,LS(Jr),I0),Un=xS(ex(Xr),Q0),iT=Rb(zn,Aa,Qe,Un,At),Cn=e1(_b(_0),G0,Jh,t1,hb,fb,db,pb,mb,Rh,g0,Kr,B0),sT=Db(ot,iT,Cn,vt,Aa,Fe,Ie,wa),aT=Hb(ot,Gb,jn,vt,jx(Gt,Jr),Fe,Ie,At),rT=u1(zn,R0,Qe,Un,At),Cs=AS(L0),oT=c1(ot,Cn,rT,Pl,R0,Fe,Ie,Cs),Hi=Mx(Ts,of),lT=HS(vt,Hi),Gi=Hx(Kr,lT),cT=p1(Gi,Qe,At),uT=d1(ot,cT,Gi,Fe,Ie),hT=y1(Qr,Qe,At),fT=g1(ot,hT,Qr,Fe,Ie,FS),dT=Yx($l,Aa,Gt,Hi),Ma=Fx($l,Tn,dT,nf,sf),pT=T1(zn,Ma,Qe,Un,At),mT=S1(ot,Cn,pT,Ma,Fe,Ie,wa),W0=Xx(Rt,Jr),gT=M1(W0,Qe,At),yT=A1(ot,gT,W0,Fe,Ie,Cs),vT=j1(zn,j0,Qe,Un,At),_T=R1(ot,Cn,vT,j0,Fe,Ie,Cs),J0=Zx(Rt),bT=H1(zn,J0,Qe,Un,At),xT=L1(ot,Cn,bT,J0,Rt,Fe,Ie,Cs),ST=J1(zn,Gt,Qe,Un,At),TT=W1(ot,Cn,ST,Gt,Fe,Ie),CT=Kx(Pl,vt,Wr,Rt),ec=CS(Tn,Gt,Wr,RS(Gt,li)),wT=cx(Aa,Qe,li,At,ec),AT=Qx(CT),MT=ox(ot,AT,wT,Fe,Ie,Cs),ET=Fb(Cn,Gi,Ma,Wr,Rt,U0,Ie,Jr),K0=new WeakMap,OT=Ax(aT,ET,F0,Ie,K0,wa),P0=iS($l,Tn,nf,q0,sf,I0),NT=mS(zn,P0,Qe,Un,At),kT=pS(ot,Cn,P0,NT,Fe,Ie,wa),$0=b1(Aa),DT=uS($0,vt,Gt,V0,Hi),tc=cS($0,vt,DT,V0,Hi,Kr,Jr),RT=aS(kl,vt,Gi,Gt,Wr,tc,Rt,Dl,U0,Hi),ey=sS(RT),jT=vS(zn,Gi,Ma,Gt,ey,Qe,li,Un,At,ec),zT=yS(ot,Cn,ey,jT,Fe,Ie,Cs),UT=rS(jn),VT=bS(UT,Fe,new WeakSet,YS),BT=lS(Gi,Qr,Gt,tc,Rt,Hi),ty=oS(BT,Rt),qT=NS(zn,ty,Qe,Un,At),IT=OS(ot,Cn,ty,qT,Fe,Ie),LT=VS(tc,Qe,At),HT=US(ot,vt,tc,LT,Fe,Ie,Cs),ny=bx(Rn),hf=X1(Rn),iy=new WeakMap,GT=ix(iy,li),FT=ny?xb(Tn,Rt,F1(Rn),hf,Z1(gb),Fe,GT,Ie,Dr,new WeakMap,new WeakMap,DS(Dr,li),Rn):void 0,YT=vx(rf,Ie),XT=N1(lf,Tn,O1,G1,new WeakSet,Fe,YT,Ol,kr,cf,uf),sy=o1(FT,nT,Z0,sT,oT,uT,fT,mT,yT,XT,_T,xT,TT,MT,OT,kT,zT,VT,IT,HT),ZT=xx(ot,Px,Fe,Ie),QT=Tx(ot,$x,Fe,Ie),WT=Cx(ot,eS,Fe,Ie),JT=tS(vt,Ie),KT=wx(ot,JT,Fe),PT=Lb(sy,vt,Rt,jS,ZT,QT,WT,KT,Kr),ff=sx(K0),$T=wb(ff),ay=_1(jn),e2=U1(ff),ry=q1(jn),oy=new WeakMap,t2=K1(oy,Sn),n2=Lx(ay,jn,vt,Gi,Qr,Ma,Gt,Wr,Rt,ry,hf,t2,Hi),i2=Vx(vt,n2,Gt,Rt,Hi),s2=r1(zn,ay,Aa,Gi,Qr,Ma,Gt,e2,ry,hf,Qe,Dr,li,Un,At,ec),a2=tx(iy),r2=wS(oy),Xg=ny?i1($T,ot,Cn,s2,i2,Dt,a2,Fe,Ie,Dr,GS,r2,WS,wa):void 0,o2=E1(Rt,li),l2=MS(lf,Tn,af,ff,ec,Ol,cf,uf),c2=fS(sy,Tn,vt,o2,l2),u2=hx(Jl,rf),h2=fx(Wh,of),f2=dx(Jh,Y0),d2=px(Jl,Ie);function mn(o){return o===void 0}function Me(o){return o!==void 0}function p2(o){return typeof o=="function"}function qi(o){return typeof o=="number"}function ms(o){return Object.prototype.toString.call(o)==="[object Object]"&&o.constructor===Object}function m2(o){return typeof o=="boolean"}function tn(o){return Array.isArray(o)}function ai(o){return typeof o=="string"}function Sl(o){return ai(o)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(o)}function ye(o,n){if(!o)throw new Error(n)}function ri(o,n,s=1/0){if(!(n<=o&&o<=s))throw new RangeError(`Value must be within [${n}, ${s}], got: ${o}`)}function ly(o){!o.isOffline&&o.state!=="running"&&nc('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let cy=!1,Zg=!1;function Qg(o){cy=o}function g2(o){mn(o)&&cy&&!Zg&&(Zg=!0,nc("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let uy=console;function y2(...o){uy.log(...o)}function nc(...o){uy.warn(...o)}function v2(o){return new PT(o)}function _2(o,n,s){return new c2(o,n,s)}const gs=typeof self=="object"?self:null,b2=gs&&(gs.hasOwnProperty("AudioContext")||gs.hasOwnProperty("webkitAudioContext"));function x2(o,n,s){return ye(Me(Xg),"This node only works in a secure context (https or localhost)"),new Xg(o,n,s)}function wn(o,n,s,a){var l=arguments.length,c=l<3?n:a===null?a=Object.getOwnPropertyDescriptor(n,s):a,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(o,n,s,a);else for(var d=o.length-1;d>=0;d--)(f=o[d])&&(c=(l<3?f(c):l>3?f(n,s,c):f(n,s))||c);return l>3&&c&&Object.defineProperty(n,s,c),c}function ft(o,n,s,a){function l(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function d(g){try{p(a.next(g))}catch(y){f(y)}}function m(g){try{p(a.throw(g))}catch(y){f(y)}}function p(g){g.done?c(g.value):l(g.value).then(d,m)}p((a=a.apply(o,n||[])).next())})}class S2{constructor(n,s,a,l){this._callback=n,this._type=s,this._minimumUpdateInterval=Math.max(128/(l||44100),.001),this.updateInterval=a,this._createClock()}_createWorker(){const n=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),s=URL.createObjectURL(n),a=new Worker(s);a.onmessage=this._callback.bind(this),this._worker=a}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(n){var s;this._updateInterval=Math.max(n,this._minimumUpdateInterval),this._type==="worker"&&((s=this._worker)===null||s===void 0||s.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(n){this._disposeClock(),this._type=n,this._createClock()}dispose(){this._disposeClock()}}function _s(o){return f2(o)}function Bi(o){return h2(o)}function Al(o){return d2(o)}function ha(o){return u2(o)}function T2(o){return o instanceof Z0}function C2(o,n){return o==="value"||_s(n)||Bi(n)||T2(n)}function ys(o,...n){if(!n.length)return o;const s=n.shift();if(ms(o)&&ms(s))for(const a in s)C2(a,s[a])?o[a]=s[a]:ms(s[a])?(o[a]||Object.assign(o,{[a]:{}}),ys(o[a],s[a])):Object.assign(o,{[a]:s[a]});return ys(o,...n)}function w2(o,n){return o.length===n.length&&o.every((s,a)=>n[a]===s)}function ae(o,n,s=[],a){const l={},c=Array.from(n);if(ms(c[0])&&a&&!Reflect.has(c[0],a)&&(Object.keys(c[0]).some(d=>Reflect.has(o,d))||(ys(l,{[a]:c[0]}),s.splice(s.indexOf(a),1),c.shift())),c.length===1&&ms(c[0]))ys(l,c[0]);else for(let f=0;f<s.length;f++)Me(c[f])&&(l[s[f]]=c[f]);return ys(o,l)}function A2(o){return o.constructor.getDefaults()}function pa(o,n){return mn(o)?n:o}function Lh(o,n){return n.forEach(s=>{Reflect.has(o,s)&&delete o[s]}),o}class ci{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...n){(this.debug||gs&&this.toString()===gs.TONE_DEBUG_CLASS)&&y2(this,...n)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}ci.version=m0;const df=1e-6;function ya(o,n){return o>n+df}function Hh(o,n){return ya(o,n)||bn(o,n)}function Ul(o,n){return o+df<n}function bn(o,n){return Math.abs(o-n)<df}function M2(o,n,s){return Math.max(Math.min(o,s),n)}let Dn=class hy extends ci{constructor(){super(),this.name="Timeline",this._timeline=[];const n=ae(hy.getDefaults(),arguments,["memory"]);this.memory=n.memory,this.increasing=n.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(n){if(ye(Reflect.has(n,"time"),"Timeline: events must have a time attribute"),n.time=n.time.valueOf(),this.increasing&&this.length){const s=this._timeline[this.length-1];ye(Hh(n.time,s.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(n)}else{const s=this._search(n.time);this._timeline.splice(s+1,0,n)}if(this.length>this.memory){const s=this.length-this.memory;this._timeline.splice(0,s)}return this}remove(n){const s=this._timeline.indexOf(n);return s!==-1&&this._timeline.splice(s,1),this}get(n,s="time"){const a=this._search(n,s);return a!==-1?this._timeline[a]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(n,s="time"){const a=this._search(n,s);return a+1<this._timeline.length?this._timeline[a+1]:null}getBefore(n){const s=this._timeline.length;if(s>0&&this._timeline[s-1].time<n)return this._timeline[s-1];const a=this._search(n);return a-1>=0?this._timeline[a-1]:null}cancel(n){if(this._timeline.length>1){let s=this._search(n);if(s>=0)if(bn(this._timeline[s].time,n)){for(let a=s;a>=0&&bn(this._timeline[a].time,n);a--)s=a;this._timeline=this._timeline.slice(0,s)}else this._timeline=this._timeline.slice(0,s+1);else this._timeline=[]}else this._timeline.length===1&&Hh(this._timeline[0].time,n)&&(this._timeline=[]);return this}cancelBefore(n){const s=this._search(n);return s>=0&&(this._timeline=this._timeline.slice(s+1)),this}previousEvent(n){const s=this._timeline.indexOf(n);return s>0?this._timeline[s-1]:null}_search(n,s="time"){if(this._timeline.length===0)return-1;let a=0;const l=this._timeline.length;let c=l;if(l>0&&this._timeline[l-1][s]<=n)return l-1;for(;a<c;){let f=Math.floor(a+(c-a)/2);const d=this._timeline[f],m=this._timeline[f+1];if(bn(d[s],n)){for(let p=f;p<this._timeline.length;p++){const g=this._timeline[p];if(bn(g[s],n))f=p;else break}return f}else{if(Ul(d[s],n)&&ya(m[s],n))return f;ya(d[s],n)?c=f:a=f+1}}return-1}_iterate(n,s=0,a=this._timeline.length-1){this._timeline.slice(s,a+1).forEach(n)}forEach(n){return this._iterate(n),this}forEachBefore(n,s){const a=this._search(n);return a!==-1&&this._iterate(s,0,a),this}forEachAfter(n,s){const a=this._search(n);return this._iterate(s,a+1),this}forEachBetween(n,s,a){let l=this._search(n),c=this._search(s);return l!==-1&&c!==-1?(this._timeline[l].time!==n&&(l+=1),this._timeline[c].time===s&&(c-=1),this._iterate(a,l,c)):l===-1&&this._iterate(a,0,c),this}forEachFrom(n,s){let a=this._search(n);for(;a>=0&&this._timeline[a].time>=n;)a--;return this._iterate(s,a+1),this}forEachAtTime(n,s){const a=this._search(n);if(a!==-1&&bn(this._timeline[a].time,n)){let l=a;for(let c=a;c>=0&&bn(this._timeline[c].time,n);c--)l=c;this._iterate(c=>{s(c)},l,a)}return this}dispose(){return super.dispose(),this._timeline=[],this}};const fy=[];function ic(o){fy.push(o)}function E2(o){fy.forEach(n=>n(o))}const dy=[];function sc(o){dy.push(o)}function O2(o){dy.forEach(n=>n(o))}class Pr extends ci{constructor(){super(...arguments),this.name="Emitter"}on(n,s){return n.split(/\W+/).forEach(l=>{mn(this._events)&&(this._events={}),this._events.hasOwnProperty(l)||(this._events[l]=[]),this._events[l].push(s)}),this}once(n,s){const a=(...l)=>{s(...l),this.off(n,a)};return this.on(n,a),this}off(n,s){return n.split(/\W+/).forEach(l=>{if(mn(this._events)&&(this._events={}),this._events.hasOwnProperty(l))if(mn(s))this._events[l]=[];else{const c=this._events[l];for(let f=c.length-1;f>=0;f--)c[f]===s&&c.splice(f,1)}}),this}emit(n,...s){if(this._events&&this._events.hasOwnProperty(n)){const a=this._events[n].slice(0);for(let l=0,c=a.length;l<c;l++)a[l].apply(this,s)}return this}static mixin(n){["on","once","off","emit"].forEach(s=>{const a=Object.getOwnPropertyDescriptor(Pr.prototype,s);Object.defineProperty(n.prototype,s,a)})}dispose(){return super.dispose(),this._events=void 0,this}}class py extends Pr{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class $r extends py{constructor(){var n,s;super(),this.name="Context",this._constants=new Map,this._timeouts=new Dn,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const a=ae($r.getDefaults(),arguments,["context"]);a.context?(this._context=a.context,this._latencyHint=((n=arguments[0])===null||n===void 0?void 0:n.latencyHint)||""):(this._context=v2({latencyHint:a.latencyHint}),this._latencyHint=a.latencyHint),this._ticker=new S2(this.emit.bind(this,"tick"),a.clockSource,a.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((s=arguments[0])===null||s===void 0)&&s.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=a.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(E2(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(n,s,a){return this._context.createBuffer(n,s,a)}createChannelMerger(n){return this._context.createChannelMerger(n)}createChannelSplitter(n){return this._context.createChannelSplitter(n)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(n){return this._context.createDelay(n)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(n,s){return this._context.createIIRFilter(n,s)}createPanner(){return this._context.createPanner()}createPeriodicWave(n,s,a){return this._context.createPeriodicWave(n,s,a)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(n){return ye(ha(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(n)}createMediaElementSource(n){return ye(ha(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(n)}createMediaStreamDestination(){return ye(ha(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(n){return this._context.decodeAudioData(n)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(n){ye(!this._initialized,"The listener cannot be set after initialization."),this._listener=n}get transport(){return this.initialize(),this._transport}set transport(n){ye(!this._initialized,"The transport cannot be set after initialization."),this._transport=n}get draw(){return this.initialize(),this._draw}set draw(n){ye(!this._initialized,"Draw cannot be set after initialization."),this._draw=n}get destination(){return this.initialize(),this._destination}set destination(n){ye(!this._initialized,"The destination cannot be set after initialization."),this._destination=n}createAudioWorkletNode(n,s){return x2(this.rawContext,n,s)}addAudioWorkletModule(n){return ft(this,void 0,void 0,function*(){ye(Me(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(n)),yield this._workletPromise})}workletsAreReady(){return ft(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(n){this._ticker.updateInterval=n}get clockSource(){return this._ticker.type}set clockSource(n){this._ticker.type=n}get lookAhead(){return this._lookAhead}set lookAhead(n){this._lookAhead=n,this.updateInterval=n?n/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return ha(this._context)?this._context.resume():Promise.resolve()}close(){return ft(this,void 0,void 0,function*(){ha(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&O2(this)})}getConstant(n){if(this._constants.has(n))return this._constants.get(n);{const s=this._context.createBuffer(1,128,this._context.sampleRate),a=s.getChannelData(0);for(let c=0;c<a.length;c++)a[c]=n;const l=this._context.createBufferSource();return l.channelCount=1,l.channelCountMode="explicit",l.buffer=s,l.loop=!0,l.start(0),this._constants.set(n,l),l}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(n=>this._constants[n].disconnect()),this.close(),this}_timeoutLoop(){const n=this.now();let s=this._timeouts.peek();for(;this._timeouts.length&&s&&s.time<=n;)s.callback(),this._timeouts.shift(),s=this._timeouts.peek()}setTimeout(n,s){this._timeoutIds++;const a=this.now();return this._timeouts.add({callback:n,id:this._timeoutIds,time:a+s}),this._timeoutIds}clearTimeout(n){return this._timeouts.forEach(s=>{s.id===n&&this._timeouts.remove(s)}),this}clearInterval(n){return this.clearTimeout(n)}setInterval(n,s){const a=++this._timeoutIds,l=()=>{const c=this.now();this._timeouts.add({callback:()=>{n(),l()},id:a,time:c+s})};return l(),a}}class N2 extends py{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(n,s,a){return{}}createChannelMerger(n){return{}}createChannelSplitter(n){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(n){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(n,s){return{}}createPanner(){return{}}createPeriodicWave(n,s,a){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(n){return{}}createMediaElementSource(n){return{}}createMediaStreamDestination(){return{}}decodeAudioData(n){return Promise.resolve({})}createAudioWorkletNode(n,s){return{}}get rawContext(){return{}}addAudioWorkletModule(n){return ft(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(n,s){return 0}clearTimeout(n){return this}setInterval(n,s){return 0}clearInterval(n){return this}getConstant(n){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(n){}get destination(){return{}}set destination(n){}now(){return 0}immediate(){return 0}}function tt(o,n){tn(n)?n.forEach(s=>tt(o,s)):Object.defineProperty(o,n,{enumerable:!0,writable:!1})}function my(o,n){tn(n)?n.forEach(s=>my(o,s)):Object.defineProperty(o,n,{writable:!0})}const qe=()=>{};class Ze extends ci{constructor(){super(),this.name="ToneAudioBuffer",this.onload=qe;const n=ae(Ze.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=n.reverse,this.onload=n.onload,ai(n.url)?this.load(n.url).catch(n.onerror):n.url&&this.set(n.url)}static getDefaults(){return{onerror:qe,onload:qe,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:pn().sampleRate}set(n){return n instanceof Ze?n.loaded?this._buffer=n.get():n.onload=()=>{this.set(n),this.onload(this)}:this._buffer=n,this._reversed&&this._reverse(),this}get(){return this._buffer}load(n){return ft(this,void 0,void 0,function*(){const s=Ze.load(n).then(a=>{this.set(a),this.onload(this)});Ze.downloads.push(s);try{yield s}finally{const a=Ze.downloads.indexOf(s);Ze.downloads.splice(a,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(n){const s=tn(n)&&n[0].length>0,a=s?n.length:1,l=s?n[0].length:n.length,c=pn(),f=c.createBuffer(a,l,c.sampleRate),d=!s&&a===1?[n]:n;for(let m=0;m<a;m++)f.copyToChannel(d[m],m);return this._buffer=f,this}toMono(n){if(qi(n))this.fromArray(this.toArray(n));else{let s=new Float32Array(this.length);const a=this.numberOfChannels;for(let l=0;l<a;l++){const c=this.toArray(l);for(let f=0;f<c.length;f++)s[f]+=c[f]}s=s.map(l=>l/a),this.fromArray(s)}return this}toArray(n){if(qi(n))return this.getChannelData(n);if(this.numberOfChannels===1)return this.toArray(0);{const s=[];for(let a=0;a<this.numberOfChannels;a++)s[a]=this.getChannelData(a);return s}}getChannelData(n){return this._buffer?this._buffer.getChannelData(n):new Float32Array(0)}slice(n,s=this.duration){ye(this.loaded,"Buffer is not loaded");const a=Math.floor(n*this.sampleRate),l=Math.floor(s*this.sampleRate);ye(a<l,"The start time must be less than the end time");const c=l-a,f=pn().createBuffer(this.numberOfChannels,c,this.sampleRate);for(let d=0;d<this.numberOfChannels;d++)f.copyToChannel(this.getChannelData(d).subarray(a,l),d);return new Ze(f)}_reverse(){if(this.loaded)for(let n=0;n<this.numberOfChannels;n++)this.getChannelData(n).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(n){this._reversed!==n&&(this._reversed=n,this._reverse())}static fromArray(n){return new Ze().fromArray(n)}static fromUrl(n){return ft(this,void 0,void 0,function*(){return yield new Ze().load(n)})}static load(n){return ft(this,void 0,void 0,function*(){const s=n.match(/\[([^\]\[]+\|.+)\]$/);if(s){const m=s[1].split("|");let p=m[0];for(const g of m)if(Ze.supportsType(g)){p=g;break}n=n.replace(s[0],p)}const a=Ze.baseUrl===""||Ze.baseUrl.endsWith("/")?Ze.baseUrl:Ze.baseUrl+"/",l=document.createElement("a");l.href=a+n,l.pathname=(l.pathname+l.hash).split("/").map(encodeURIComponent).join("/");const c=yield fetch(l.href);if(!c.ok)throw new Error(`could not load url: ${n}`);const f=yield c.arrayBuffer();return yield pn().decodeAudioData(f)})}static supportsType(n){const s=n.split("."),a=s[s.length-1];return document.createElement("audio").canPlayType("audio/"+a)!==""}static loaded(){return ft(this,void 0,void 0,function*(){for(yield Promise.resolve();Ze.downloads.length;)yield Ze.downloads[0]})}}Ze.baseUrl="";Ze.downloads=[];class pf extends $r{constructor(){super({clockSource:"offline",context:Al(arguments[0])?arguments[0]:_2(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:Al(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Al(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(n){return ft(this,void 0,void 0,function*(){let s=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,s++;const a=Math.floor(this.sampleRate/128);n&&s%a===0&&(yield new Promise(l=>setTimeout(l,1)))}})}render(n=!0){return ft(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(n);const s=yield this._context.startRendering();return new Ze(s)})}close(){return Promise.resolve()}}const gy=new N2;let ds=gy;function pn(){return ds===gy&&b2&&k2(new $r),ds}function k2(o,n=!1){n&&ds.dispose(),ha(o)?ds=new $r(o):Al(o)?ds=new pf(o):ds=o}function D2(){return ds.resume()}if(gs&&!gs.TONE_SILENCE_LOGGING){const n=` * Tone.js v${m0} * `;console.log(`%c${n}`,"background: #000; color: #fff")}function R2(o){return Math.pow(10,o/20)}function j2(o){return 20*(Math.log(o)/Math.LN10)}function yy(o){return Math.pow(2,o/12)}let ac=440;function z2(){return ac}function U2(o){ac=o}function ps(o){return Math.round(vy(o))}function vy(o){return 69+12*Math.log2(o/ac)}function _y(o){return ac*Math.pow(2,(o-69)/12)}class mf extends ci{constructor(n,s,a){super(),this.defaultUnits="s",this._val=s,this._units=a,this.context=n,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:n=>this._frequencyToUnits(parseFloat(n)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:n=>this._ticksToUnits(parseInt(n,10)),regexp:/^(\d+)i$/i},m:{method:n=>this._beatsToUnits(parseInt(n,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(n,s)=>{const a=parseInt(n,10),l=s==="."?1.5:1;return a===1?this._beatsToUnits(this._getTimeSignature())*l:this._beatsToUnits(4/a)*l},regexp:/^(\d+)n(\.?)$/i},number:{method:n=>this._expressions[this.defaultUnits].method.call(this,n),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:n=>this._secondsToUnits(parseFloat(n)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:n=>parseInt(n,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:n=>{const s=parseInt(n,10);return this._beatsToUnits(8/(Math.floor(s)*3))},regexp:/^(\d+)t$/i},tr:{method:(n,s,a)=>{let l=0;return n&&n!=="0"&&(l+=this._beatsToUnits(this._getTimeSignature()*parseFloat(n))),s&&s!=="0"&&(l+=this._beatsToUnits(parseFloat(s))),a&&a!=="0"&&(l+=this._beatsToUnits(parseFloat(a)/4)),l},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof mf&&this.fromType(this._val),mn(this._val))return this._noArg();if(ai(this._val)&&mn(this._units)){for(const n in this._expressions)if(this._expressions[n].regexp.test(this._val.trim())){this._units=n;break}}else if(ms(this._val)){let n=0;for(const s in this._val)if(Me(this._val[s])){const a=this._val[s],l=new this.constructor(this.context,s).valueOf()*a;n+=l}return n}if(Me(this._units)){const n=this._expressions[this._units],s=this._val.toString().trim().match(n.regexp);return s?n.method.apply(this,s.slice(1)):n.method.call(this,this._val)}else return ai(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(n){return 1/n}_beatsToUnits(n){return 60/this._getBpm()*n}_secondsToUnits(n){return n}_ticksToUnits(n){return n*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(n){switch(this._units=void 0,this.defaultUnits){case"s":this._val=n.toSeconds();break;case"i":this._val=n.toTicks();break;case"hz":this._val=n.toFrequency();break;case"midi":this._val=n.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class xn extends mf{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:n=>this._now()+new this.constructor(this.context,n).valueOf(),regexp:/^\+(.+)/},quantize:{method:n=>{const s=new xn(this.context,n).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(s))},regexp:/^@(.+)/}})}quantize(n,s=1){const a=new this.constructor(this.context,n).valueOf(),l=this.valueOf(),d=Math.round(l/a)*a-l;return l+d*s}toNotation(){const n=this.toSeconds(),s=["1m"];for(let c=1;c<9;c++){const f=Math.pow(2,c);s.push(f+"n."),s.push(f+"n"),s.push(f+"t")}s.push("0");let a=s[0],l=new xn(this.context,s[0]).toSeconds();return s.forEach(c=>{const f=new xn(this.context,c).toSeconds();Math.abs(f-n)<Math.abs(l-n)&&(a=c,l=f)}),a}toBarsBeatsSixteenths(){const n=this._beatsToUnits(1);let s=this.valueOf()/n;s=parseFloat(s.toFixed(4));const a=Math.floor(s/this._getTimeSignature());let l=s%1*4;s=Math.floor(s)%this._getTimeSignature();const c=l.toString();return c.length>3&&(l=parseFloat(parseFloat(c).toFixed(3))),[a,s,l].join(":")}toTicks(){const n=this._beatsToUnits(1);return this.valueOf()/n*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return ps(this.toFrequency())}_now(){return this.context.now()}}class en extends xn{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return z2()}static set A4(n){U2(n)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(n){return this.defaultUnits==="midi"?n:en.mtof(n)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(n,s){const l=V2[n.toLowerCase()]+(parseInt(s,10)+1)*12;return this.defaultUnits==="midi"?l:en.mtof(l)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(n,s,a){let l=1;return n&&n!=="0"&&(l*=this._beatsToUnits(this._getTimeSignature()*parseFloat(n))),s&&s!=="0"&&(l*=this._beatsToUnits(parseFloat(s))),a&&a!=="0"&&(l*=this._beatsToUnits(parseFloat(a)/4)),l}}})}transpose(n){return new en(this.context,this.valueOf()*yy(n))}harmonize(n){return n.map(s=>this.transpose(s))}toMidi(){return ps(this.valueOf())}toNote(){const n=this.toFrequency(),s=Math.log2(n/en.A4);let a=Math.round(12*s)+57;const l=Math.floor(a/12);return l<0&&(a+=-12*l),B2[a%12]+l.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const n=this._beatsToUnits(1),s=this.valueOf()/n;return Math.floor(s*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(n){return n}_ticksToUnits(n){return 1/(n*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(n){return 1/super._beatsToUnits(n)}_secondsToUnits(n){return 1/n}static mtof(n){return _y(n)}static ftom(n){return ps(n)}}const V2={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},B2=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Or extends xn{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Ht extends ci{constructor(){super();const n=ae(Ht.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=n.context}static getDefaults(){return{context:pn()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(n){return g2(n),new xn(this.context,n).toSeconds()}toFrequency(n){return new en(this.context,n).toFrequency()}toTicks(n){return new Or(this.context,n).toTicks()}_getPartialProperties(n){const s=this.get();return Object.keys(s).forEach(a=>{mn(n[a])&&delete s[a]}),s}get(){const n=A2(this);return Object.keys(n).forEach(s=>{if(Reflect.has(this,s)){const a=this[s];Me(a)&&Me(a.value)&&Me(a.setValueAtTime)?n[s]=a.value:a instanceof Ht?n[s]=a._getPartialProperties(n[s]):tn(a)||qi(a)||ai(a)||m2(a)?n[s]=a:delete n[s]}}),n}set(n){return Object.keys(n).forEach(s=>{Reflect.has(this,s)&&Me(this[s])&&(this[s]&&Me(this[s].value)&&Me(this[s].setValueAtTime)?this[s].value!==n[s]&&(this[s].value=n[s]):this[s]instanceof Ht?this[s].set(n[s]):this[s]=n[s])}),this}}class gf extends Dn{constructor(n="stopped"){super(),this.name="StateTimeline",this._initial=n,this.setStateAtTime(this._initial,0)}getValueAtTime(n){const s=this.get(n);return s!==null?s.state:this._initial}setStateAtTime(n,s,a){return ri(s,0),this.add(Object.assign({},a,{state:n,time:s})),this}getLastState(n,s){const a=this._search(s);for(let l=a;l>=0;l--){const c=this._timeline[l];if(c.state===n)return c}}getNextState(n,s){const a=this._search(s);if(a!==-1)for(let l=a;l<this._timeline.length;l++){const c=this._timeline[l];if(c.state===n)return c}}}class Je extends Ht{constructor(){super(ae(Je.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const n=ae(Je.getDefaults(),arguments,["param","units","convert"]);for(ye(Me(n.param)&&(_s(n.param)||n.param instanceof Je),"param must be an AudioParam");!_s(n.param);)n.param=n.param._param;this._swappable=Me(n.swappable)?n.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=n.param,this.input.connect(this._param)):this._param=this.input=n.param,this._events=new Dn(1e3),this._initialValue=this._param.defaultValue,this.units=n.units,this.convert=n.convert,this._minValue=n.minValue,this._maxValue=n.maxValue,Me(n.value)&&n.value!==this._toType(this._initialValue)&&this.setValueAtTime(n.value,0)}static getDefaults(){return Object.assign(Ht.getDefaults(),{convert:!0,units:"number"})}get value(){const n=this.now();return this.getValueAtTime(n)}set value(n){this.cancelScheduledValues(this.now()),this.setValueAtTime(n,this.now())}get minValue(){return Me(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return Me(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(n,s){return this.units===s}_assertRange(n){return Me(this.maxValue)&&Me(this.minValue)&&ri(n,this._fromType(this.minValue),this._fromType(this.maxValue)),n}_fromType(n){return this.convert&&!this.overridden?this._is(n,"time")?this.toSeconds(n):this._is(n,"decibels")?R2(n):this._is(n,"frequency")?this.toFrequency(n):n:this.overridden?0:n}_toType(n){return this.convert&&this.units==="decibels"?j2(n):n}setValueAtTime(n,s){const a=this.toSeconds(s),l=this._fromType(n);return ye(isFinite(l)&&isFinite(a),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(n)}, ${JSON.stringify(s)}`),this._assertRange(l),this.log(this.units,"setValueAtTime",n,a),this._events.add({time:a,type:"setValueAtTime",value:l}),this._param.setValueAtTime(l,a),this}getValueAtTime(n){const s=Math.max(this.toSeconds(n),0),a=this._events.getAfter(s),l=this._events.get(s);let c=this._initialValue;if(l===null)c=this._initialValue;else if(l.type==="setTargetAtTime"&&(a===null||a.type==="setValueAtTime")){const f=this._events.getBefore(l.time);let d;f===null?d=this._initialValue:d=f.value,l.type==="setTargetAtTime"&&(c=this._exponentialApproach(l.time,d,l.value,l.constant,s))}else if(a===null)c=l.value;else if(a.type==="linearRampToValueAtTime"||a.type==="exponentialRampToValueAtTime"){let f=l.value;if(l.type==="setTargetAtTime"){const d=this._events.getBefore(l.time);d===null?f=this._initialValue:f=d.value}a.type==="linearRampToValueAtTime"?c=this._linearInterpolate(l.time,f,a.time,a.value,s):c=this._exponentialInterpolate(l.time,f,a.time,a.value,s)}else c=l.value;return this._toType(c)}setRampPoint(n){n=this.toSeconds(n);let s=this.getValueAtTime(n);return this.cancelAndHoldAtTime(n),this._fromType(s)===0&&(s=this._toType(this._minOutput)),this.setValueAtTime(s,n),this}linearRampToValueAtTime(n,s){const a=this._fromType(n),l=this.toSeconds(s);return ye(isFinite(a)&&isFinite(l),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(n)}, ${JSON.stringify(s)}`),this._assertRange(a),this._events.add({time:l,type:"linearRampToValueAtTime",value:a}),this.log(this.units,"linearRampToValueAtTime",n,l),this._param.linearRampToValueAtTime(a,l),this}exponentialRampToValueAtTime(n,s){let a=this._fromType(n);a=bn(a,0)?this._minOutput:a,this._assertRange(a);const l=this.toSeconds(s);return ye(isFinite(a)&&isFinite(l),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(n)}, ${JSON.stringify(s)}`),this._events.add({time:l,type:"exponentialRampToValueAtTime",value:a}),this.log(this.units,"exponentialRampToValueAtTime",n,l),this._param.exponentialRampToValueAtTime(a,l),this}exponentialRampTo(n,s,a){return a=this.toSeconds(a),this.setRampPoint(a),this.exponentialRampToValueAtTime(n,a+this.toSeconds(s)),this}linearRampTo(n,s,a){return a=this.toSeconds(a),this.setRampPoint(a),this.linearRampToValueAtTime(n,a+this.toSeconds(s)),this}targetRampTo(n,s,a){return a=this.toSeconds(a),this.setRampPoint(a),this.exponentialApproachValueAtTime(n,a,s),this}exponentialApproachValueAtTime(n,s,a){s=this.toSeconds(s),a=this.toSeconds(a);const l=Math.log(a+1)/Math.log(200);return this.setTargetAtTime(n,s,l),this.cancelAndHoldAtTime(s+a*.9),this.linearRampToValueAtTime(n,s+a),this}setTargetAtTime(n,s,a){const l=this._fromType(n);ye(isFinite(a)&&a>0,"timeConstant must be a number greater than 0");const c=this.toSeconds(s);return this._assertRange(l),ye(isFinite(l)&&isFinite(c),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(n)}, ${JSON.stringify(s)}`),this._events.add({constant:a,time:c,type:"setTargetAtTime",value:l}),this.log(this.units,"setTargetAtTime",n,c,a),this._param.setTargetAtTime(l,c,a),this}setValueCurveAtTime(n,s,a,l=1){a=this.toSeconds(a),s=this.toSeconds(s);const c=this._fromType(n[0])*l;this.setValueAtTime(this._toType(c),s);const f=a/(n.length-1);for(let d=1;d<n.length;d++){const m=this._fromType(n[d])*l;this.linearRampToValueAtTime(this._toType(m),s+d*f)}return this}cancelScheduledValues(n){const s=this.toSeconds(n);return ye(isFinite(s),`Invalid argument to cancelScheduledValues: ${JSON.stringify(n)}`),this._events.cancel(s),this._param.cancelScheduledValues(s),this.log(this.units,"cancelScheduledValues",s),this}cancelAndHoldAtTime(n){const s=this.toSeconds(n),a=this._fromType(this.getValueAtTime(s));ye(isFinite(s),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(n)}`),this.log(this.units,"cancelAndHoldAtTime",s,"value="+a);const l=this._events.get(s),c=this._events.getAfter(s);return l&&bn(l.time,s)?c?(this._param.cancelScheduledValues(c.time),this._events.cancel(c.time)):(this._param.cancelAndHoldAtTime(s),this._events.cancel(s+this.sampleTime)):c&&(this._param.cancelScheduledValues(c.time),this._events.cancel(c.time),c.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(a),s):c.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(a),s)),this._events.add({time:s,type:"setValueAtTime",value:a}),this._param.setValueAtTime(a,s),this}rampTo(n,s=.1,a){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(n,s,a):this.linearRampTo(n,s,a),this}apply(n){const s=this.context.currentTime;n.setValueAtTime(this.getValueAtTime(s),s);const a=this._events.get(s);if(a&&a.type==="setTargetAtTime"){const l=this._events.getAfter(a.time),c=l?l.time:s+2,f=(c-s)/10;for(let d=s;d<c;d+=f)n.linearRampToValueAtTime(this.getValueAtTime(d),d)}return this._events.forEachAfter(this.context.currentTime,l=>{l.type==="cancelScheduledValues"?n.cancelScheduledValues(l.time):l.type==="setTargetAtTime"?n.setTargetAtTime(l.value,l.time,l.constant):n[l.type](l.value,l.time)}),this}setParam(n){ye(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const s=this.input;return s.disconnect(this._param),this.apply(n),this._param=n,s.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(n,s,a,l,c){return a+(s-a)*Math.exp(-(c-n)/l)}_linearInterpolate(n,s,a,l,c){return s+(l-s)*((c-n)/(a-n))}_exponentialInterpolate(n,s,a,l,c){return s*Math.pow(l/s,(c-n)/(a-n))}}class Se extends Ht{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return Me(this.input)?_s(this.input)||this.input instanceof Je?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Me(this.output)?this.output.numberOfOutputs:0}_isAudioNode(n){return Me(n)&&(n instanceof Se||Bi(n))}_getInternalNodes(){const n=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&n.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&n.push(this.output),n}_setChannelProperties(n){this._getInternalNodes().forEach(a=>{a.channelCount=n.channelCount,a.channelCountMode=n.channelCountMode,a.channelInterpretation=n.channelInterpretation})}_getChannelProperties(){const n=this._getInternalNodes();ye(n.length>0,"ToneAudioNode does not have any internal nodes");const s=n[0];return{channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(n){const s=this._getChannelProperties();this._setChannelProperties(Object.assign(s,{channelCount:n}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(n){const s=this._getChannelProperties();this._setChannelProperties(Object.assign(s,{channelCountMode:n}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(n){const s=this._getChannelProperties();this._setChannelProperties(Object.assign(s,{channelInterpretation:n}))}connect(n,s=0,a=0){return Ea(this,n,s,a),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return nc("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(n,s=0,a=0){return q2(this,n,s,a),this}chain(...n){return Gh(this,...n),this}fan(...n){return n.forEach(s=>this.connect(s)),this}dispose(){return super.dispose(),Me(this.input)&&(this.input instanceof Se?this.input.dispose():Bi(this.input)&&this.input.disconnect()),Me(this.output)&&(this.output instanceof Se?this.output.dispose():Bi(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Gh(...o){const n=o.shift();o.reduce((s,a)=>(s instanceof Se?s.connect(a):Bi(s)&&Ea(s,a),a),n)}function Ea(o,n,s=0,a=0){for(ye(Me(o),"Cannot connect from undefined node"),ye(Me(n),"Cannot connect to undefined node"),(n instanceof Se||Bi(n))&&ye(n.numberOfInputs>0,"Cannot connect to node with no inputs"),ye(o.numberOfOutputs>0,"Cannot connect from node with no outputs");n instanceof Se||n instanceof Je;)Me(n.input)&&(n=n.input);for(;o instanceof Se;)Me(o.output)&&(o=o.output);_s(n)?o.connect(n,s):o.connect(n,s,a)}function q2(o,n,s=0,a=0){if(Me(n))for(;n instanceof Se;)n=n.input;for(;!Bi(o);)Me(o.output)&&(o=o.output);_s(n)?o.disconnect(n,s):Bi(n)?o.disconnect(n,s,a):o.disconnect()}class _t extends Se{constructor(){super(ae(_t.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const n=ae(_t.getDefaults(),arguments,["gain","units"]);this.gain=new Je({context:this.context,convert:n.convert,param:this._gainNode.gain,units:n.units,value:n.gain,minValue:n.minValue,maxValue:n.maxValue}),tt(this,"gain")}static getDefaults(){return Object.assign(Se.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class va extends Se{constructor(n){super(n),this.onended=qe,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new _t({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(s){const a=this.toSeconds(s);return this._startTime!==-1&&a>=this._startTime&&(this._stopTime===-1||a<=this._stopTime)?"started":"stopped"},this._fadeIn=n.fadeIn,this._fadeOut=n.fadeOut,this._curve=n.curve,this.onended=n.onended}static getDefaults(){return Object.assign(Se.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:qe})}_startGain(n,s=1){ye(this._startTime===-1,"Source cannot be started more than once");const a=this.toSeconds(this._fadeIn);return this._startTime=n+a,this._startTime=Math.max(this._startTime,this.context.currentTime),a>0?(this._gainNode.gain.setValueAtTime(0,n),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(s,n+a):this._gainNode.gain.exponentialApproachValueAtTime(s,n,a)):this._gainNode.gain.setValueAtTime(s,n),this}stop(n){return this.log("stop",n),this._stopGain(this.toSeconds(n)),this}_stopGain(n){ye(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const s=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(n)+s,this._stopTime=Math.max(this._stopTime,this.now()),s>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,s,n):this._gainNode.gain.targetRampTo(0,s,n):(this._gainNode.gain.cancelAndHoldAtTime(n),this._gainNode.gain.setValueAtTime(0,n)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const a=this._curve==="exponential"?s*2:0;this._stopSource(this.now()+a),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==qe&&(this.onended(this),this.onended=qe,!this.context.isOffline)){const n=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(n):setTimeout(n,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),ye(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=qe,this}}class Vl extends va{constructor(){super(ae(Vl.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const n=ae(Vl.getDefaults(),arguments,["offset"]);Ea(this._source,this._gainNode),this.offset=new Je({context:this.context,convert:n.convert,param:this._source.offset,units:n.units,value:n.offset,minValue:n.minValue,maxValue:n.maxValue})}static getDefaults(){return Object.assign(va.getDefaults(),{convert:!0,offset:1,units:"number"})}start(n){const s=this.toSeconds(n);return this.log("start",s),this._startGain(s),this._source.start(s),this}_stopSource(n){this._source.stop(n)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class mt extends Se{constructor(){super(ae(mt.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const n=ae(mt.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new Vl({context:this.context,convert:n.convert,offset:n.value,units:n.units,minValue:n.minValue,maxValue:n.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Se.getDefaults(),{convert:!0,units:"number",value:0})}connect(n,s=0,a=0){return yf(this,n,s,a),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(n,s){return this._param.setValueAtTime(n,s),this}getValueAtTime(n){return this._param.getValueAtTime(n)}setRampPoint(n){return this._param.setRampPoint(n),this}linearRampToValueAtTime(n,s){return this._param.linearRampToValueAtTime(n,s),this}exponentialRampToValueAtTime(n,s){return this._param.exponentialRampToValueAtTime(n,s),this}exponentialRampTo(n,s,a){return this._param.exponentialRampTo(n,s,a),this}linearRampTo(n,s,a){return this._param.linearRampTo(n,s,a),this}targetRampTo(n,s,a){return this._param.targetRampTo(n,s,a),this}exponentialApproachValueAtTime(n,s,a){return this._param.exponentialApproachValueAtTime(n,s,a),this}setTargetAtTime(n,s,a){return this._param.setTargetAtTime(n,s,a),this}setValueCurveAtTime(n,s,a,l){return this._param.setValueCurveAtTime(n,s,a,l),this}cancelScheduledValues(n){return this._param.cancelScheduledValues(n),this}cancelAndHoldAtTime(n){return this._param.cancelAndHoldAtTime(n),this}rampTo(n,s,a){return this._param.rampTo(n,s,a),this}get value(){return this._param.value}set value(n){this._param.value=n}get convert(){return this._param.convert}set convert(n){this._param.convert=n}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(n){this._param.overridden=n}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(n){return this._param.apply(n),this}}function yf(o,n,s,a){(n instanceof Je||_s(n)||n instanceof mt&&n.override)&&(n.cancelScheduledValues(0),n.setValueAtTime(0,0),n instanceof mt&&(n.overridden=!0)),Ea(o,n,s,a)}class Bl extends Je{constructor(){super(ae(Bl.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new Dn(1/0),this._multiplier=1;const n=ae(Bl.getDefaults(),arguments,["value"]);this._multiplier=n.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(n.value)}),this.setValueAtTime(n.value,0)}static getDefaults(){return Object.assign(Je.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(n,s,a){s=this.toSeconds(s),this.setRampPoint(s);const l=this._fromType(n),c=this._events.get(s),f=Math.round(Math.max(1/a,1));for(let d=0;d<=f;d++){const m=a*d+s,p=this._exponentialApproach(c.time,c.value,l,a,m);this.linearRampToValueAtTime(this._toType(p),m)}return this}setValueAtTime(n,s){const a=this.toSeconds(s);super.setValueAtTime(n,s);const l=this._events.get(a),c=this._events.previousEvent(l),f=this._getTicksUntilEvent(c,a);return l.ticks=Math.max(f,0),this}linearRampToValueAtTime(n,s){const a=this.toSeconds(s);super.linearRampToValueAtTime(n,s);const l=this._events.get(a),c=this._events.previousEvent(l),f=this._getTicksUntilEvent(c,a);return l.ticks=Math.max(f,0),this}exponentialRampToValueAtTime(n,s){s=this.toSeconds(s);const a=this._fromType(n),l=this._events.get(s),c=Math.round(Math.max((s-l.time)*10,1)),f=(s-l.time)/c;for(let d=0;d<=c;d++){const m=f*d+l.time,p=this._exponentialInterpolate(l.time,l.value,s,a,m);this.linearRampToValueAtTime(this._toType(p),m)}return this}_getTicksUntilEvent(n,s){if(n===null)n={ticks:0,time:0,type:"setValueAtTime",value:0};else if(mn(n.ticks)){const f=this._events.previousEvent(n);n.ticks=this._getTicksUntilEvent(f,n.time)}const a=this._fromType(this.getValueAtTime(n.time));let l=this._fromType(this.getValueAtTime(s));const c=this._events.get(s);return c&&c.time===s&&c.type==="setValueAtTime"&&(l=this._fromType(this.getValueAtTime(s-this.sampleTime))),.5*(s-n.time)*(a+l)+n.ticks}getTicksAtTime(n){const s=this.toSeconds(n),a=this._events.get(s);return Math.max(this._getTicksUntilEvent(a,s),0)}getDurationOfTicks(n,s){const a=this.toSeconds(s),l=this.getTicksAtTime(s);return this.getTimeOfTick(l+n)-a}getTimeOfTick(n){const s=this._events.get(n,"ticks"),a=this._events.getAfter(n,"ticks");if(s&&s.ticks===n)return s.time;if(s&&a&&a.type==="linearRampToValueAtTime"&&s.value!==a.value){const l=this._fromType(this.getValueAtTime(s.time)),f=(this._fromType(this.getValueAtTime(a.time))-l)/(a.time-s.time),d=Math.sqrt(Math.pow(l,2)-2*f*(s.ticks-n)),m=(-l+d)/f,p=(-l-d)/f;return(m>0?m:p)+s.time}else return s?s.value===0?1/0:s.time+(n-s.ticks)/s.value:n/this._initialValue}ticksToTime(n,s){return this.getDurationOfTicks(n,s)}timeToTicks(n,s){const a=this.toSeconds(s),l=this.toSeconds(n),c=this.getTicksAtTime(a);return this.getTicksAtTime(a+l)-c}_fromType(n){return this.units==="bpm"&&this.multiplier?1/(60/n/this.multiplier):super._fromType(n)}_toType(n){return this.units==="bpm"&&this.multiplier?n/this.multiplier*60:super._toType(n)}get multiplier(){return this._multiplier}set multiplier(n){const s=this.value;this._multiplier=n,this.cancelScheduledValues(0),this.setValueAtTime(s,0)}}class ql extends mt{constructor(){super(ae(ql.getDefaults(),arguments,["value"])),this.name="TickSignal";const n=ae(ql.getDefaults(),arguments,["value"]);this.input=this._param=new Bl({context:this.context,convert:n.convert,multiplier:n.multiplier,param:this._constantSource.offset,units:n.units,value:n.value})}static getDefaults(){return Object.assign(mt.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(n,s){return this._param.ticksToTime(n,s)}timeToTicks(n,s){return this._param.timeToTicks(n,s)}getTimeOfTick(n){return this._param.getTimeOfTick(n)}getDurationOfTicks(n,s){return this._param.getDurationOfTicks(n,s)}getTicksAtTime(n){return this._param.getTicksAtTime(n)}get multiplier(){return this._param.multiplier}set multiplier(n){this._param.multiplier=n}dispose(){return super.dispose(),this._param.dispose(),this}}class Il extends Ht{constructor(){super(ae(Il.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new gf,this._tickOffset=new Dn,this._ticksAtTime=new Dn,this._secondsAtTime=new Dn;const n=ae(Il.getDefaults(),arguments,["frequency"]);this.frequency=new ql({context:this.context,units:n.units,value:n.frequency}),tt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Ht.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(n,s){const a=this.toSeconds(n);return this._state.getValueAtTime(a)!=="started"&&(this._state.setStateAtTime("started",a),Me(s)&&this.setTicksAtTime(s,a),this._ticksAtTime.cancel(a),this._secondsAtTime.cancel(a)),this}stop(n){const s=this.toSeconds(n);if(this._state.getValueAtTime(s)==="stopped"){const a=this._state.get(s);a&&a.time>0&&(this._tickOffset.cancel(a.time),this._state.cancel(a.time))}return this._state.cancel(s),this._state.setStateAtTime("stopped",s),this.setTicksAtTime(0,s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s),this}pause(n){const s=this.toSeconds(n);return this._state.getValueAtTime(s)==="started"&&(this._state.setStateAtTime("paused",s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s)),this}cancel(n){return n=this.toSeconds(n),this._state.cancel(n),this._tickOffset.cancel(n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getTicksAtTime(n){const s=this.toSeconds(n),a=this._state.getLastState("stopped",s),l=this._ticksAtTime.get(s),c={state:"paused",time:s};this._state.add(c);let f=l||a,d=l?l.ticks:0,m=null;return this._state.forEachBetween(f.time,s+this.sampleTime,p=>{let g=f.time;const y=this._tickOffset.get(p.time);y&&y.time>=f.time&&(d=y.ticks,g=y.time),f.state==="started"&&p.state!=="started"&&(d+=this.frequency.getTicksAtTime(p.time)-this.frequency.getTicksAtTime(g),p.time!==c.time&&(m={state:p.state,time:p.time,ticks:d})),f=p}),this._state.remove(c),m&&this._ticksAtTime.add(m),d}get ticks(){return this.getTicksAtTime(this.now())}set ticks(n){this.setTicksAtTime(n,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(n){const s=this.now(),a=this.frequency.timeToTicks(n,s);this.setTicksAtTime(a,s)}getSecondsAtTime(n){n=this.toSeconds(n);const s=this._state.getLastState("stopped",n),a={state:"paused",time:n};this._state.add(a);const l=this._secondsAtTime.get(n);let c=l||s,f=l?l.seconds:0,d=null;return this._state.forEachBetween(c.time,n+this.sampleTime,m=>{let p=c.time;const g=this._tickOffset.get(m.time);g&&g.time>=c.time&&(f=g.seconds,p=g.time),c.state==="started"&&m.state!=="started"&&(f+=m.time-p,m.time!==a.time&&(d={state:m.state,time:m.time,seconds:f})),c=m}),this._state.remove(a),d&&this._secondsAtTime.add(d),f}setTicksAtTime(n,s){return s=this.toSeconds(s),this._tickOffset.cancel(s),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(n,s),ticks:n,time:s}),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s),this}getStateAtTime(n){return n=this.toSeconds(n),this._state.getValueAtTime(n)}getTimeOfTick(n,s=this.now()){const a=this._tickOffset.get(s),l=this._state.get(s),c=Math.max(a.time,l.time),f=this.frequency.getTicksAtTime(c)+n-a.ticks;return this.frequency.getTimeOfTick(f)}forEachTickBetween(n,s,a){let l=this._state.get(n);this._state.forEachBetween(n,s,f=>{l&&l.state==="started"&&f.state!=="started"&&this.forEachTickBetween(Math.max(l.time,n),f.time-this.sampleTime,a),l=f});let c=null;if(l&&l.state==="started"){const f=Math.max(l.time,n),d=this.frequency.getTicksAtTime(f),m=this.frequency.getTicksAtTime(l.time),p=d-m;let g=Math.ceil(p)-p;g=bn(g,1)?0:g;let y=this.frequency.getTimeOfTick(d+g);for(;y<s;){try{a(y,Math.round(this.getTicksAtTime(y)))}catch(_){c=_;break}y+=this.frequency.getDurationOfTicks(1,y)}}if(c)throw c;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Rr extends Ht{constructor(){super(ae(Rr.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=qe,this._lastUpdate=0,this._state=new gf("stopped"),this._boundLoop=this._loop.bind(this);const n=ae(Rr.getDefaults(),arguments,["callback","frequency"]);this.callback=n.callback,this._tickSource=new Il({context:this.context,frequency:n.frequency,units:n.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,tt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Ht.getDefaults(),{callback:qe,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(n,s){ly(this.context);const a=this.toSeconds(n);return this.log("start",a),this._state.getValueAtTime(a)!=="started"&&(this._state.setStateAtTime("started",a),this._tickSource.start(a,s),a<this._lastUpdate&&this.emit("start",a,s)),this}stop(n){const s=this.toSeconds(n);return this.log("stop",s),this._state.cancel(s),this._state.setStateAtTime("stopped",s),this._tickSource.stop(s),s<this._lastUpdate&&this.emit("stop",s),this}pause(n){const s=this.toSeconds(n);return this._state.getValueAtTime(s)==="started"&&(this._state.setStateAtTime("paused",s),this._tickSource.pause(s),s<this._lastUpdate&&this.emit("pause",s)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(n){this._tickSource.ticks=n}get seconds(){return this._tickSource.seconds}set seconds(n){this._tickSource.seconds=n}getSecondsAtTime(n){return this._tickSource.getSecondsAtTime(n)}setTicksAtTime(n,s){return this._tickSource.setTicksAtTime(n,s),this}getTimeOfTick(n,s=this.now()){return this._tickSource.getTimeOfTick(n,s)}getTicksAtTime(n){return this._tickSource.getTicksAtTime(n)}nextTickTime(n,s){const a=this.toSeconds(s),l=this.getTicksAtTime(a);return this._tickSource.getTimeOfTick(l+n,a)}_loop(){const n=this._lastUpdate,s=this.now();this._lastUpdate=s,this.log("loop",n,s),n!==s&&(this._state.forEachBetween(n,s,a=>{switch(a.state){case"started":const l=this._tickSource.getTicksAtTime(a.time);this.emit("start",a.time,l);break;case"stopped":a.time!==0&&this.emit("stop",a.time);break;case"paused":this.emit("pause",a.time);break}}),this._tickSource.forEachTickBetween(n,s,(a,l)=>{this.callback(a,l)}))}getStateAtTime(n){const s=this.toSeconds(n);return this._state.getValueAtTime(s)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Pr.mixin(Rr);class vf extends ci{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const n=ae(vf.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=n.baseUrl,Object.keys(n.urls).forEach(s=>{this._loadingCount++;const a=n.urls[s];this.add(s,a,this._bufferLoaded.bind(this,n.onload),n.onerror)})}static getDefaults(){return{baseUrl:"",onerror:qe,onload:qe,urls:{}}}has(n){return this._buffers.has(n.toString())}get(n){return ye(this.has(n),`ToneAudioBuffers has no buffer named: ${n}`),this._buffers.get(n.toString())}_bufferLoaded(n){this._loadingCount--,this._loadingCount===0&&n&&n()}get loaded(){return Array.from(this._buffers).every(([n,s])=>s.loaded)}add(n,s,a=qe,l=qe){return ai(s)?(this.baseUrl&&s.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(n.toString(),new Ze(this.baseUrl+s,a,l))):this._buffers.set(n.toString(),new Ze(s,a,l)),this}dispose(){return super.dispose(),this._buffers.forEach(n=>n.dispose()),this._buffers.clear(),this}}class Ll extends en{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(n){return ps(super._frequencyToUnits(n))}_ticksToUnits(n){return ps(super._ticksToUnits(n))}_beatsToUnits(n){return ps(super._beatsToUnits(n))}_secondsToUnits(n){return ps(super._secondsToUnits(n))}toMidi(){return this.valueOf()}toFrequency(){return _y(this.toMidi())}transpose(n){return new Ll(this.context,this.toMidi()+n)}}class da extends Or{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(n){return this._getPPQ()*n}_secondsToUnits(n){return Math.floor(n/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(n){return n}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class I2 extends Ht{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Dn,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(n,s){return this._events.add({callback:n,time:this.toSeconds(s)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(n){return this._events.cancel(this.toSeconds(n)),this}_drawLoop(){const n=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=n;){const s=this._events.shift();s&&n-s.time<=this.expiration&&s.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}ic(o=>{o.draw=new I2({context:o})});sc(o=>{o.draw.dispose()});class L2 extends ci{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(n){ye(Me(n.time),"Events must have a time property"),ye(Me(n.duration),"Events must have a duration parameter"),n.time=n.time.valueOf();let s=new H2(n.time,n.time+n.duration,n);for(this._root===null?this._root=s:this._root.insert(s),this._length++;s!==null;)s.updateHeight(),s.updateMax(),this._rebalance(s),s=s.parent;return this}remove(n){if(this._root!==null){const s=[];this._root.search(n.time,s);for(const a of s)if(a.event===n){this._removeNode(a),this._length--;break}}return this}get length(){return this._length}cancel(n){return this.forEachFrom(n,s=>this.remove(s)),this}_setRoot(n){this._root=n,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(n,s){n.parent!==null?(n.isLeftChild()?n.parent.left=s:n.parent.right=s,this._rebalance(n.parent)):this._setRoot(s)}_removeNode(n){if(n.left===null&&n.right===null)this._replaceNodeInParent(n,null);else if(n.right===null)this._replaceNodeInParent(n,n.left);else if(n.left===null)this._replaceNodeInParent(n,n.right);else{const s=n.getBalance();let a,l=null;if(s>0)if(n.left.right===null)a=n.left,a.right=n.right,l=a;else{for(a=n.left.right;a.right!==null;)a=a.right;a.parent&&(a.parent.right=a.left,l=a.parent,a.left=n.left,a.right=n.right)}else if(n.right.left===null)a=n.right,a.left=n.left,l=a;else{for(a=n.right.left;a.left!==null;)a=a.left;a.parent&&(a.parent.left=a.right,l=a.parent,a.left=n.left,a.right=n.right)}n.parent!==null?n.isLeftChild()?n.parent.left=a:n.parent.right=a:this._setRoot(a),l&&this._rebalance(l)}n.dispose()}_rotateLeft(n){const s=n.parent,a=n.isLeftChild(),l=n.right;l&&(n.right=l.left,l.left=n),s!==null?a?s.left=l:s.right=l:this._setRoot(l)}_rotateRight(n){const s=n.parent,a=n.isLeftChild(),l=n.left;l&&(n.left=l.right,l.right=n),s!==null?a?s.left=l:s.right=l:this._setRoot(l)}_rebalance(n){const s=n.getBalance();s>1&&n.left?n.left.getBalance()<0?this._rotateLeft(n.left):this._rotateRight(n):s<-1&&n.right&&(n.right.getBalance()>0?this._rotateRight(n.right):this._rotateLeft(n))}get(n){if(this._root!==null){const s=[];if(this._root.search(n,s),s.length>0){let a=s[0];for(let l=1;l<s.length;l++)s[l].low>a.low&&(a=s[l]);return a.event}}return null}forEach(n){if(this._root!==null){const s=[];this._root.traverse(a=>s.push(a)),s.forEach(a=>{a.event&&n(a.event)})}return this}forEachAtTime(n,s){if(this._root!==null){const a=[];this._root.search(n,a),a.forEach(l=>{l.event&&s(l.event)})}return this}forEachFrom(n,s){if(this._root!==null){const a=[];this._root.searchAfter(n,a),a.forEach(l=>{l.event&&s(l.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(n=>n.dispose()),this._root=null,this}}class H2{constructor(n,s,a){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=a,this.low=n,this.high=s,this.max=this.high}insert(n){n.low<=this.low?this.left===null?this.left=n:this.left.insert(n):this.right===null?this.right=n:this.right.insert(n)}search(n,s){n>this.max||(this.left!==null&&this.left.search(n,s),this.low<=n&&this.high>n&&s.push(this),!(this.low>n)&&this.right!==null&&this.right.search(n,s))}searchAfter(n,s){this.low>=n&&(s.push(this),this.left!==null&&this.left.searchAfter(n,s)),this.right!==null&&this.right.searchAfter(n,s)}traverse(n){n(this),this.left!==null&&this.left.traverse(n),this.right!==null&&this.right.traverse(n)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let n=0;return this.left!==null&&this.right!==null?n=this.left.height-this.right.height:this.left!==null?n=this.left.height+1:this.right!==null&&(n=-(this.right.height+1)),n}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(n){this._left=n,n!==null&&(n.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(n){this._right=n,n!==null&&(n.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class bs extends Se{constructor(){super(ae(bs.getDefaults(),arguments,["volume"])),this.name="Volume";const n=ae(bs.getDefaults(),arguments,["volume"]);this.input=this.output=new _t({context:this.context,gain:n.volume,units:"decibels"}),this.volume=this.output.gain,tt(this,"volume"),this._unmutedVolume=n.volume,this.mute=n.mute}static getDefaults(){return Object.assign(Se.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(n){!this.mute&&n?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!n&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Hl extends Se{constructor(){super(ae(Hl.getDefaults(),arguments)),this.name="Destination",this.input=new bs({context:this.context}),this.output=new _t({context:this.context}),this.volume=this.input.volume;const n=ae(Hl.getDefaults(),arguments);Gh(this.input,this.output,this.context.rawContext.destination),this.mute=n.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Se.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(n){this.input.mute=n}chain(...n){return this.input.disconnect(),n.unshift(this.input),n.push(this.output),Gh(...n),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}ic(o=>{o.destination=new Hl({context:o})});sc(o=>{o.destination.dispose()});class G2 extends ci{constructor(n){super(),this.name="TimelineValue",this._timeline=new Dn({memory:10}),this._initialValue=n}set(n,s){return this._timeline.add({value:n,time:s}),this}get(n){const s=this._timeline.get(n);return s?s.value:this._initialValue}}class _a extends Se{constructor(){super(Object.assign(ae(_a.getDefaults(),arguments,["context"])))}connect(n,s=0,a=0){return yf(this,n,s,a),this}}class ba extends _a{constructor(){super(Object.assign(ae(ba.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const n=ae(ba.getDefaults(),arguments,["mapping","length"]);tn(n.mapping)||n.mapping instanceof Float32Array?this.curve=Float32Array.from(n.mapping):p2(n.mapping)&&this.setMap(n.mapping,n.length)}static getDefaults(){return Object.assign(mt.getDefaults(),{length:1024})}setMap(n,s=1024){const a=new Float32Array(s);for(let l=0,c=s;l<c;l++){const f=l/(c-1)*2-1;a[l]=n(f,l)}return this.curve=a,this}get curve(){return this._shaper.curve}set curve(n){this._shaper.curve=n}get oversample(){return this._shaper.oversample}set oversample(n){const s=["none","2x","4x"].some(a=>a.includes(n));ye(s,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=n}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Gl extends _a{constructor(){super(Object.assign(ae(Gl.getDefaults(),arguments,["value"]))),this.name="Pow";const n=ae(Gl.getDefaults(),arguments,["value"]);this._exponentScaler=this.input=this.output=new ba({context:this.context,mapping:this._expFunc(n.value),length:8192}),this._exponent=n.value}static getDefaults(){return Object.assign(_a.getDefaults(),{value:1})}_expFunc(n){return s=>Math.pow(Math.abs(s),n)}get value(){return this._exponent}set value(n){this._exponent=n,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Ii{constructor(n,s){this.id=Ii._eventId++,this._remainderTime=0;const a=Object.assign(Ii.getDefaults(),s);this.transport=n,this.callback=a.callback,this._once=a.once,this.time=Math.floor(a.time),this._remainderTime=a.time-this.time}static getDefaults(){return{callback:qe,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(n){if(this.callback){const s=this.transport.bpm.getDurationOfTicks(1,n);this.callback(n+this._remainderTime*s),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}Ii._eventId=0;class _f extends Ii{constructor(n,s){super(n,s),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const a=Object.assign(_f.getDefaults(),s);this.duration=a.duration,this._interval=a.interval,this._nextTick=a.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Ii.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(n){this._createEvents(n),super.invoke(n)}_createEvent(){return Ul(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new da(this.context,this._nextTick).toSeconds()):-1}_createEvents(n){Ul(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new da(this.context,this._nextTick).toSeconds()))}_restart(n){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const s=this.transport.getTicksAtTime(n);ya(s,this.time)&&(this._nextTick=this.floatTime+Math.ceil((s-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class jr extends Ht{constructor(){super(ae(jr.getDefaults(),arguments)),this.name="Transport",this._loop=new G2(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Dn,this._repeatedEvents=new L2,this._syncedSignals=[],this._swingAmount=0;const n=ae(jr.getDefaults(),arguments);this._ppq=n.ppq,this._clock=new Rr({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=n.ppq,this.bpm.setValueAtTime(n.bpm,0),tt(this,"bpm"),this._timeSignature=n.timeSignature,this._swingTicks=n.ppq/2}static getDefaults(){return Object.assign(Ht.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(n,s){if(this._loop.get(n)&&s>=this._loopEnd&&(this.emit("loopEnd",n),this._clock.setTicksAtTime(this._loopStart,n),s=this._loopStart,this.emit("loopStart",n,this._clock.getSecondsAtTime(n)),this.emit("loop",n)),this._swingAmount>0&&s%this._ppq!==0&&s%(this._swingTicks*2)!==0){const a=s%(this._swingTicks*2)/(this._swingTicks*2),l=Math.sin(a*Math.PI)*this._swingAmount;n+=new da(this.context,this._swingTicks*2/3).toSeconds()*l}Qg(!0),this._timeline.forEachAtTime(s,a=>a.invoke(n)),Qg(!1)}schedule(n,s){const a=new Ii(this,{callback:n,time:new Or(this.context,s).toTicks()});return this._addEvent(a,this._timeline)}scheduleRepeat(n,s,a,l=1/0){const c=new _f(this,{callback:n,duration:new xn(this.context,l).toTicks(),interval:new xn(this.context,s).toTicks(),time:new Or(this.context,a).toTicks()});return this._addEvent(c,this._repeatedEvents)}scheduleOnce(n,s){const a=new Ii(this,{callback:n,once:!0,time:new Or(this.context,s).toTicks()});return this._addEvent(a,this._timeline)}clear(n){if(this._scheduledEvents.hasOwnProperty(n)){const s=this._scheduledEvents[n.toString()];s.timeline.remove(s.event),s.event.dispose(),delete this._scheduledEvents[n.toString()]}return this}_addEvent(n,s){return this._scheduledEvents[n.id.toString()]={event:n,timeline:s},s.add(n),n.id}cancel(n=0){const s=this.toTicks(n);return this._timeline.forEachFrom(s,a=>this.clear(a.id)),this._repeatedEvents.forEachFrom(s,a=>this.clear(a.id)),this}_bindClockEvents(){this._clock.on("start",(n,s)=>{s=new da(this.context,s).toSeconds(),this.emit("start",n,s)}),this._clock.on("stop",n=>{this.emit("stop",n)}),this._clock.on("pause",n=>{this.emit("pause",n)})}get state(){return this._clock.getStateAtTime(this.now())}start(n,s){this.context.resume();let a;return Me(s)&&(a=this.toTicks(s)),this._clock.start(n,a),this}stop(n){return this._clock.stop(n),this}pause(n){return this._clock.pause(n),this}toggle(n){return n=this.toSeconds(n),this._clock.getStateAtTime(n)!=="started"?this.start(n):this.stop(n),this}get timeSignature(){return this._timeSignature}set timeSignature(n){tn(n)&&(n=n[0]/n[1]*4),this._timeSignature=n}get loopStart(){return new xn(this.context,this._loopStart,"i").toSeconds()}set loopStart(n){this._loopStart=this.toTicks(n)}get loopEnd(){return new xn(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(n){this._loopEnd=this.toTicks(n)}get loop(){return this._loop.get(this.now())}set loop(n){this._loop.set(n,this.now())}setLoopPoints(n,s){return this.loopStart=n,this.loopEnd=s,this}get swing(){return this._swingAmount}set swing(n){this._swingAmount=n}get swingSubdivision(){return new da(this.context,this._swingTicks).toNotation()}set swingSubdivision(n){this._swingTicks=this.toTicks(n)}get position(){const n=this.now(),s=this._clock.getTicksAtTime(n);return new da(this.context,s).toBarsBeatsSixteenths()}set position(n){const s=this.toTicks(n);this.ticks=s}get seconds(){return this._clock.seconds}set seconds(n){const s=this.now(),a=this._clock.frequency.timeToTicks(n,s);this.ticks=a}get progress(){if(this.loop){const n=this.now();return(this._clock.getTicksAtTime(n)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(n){if(this._clock.ticks!==n){const s=this.now();if(this.state==="started"){const a=this._clock.getTicksAtTime(s),l=this._clock.frequency.getDurationOfTicks(Math.ceil(a)-a,s),c=s+l;this.emit("stop",c),this._clock.setTicksAtTime(n,c),this.emit("start",c,this._clock.getSecondsAtTime(c))}else this.emit("ticks",s),this._clock.setTicksAtTime(n,s)}}getTicksAtTime(n){return this._clock.getTicksAtTime(n)}getSecondsAtTime(n){return this._clock.getSecondsAtTime(n)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(n){this._clock.frequency.multiplier=n}nextSubdivision(n){if(n=this.toTicks(n),this.state!=="started")return 0;{const s=this.now(),a=this.getTicksAtTime(s),l=n-a%n;return this._clock.nextTickTime(l,s)}}syncSignal(n,s){const a=this.now();let l=this.bpm,c=1/(60/l.getValueAtTime(a)/this.PPQ),f=[];if(n.units==="time"){const m=.015625/c,p=new _t(m),g=new Gl(-1),y=new _t(m);l.chain(p,g,y),l=y,c=1/c,f=[p,g,y]}s||(n.getValueAtTime(a)!==0?s=n.getValueAtTime(a)/c:s=0);const d=new _t(s);return l.connect(d),d.connect(n._param),f.push(d),this._syncedSignals.push({initial:n.value,nodes:f,signal:n}),n.value=0,this}unsyncSignal(n){for(let s=this._syncedSignals.length-1;s>=0;s--){const a=this._syncedSignals[s];a.signal===n&&(a.nodes.forEach(l=>l.dispose()),a.signal.value=a.initial,this._syncedSignals.splice(s,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),my(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Pr.mixin(jr);ic(o=>{o.transport=new jr({context:o})});sc(o=>{o.transport.dispose()});class nn extends Se{constructor(n){super(n),this.input=void 0,this._state=new gf("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=qe,this._syncedStop=qe,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new bs({context:this.context,mute:n.mute,volume:n.volume}),this.volume=this._volume.volume,tt(this,"volume"),this.onstop=n.onstop}static getDefaults(){return Object.assign(Se.getDefaults(),{mute:!1,onstop:qe,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(n){this._volume.mute=n}_clampToCurrentTime(n){return this._synced?n:Math.max(n,this.context.currentTime)}start(n,s,a){let l=mn(n)&&this._synced?this.context.transport.seconds:this.toSeconds(n);if(l=this._clampToCurrentTime(l),!this._synced&&this._state.getValueAtTime(l)==="started")ye(ya(l,this._state.get(l).time),"Start time must be strictly greater than previous start time"),this._state.cancel(l),this._state.setStateAtTime("started",l),this.log("restart",l),this.restart(l,s,a);else if(this.log("start",l),this._state.setStateAtTime("started",l),this._synced){const c=this._state.get(l);c&&(c.offset=this.toSeconds(pa(s,0)),c.duration=a?this.toSeconds(a):void 0);const f=this.context.transport.schedule(d=>{this._start(d,s,a)},l);this._scheduled.push(f),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>l&&this._syncedStart(this.now(),this.context.transport.seconds)}else ly(this.context),this._start(l,s,a);return this}stop(n){let s=mn(n)&&this._synced?this.context.transport.seconds:this.toSeconds(n);if(s=this._clampToCurrentTime(s),this._state.getValueAtTime(s)==="started"||Me(this._state.getNextState("started",s))){if(this.log("stop",s),!this._synced)this._stop(s);else{const a=this.context.transport.schedule(this._stop.bind(this),s);this._scheduled.push(a)}this._state.cancel(s),this._state.setStateAtTime("stopped",s)}return this}restart(n,s,a){return n=this.toSeconds(n),this._state.getValueAtTime(n)==="started"&&(this._state.cancel(n),this._restart(n,s,a)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(n,s)=>{if(ya(s,0)){const a=this._state.get(s);if(a&&a.state==="started"&&a.time!==s){const l=s-this.toSeconds(a.time);let c;a.duration&&(c=this.toSeconds(a.duration)-l),this._start(n,this.toSeconds(a.offset)+l,c)}}},this._syncedStop=n=>{const s=this.context.transport.getSecondsAtTime(Math.max(n-this.sampleTime,0));this._state.getValueAtTime(s)==="started"&&this._stop(n)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(n=>this.context.transport.clear(n)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=qe,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class zr extends va{constructor(){super(ae(zr.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const n=ae(zr.getDefaults(),arguments,["url","onload"]);Ea(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Je({context:this.context,param:this._source.playbackRate,units:"positive",value:n.playbackRate}),this.loop=n.loop,this.loopStart=n.loopStart,this.loopEnd=n.loopEnd,this._buffer=new Ze(n.url,n.onload,n.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(va.getDefaults(),{url:new Ze,loop:!1,loopEnd:0,loopStart:0,onload:qe,onerror:qe,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(n){this._fadeIn=n}get fadeOut(){return this._fadeOut}set fadeOut(n){this._fadeOut=n}get curve(){return this._curve}set curve(n){this._curve=n}start(n,s,a,l=1){ye(this.buffer.loaded,"buffer is either not set or not loaded");const c=this.toSeconds(n);this._startGain(c,l),this.loop?s=pa(s,this.loopStart):s=pa(s,0);let f=Math.max(this.toSeconds(s),0);if(this.loop){const d=this.toSeconds(this.loopEnd)||this.buffer.duration,m=this.toSeconds(this.loopStart),p=d-m;Hh(f,d)&&(f=(f-m)%p+m),bn(f,this.buffer.duration)&&(f=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Ul(f,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(c,f)),Me(a)){let d=this.toSeconds(a);d=Math.max(d,0),this.stop(c+d)}return this}_stopSource(n){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(n)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(n){this._source.loopStart=this.toSeconds(n)}get loopEnd(){return this._source.loopEnd}set loopEnd(n){this._source.loopEnd=this.toSeconds(n)}get buffer(){return this._buffer}set buffer(n){this._buffer.set(n)}get loop(){return this._source.loop}set loop(n){this._source.loop=n,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function ws(o,n){return ft(this,void 0,void 0,function*(){const s=n/o.context.sampleRate,a=new pf(1,s,o.context.sampleRate);return new o.constructor(Object.assign(o.get(),{frequency:2/s,detune:0,context:a})).toDestination().start(0),(yield a.render()).getChannelData(0)})}class Fl extends va{constructor(){super(ae(Fl.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const n=ae(Fl.getDefaults(),arguments,["frequency","type"]);Ea(this._oscillator,this._gainNode),this.type=n.type,this.frequency=new Je({context:this.context,param:this._oscillator.frequency,units:"frequency",value:n.frequency}),this.detune=new Je({context:this.context,param:this._oscillator.detune,units:"cents",value:n.detune}),tt(this,["frequency","detune"])}static getDefaults(){return Object.assign(va.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(n){const s=this.toSeconds(n);return this.log("start",s),this._startGain(s),this._oscillator.start(s),this}_stopSource(n){this._oscillator.stop(n)}setPeriodicWave(n){return this._oscillator.setPeriodicWave(n),this}get type(){return this._oscillator.type}set type(n){this._oscillator.type=n}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class rt extends nn{constructor(){super(ae(rt.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const n=ae(rt.getDefaults(),arguments,["frequency","type"]);this.frequency=new mt({context:this.context,units:"frequency",value:n.frequency}),tt(this,"frequency"),this.detune=new mt({context:this.context,units:"cents",value:n.detune}),tt(this,"detune"),this._partials=n.partials,this._partialCount=n.partialCount,this._type=n.type,n.partialCount&&n.type!=="custom"&&(this._type=this.baseType+n.partialCount.toString()),this.phase=n.phase}static getDefaults(){return Object.assign(nn.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(n){const s=this.toSeconds(n),a=new Fl({context:this.context,onended:()=>this.onstop(this)});this._oscillator=a,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(s)}_stop(n){const s=this.toSeconds(n);this._oscillator&&this._oscillator.stop(s)}_restart(n){const s=this.toSeconds(n);return this.log("restart",s),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(s),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return rt._periodicWaveCache.find(s=>s.phase===this._phase&&w2(s.partials,this._partials));{const n=rt._periodicWaveCache.find(s=>s.type===this._type&&s.phase===this._phase);return this._partialCount=n?n.partialCount:this._partialCount,n}}get type(){return this._type}set type(n){this._type=n;const s=["sine","square","sawtooth","triangle"].indexOf(n)!==-1;if(this._phase===0&&s)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=n);else{const a=this._getCachedPeriodicWave();if(Me(a)){const{partials:l,wave:c}=a;this._wave=c,this._partials=l,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[l,c]=this._getRealImaginary(n,this._phase),f=this.context.createPeriodicWave(l,c);this._wave=f,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),rt._periodicWaveCache.push({imag:c,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:l,type:this._type,wave:this._wave}),rt._periodicWaveCache.length>100&&rt._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(n){this.partialCount&&this._type!=="custom"&&n!=="custom"?this.type=n+this.partialCount:this.type=n}get partialCount(){return this._partialCount}set partialCount(n){ri(n,0);let s=this._type;const a=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(a&&(s=a[1]),this._type!=="custom")n===0?this.type=s:this.type=s+n.toString();else{const l=new Float32Array(n);this._partials.forEach((c,f)=>l[f]=c),this._partials=Array.from(l),this.type=this._type}}_getRealImaginary(n,s){let l=2048;const c=new Float32Array(l),f=new Float32Array(l);let d=1;if(n==="custom"){if(d=this._partials.length+1,this._partialCount=this._partials.length,l=d,this._partials.length===0)return[c,f]}else{const m=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(n);m?(d=parseInt(m[2],10)+1,this._partialCount=parseInt(m[2],10),n=m[1],d=Math.max(d,2),l=d):this._partialCount=0,this._partials=[]}for(let m=1;m<l;++m){const p=2/(m*Math.PI);let g;switch(n){case"sine":g=m<=d?1:0,this._partials[m-1]=g;break;case"square":g=m&1?2*p:0,this._partials[m-1]=g;break;case"sawtooth":g=p*(m&1?1:-1),this._partials[m-1]=g;break;case"triangle":m&1?g=2*(p*p)*(m-1>>1&1?-1:1):g=0,this._partials[m-1]=g;break;case"custom":g=this._partials[m-1];break;default:throw new TypeError("Oscillator: invalid type: "+n)}g!==0?(c[m]=-g*Math.sin(s*m),f[m]=g*Math.cos(s*m)):(c[m]=0,f[m]=0)}return[c,f]}_inverseFFT(n,s,a){let l=0;const c=n.length;for(let f=0;f<c;f++)l+=n[f]*Math.cos(f*a)+s[f]*Math.sin(f*a);return l}getInitialValue(){const[n,s]=this._getRealImaginary(this._type,0);let a=0;const l=Math.PI*2,c=32;for(let f=0;f<c;f++)a=Math.max(this._inverseFFT(n,s,f/c*l),a);return M2(-this._inverseFFT(n,s,this._phase)/a,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(n){this._partials=n,this._partialCount=this._partials.length,n.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(n){this._phase=n*Math.PI/180,this.type=this._type}asArray(n=1024){return ft(this,void 0,void 0,function*(){return ws(this,n)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}rt._periodicWaveCache=[];class F2 extends _a{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new ba({context:this.context,mapping:n=>(n+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class xs extends mt{constructor(){super(Object.assign(ae(xs.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const n=ae(xs.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new _t({context:this.context,minValue:n.minValue,maxValue:n.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(n.value,0)}static getDefaults(){return Object.assign(mt.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Ur extends nn{constructor(){super(ae(Ur.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new F2({context:this.context}),this._modulationNode=new _t({context:this.context});const n=ae(Ur.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new rt({context:this.context,detune:n.detune,frequency:n.frequency,onstop:()=>this.onstop(this),phase:n.phase,type:n.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new rt({context:this.context,phase:n.phase,type:n.modulationType}),this.harmonicity=new xs({context:this.context,units:"positive",value:n.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),tt(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(rt.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(n){this._modulator.start(n),this._carrier.start(n)}_stop(n){this._modulator.stop(n),this._carrier.stop(n)}_restart(n){this._modulator.restart(n),this._carrier.restart(n)}get type(){return this._carrier.type}set type(n){this._carrier.type=n}get baseType(){return this._carrier.baseType}set baseType(n){this._carrier.baseType=n}get partialCount(){return this._carrier.partialCount}set partialCount(n){this._carrier.partialCount=n}get modulationType(){return this._modulator.type}set modulationType(n){this._modulator.type=n}get phase(){return this._carrier.phase}set phase(n){this._carrier.phase=n,this._modulator.phase=n}get partials(){return this._carrier.partials}set partials(n){this._carrier.partials=n}asArray(n=1024){return ft(this,void 0,void 0,function*(){return ws(this,n)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Vr extends nn{constructor(){super(ae(Vr.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new _t({context:this.context,gain:0});const n=ae(Vr.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new rt({context:this.context,detune:n.detune,frequency:0,onstop:()=>this.onstop(this),phase:n.phase,type:n.type}),this.detune=this._carrier.detune,this.frequency=new mt({context:this.context,units:"frequency",value:n.frequency}),this._modulator=new rt({context:this.context,phase:n.phase,type:n.modulationType}),this.harmonicity=new xs({context:this.context,units:"positive",value:n.harmonicity}),this.modulationIndex=new xs({context:this.context,units:"positive",value:n.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),tt(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(rt.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(n){this._modulator.start(n),this._carrier.start(n)}_stop(n){this._modulator.stop(n),this._carrier.stop(n)}_restart(n){return this._modulator.restart(n),this._carrier.restart(n),this}get type(){return this._carrier.type}set type(n){this._carrier.type=n}get baseType(){return this._carrier.baseType}set baseType(n){this._carrier.baseType=n}get partialCount(){return this._carrier.partialCount}set partialCount(n){this._carrier.partialCount=n}get modulationType(){return this._modulator.type}set modulationType(n){this._modulator.type=n}get phase(){return this._carrier.phase}set phase(n){this._carrier.phase=n,this._modulator.phase=n}get partials(){return this._carrier.partials}set partials(n){this._carrier.partials=n}asArray(n=1024){return ft(this,void 0,void 0,function*(){return ws(this,n)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class xa extends nn{constructor(){super(ae(xa.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new _t({context:this.context,gain:0}),this._thresh=new ba({context:this.context,mapping:s=>s<=0?-1:1});const n=ae(xa.getDefaults(),arguments,["frequency","width"]);this.width=new mt({context:this.context,units:"audioRange",value:n.width}),this._triangle=new rt({context:this.context,detune:n.detune,frequency:n.frequency,onstop:()=>this.onstop(this),phase:n.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),tt(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(nn.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(n){n=this.toSeconds(n),this._triangle.start(n),this._widthGate.gain.setValueAtTime(1,n)}_stop(n){n=this.toSeconds(n),this._triangle.stop(n),this._widthGate.gain.cancelScheduledValues(n),this._widthGate.gain.setValueAtTime(0,n)}_restart(n){this._triangle.restart(n),this._widthGate.gain.cancelScheduledValues(n),this._widthGate.gain.setValueAtTime(1,n)}get phase(){return this._triangle.phase}set phase(n){this._triangle.phase=n}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(n){this._triangle.type=n}asArray(n=1024){return ft(this,void 0,void 0,function*(){return ws(this,n)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Br extends nn{constructor(){super(ae(Br.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const n=ae(Br.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new mt({context:this.context,units:"frequency",value:n.frequency}),this.detune=new mt({context:this.context,units:"cents",value:n.detune}),this._spread=n.spread,this._type=n.type,this._phase=n.phase,this._partials=n.partials,this._partialCount=n.partialCount,this.count=n.count,tt(this,["frequency","detune"])}static getDefaults(){return Object.assign(rt.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(n){n=this.toSeconds(n),this._forEach(s=>s.start(n))}_stop(n){n=this.toSeconds(n),this._forEach(s=>s.stop(n))}_restart(n){this._forEach(s=>s.restart(n))}_forEach(n){for(let s=0;s<this._oscillators.length;s++)n(this._oscillators[s],s)}get type(){return this._type}set type(n){this._type=n,this._forEach(s=>s.type=n)}get spread(){return this._spread}set spread(n){if(this._spread=n,this._oscillators.length>1){const s=-n/2,a=n/(this._oscillators.length-1);this._forEach((l,c)=>l.detune.value=s+a*c)}}get count(){return this._oscillators.length}set count(n){if(ri(n,1),this._oscillators.length!==n){this._forEach(s=>s.dispose()),this._oscillators=[];for(let s=0;s<n;s++){const a=new rt({context:this.context,volume:-6-n*1.1,type:this._type,phase:this._phase+s/n*360,partialCount:this._partialCount,onstop:s===0?()=>this.onstop(this):qe});this.type==="custom"&&(a.partials=this._partials),this.frequency.connect(a.frequency),this.detune.connect(a.detune),a.detune.overridden=!1,a.connect(this.output),this._oscillators[s]=a}this.spread=this._spread,this.state==="started"&&this._forEach(s=>s.start())}}get phase(){return this._phase}set phase(n){this._phase=n,this._forEach((s,a)=>s.phase=this._phase+a/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(n){this._forEach(s=>s.baseType=n),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(n){this._partials=n,this._partialCount=this._partials.length,n.length&&(this._type="custom",this._forEach(s=>s.partials=n))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(n){this._partialCount=n,this._forEach(s=>s.partialCount=n),this._type=this._oscillators[0].type}asArray(n=1024){return ft(this,void 0,void 0,function*(){return ws(this,n)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(n=>n.dispose()),this}}class qr extends nn{constructor(){super(ae(qr.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new xs({context:this.context,value:2});const n=ae(qr.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new xa({context:this.context,frequency:n.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new rt({context:this.context,detune:n.detune,frequency:n.frequency,onstop:()=>this.onstop(this),phase:n.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),tt(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(nn.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(n){n=this.toSeconds(n),this._modulator.start(n),this._pulse.start(n)}_stop(n){n=this.toSeconds(n),this._modulator.stop(n),this._pulse.stop(n)}_restart(n){this._modulator.restart(n),this._pulse.restart(n)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(n){this._modulator.phase=n}asArray(n=1024){return ft(this,void 0,void 0,function*(){return ws(this,n)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Wg={am:Ur,fat:Br,fm:Vr,oscillator:rt,pulse:xa,pwm:qr};class Ir extends nn{constructor(){super(ae(Ir.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const n=ae(Ir.getDefaults(),arguments,["frequency","type"]);this.frequency=new mt({context:this.context,units:"frequency",value:n.frequency}),this.detune=new mt({context:this.context,units:"cents",value:n.detune}),tt(this,["frequency","detune"]),this.set(n)}static getDefaults(){return Object.assign(rt.getDefaults(),Vr.getDefaults(),Ur.getDefaults(),Br.getDefaults(),xa.getDefaults(),qr.getDefaults())}_start(n){this._oscillator.start(n)}_stop(n){this._oscillator.stop(n)}_restart(n){return this._oscillator.restart(n),this}get type(){let n="";return["am","fm","fat"].some(s=>this._sourceType===s)&&(n=this._sourceType),n+this._oscillator.type}set type(n){n.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=n.substr(2)):n.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=n.substr(2)):n.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=n.substr(3)):n==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):n==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=n)}get partials(){return this._oscillator.partials}set partials(n){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=n)}get partialCount(){return this._oscillator.partialCount}set partialCount(n){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=n)}set(n){return Reflect.has(n,"type")&&n.type&&(this.type=n.type),super.set(n),this}_createNewOscillator(n){if(n!==this._sourceType){this._sourceType=n;const s=Wg[n],a=this.now();if(this._oscillator){const l=this._oscillator;l.stop(a),this.context.setTimeout(()=>l.dispose(),this.blockTime)}this._oscillator=new s({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(a)}}get phase(){return this._oscillator.phase}set phase(n){this._oscillator.phase=n}get sourceType(){return this._sourceType}set sourceType(n){let s="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(s=this._oscillator.type),n==="fm"?this.type="fm"+s:n==="am"?this.type="am"+s:n==="fat"?this.type="fat"+s:n==="oscillator"?this.type=s:n==="pulse"?this.type="pulse":n==="pwm"&&(this.type="pwm")}_getOscType(n,s){return n instanceof Wg[s]}get baseType(){return this._oscillator.baseType}set baseType(n){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&n!=="pulse"&&n!=="pwm"&&(this._oscillator.baseType=n)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(n){this._getOscType(this._oscillator,"fat")&&qi(n)&&(this._oscillator.count=n)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(n){this._getOscType(this._oscillator,"fat")&&qi(n)&&(this._oscillator.spread=n)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(n){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&ai(n)&&(this._oscillator.modulationType=n)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(n=1024){return ft(this,void 0,void 0,function*(){return ws(this,n)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function by(o,n=1/0){const s=new WeakMap;return function(a,l){Reflect.defineProperty(a,l,{configurable:!0,enumerable:!0,get:function(){return s.get(this)},set:function(c){ri(c,o,n),s.set(this,c)}})}}function ui(o,n=1/0){const s=new WeakMap;return function(a,l){Reflect.defineProperty(a,l,{configurable:!0,enumerable:!0,get:function(){return s.get(this)},set:function(c){ri(this.toSeconds(c),o,n),s.set(this,c)}})}}class Lr extends nn{constructor(){super(ae(Lr.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const n=ae(Lr.getDefaults(),arguments,["url","onload"]);this._buffer=new Ze({onload:this._onload.bind(this,n.onload),onerror:n.onerror,reverse:n.reverse,url:n.url}),this.autostart=n.autostart,this._loop=n.loop,this._loopStart=n.loopStart,this._loopEnd=n.loopEnd,this._playbackRate=n.playbackRate,this.fadeIn=n.fadeIn,this.fadeOut=n.fadeOut}static getDefaults(){return Object.assign(nn.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:qe,onerror:qe,playbackRate:1,reverse:!1})}load(n){return ft(this,void 0,void 0,function*(){return yield this._buffer.load(n),this._onload(),this})}_onload(n=qe){n(),this.autostart&&this.start()}_onSourceEnd(n){this.onstop(this),this._activeSources.delete(n),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(n,s,a){return super.start(n,s,a),this}_start(n,s,a){this._loop?s=pa(s,this._loopStart):s=pa(s,0);const l=this.toSeconds(s),c=a;a=pa(a,Math.max(this._buffer.duration-l,0));let f=this.toSeconds(a);f=f/this._playbackRate,n=this.toSeconds(n);const d=new zr({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(n+f),this._state.setStateAtTime("stopped",n+f,{implicitEnd:!0})),this._activeSources.add(d),this._loop&&mn(c)?d.start(n,l):d.start(n,l,f-this.toSeconds(this.fadeOut))}_stop(n){const s=this.toSeconds(n);this._activeSources.forEach(a=>a.stop(s))}restart(n,s,a){return super.restart(n,s,a),this}_restart(n,s,a){var l;(l=[...this._activeSources].pop())===null||l===void 0||l.stop(n),this._start(n,s,a)}seek(n,s){const a=this.toSeconds(s);if(this._state.getValueAtTime(a)==="started"){const l=this.toSeconds(n);this._stop(a),this._start(a,l)}return this}setLoopPoints(n,s){return this.loopStart=n,this.loopEnd=s,this}get loopStart(){return this._loopStart}set loopStart(n){this._loopStart=n,this.buffer.loaded&&ri(this.toSeconds(n),0,this.buffer.duration),this._activeSources.forEach(s=>{s.loopStart=n})}get loopEnd(){return this._loopEnd}set loopEnd(n){this._loopEnd=n,this.buffer.loaded&&ri(this.toSeconds(n),0,this.buffer.duration),this._activeSources.forEach(s=>{s.loopEnd=n})}get buffer(){return this._buffer}set buffer(n){this._buffer.set(n)}get loop(){return this._loop}set loop(n){if(this._loop!==n&&(this._loop=n,this._activeSources.forEach(s=>{s.loop=n}),n)){const s=this._state.getNextState("stopped",this.now());s&&this._state.cancel(s.time)}}get playbackRate(){return this._playbackRate}set playbackRate(n){this._playbackRate=n;const s=this.now(),a=this._state.getNextState("stopped",s);a&&a.implicitEnd&&(this._state.cancel(a.time),this._activeSources.forEach(l=>l.cancelStop())),this._activeSources.forEach(l=>{l.playbackRate.setValueAtTime(n,s)})}get reverse(){return this._buffer.reverse}set reverse(n){this._buffer.reverse=n}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(n=>n.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}wn([ui(0)],Lr.prototype,"fadeIn",void 0);wn([ui(0)],Lr.prototype,"fadeOut",void 0);class oi extends Se{constructor(){super(ae(oi.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new mt({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const n=ae(oi.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=n.attack,this.decay=n.decay,this.sustain=n.sustain,this.release=n.release,this.attackCurve=n.attackCurve,this.releaseCurve=n.releaseCurve,this.decayCurve=n.decayCurve}static getDefaults(){return Object.assign(Se.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(n,s){if(ai(n))return n;{let a;for(a in Tl)if(Tl[a][s]===n)return a;return n}}_setCurve(n,s,a){if(ai(a)&&Reflect.has(Tl,a)){const l=Tl[a];ms(l)?n!=="_decayCurve"&&(this[n]=l[s]):this[n]=l}else if(tn(a)&&n!=="_decayCurve")this[n]=a;else throw new Error("Envelope: invalid curve: "+a)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(n){this._setCurve("_attackCurve","In",n)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(n){this._setCurve("_releaseCurve","Out",n)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(n){this._setCurve("_decayCurve","Out",n)}triggerAttack(n,s=1){this.log("triggerAttack",n,s),n=this.toSeconds(n);let l=this.toSeconds(this.attack);const c=this.toSeconds(this.decay),f=this.getValueAtTime(n);if(f>0){const d=1/l;l=(1-f)/d}if(l<this.sampleTime)this._sig.cancelScheduledValues(n),this._sig.setValueAtTime(s,n);else if(this._attackCurve==="linear")this._sig.linearRampTo(s,l,n);else if(this._attackCurve==="exponential")this._sig.targetRampTo(s,l,n);else{this._sig.cancelAndHoldAtTime(n);let d=this._attackCurve;for(let m=1;m<d.length;m++)if(d[m-1]<=f&&f<=d[m]){d=this._attackCurve.slice(m),d[0]=f;break}this._sig.setValueCurveAtTime(d,n,l,s)}if(c&&this.sustain<1){const d=s*this.sustain,m=n+l;this.log("decay",m),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(d,c+m):this._sig.exponentialApproachValueAtTime(d,m,c)}return this}triggerRelease(n){this.log("triggerRelease",n),n=this.toSeconds(n);const s=this.getValueAtTime(n);if(s>0){const a=this.toSeconds(this.release);a<this.sampleTime?this._sig.setValueAtTime(0,n):this._releaseCurve==="linear"?this._sig.linearRampTo(0,a,n):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,a,n):(ye(tn(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(n),this._sig.setValueCurveAtTime(this._releaseCurve,n,a,s))}return this}getValueAtTime(n){return this._sig.getValueAtTime(n)}triggerAttackRelease(n,s,a=1){return s=this.toSeconds(s),this.triggerAttack(s,a),this.triggerRelease(s+this.toSeconds(n)),this}cancel(n){return this._sig.cancelScheduledValues(this.toSeconds(n)),this}connect(n,s=0,a=0){return yf(this,n,s,a),this}asArray(n=1024){return ft(this,void 0,void 0,function*(){const s=n/this.context.sampleRate,a=new pf(1,s,this.context.sampleRate),l=this.toSeconds(this.attack)+this.toSeconds(this.decay),c=l+this.toSeconds(this.release),f=c*.1,d=c+f,m=new this.constructor(Object.assign(this.get(),{attack:s*this.toSeconds(this.attack)/d,decay:s*this.toSeconds(this.decay)/d,release:s*this.toSeconds(this.release)/d,context:a}));return m._sig.toDestination(),m.triggerAttackRelease(s*(l+f)/d,0),(yield a.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}wn([ui(0)],oi.prototype,"attack",void 0);wn([ui(0)],oi.prototype,"decay",void 0);wn([by(0,1)],oi.prototype,"sustain",void 0);wn([ui(0)],oi.prototype,"release",void 0);const Tl=(()=>{let n,s;const a=[];for(n=0;n<128;n++)a[n]=Math.sin(n/127*(Math.PI/2));const l=[],c=6.4;for(n=0;n<127;n++){s=n/127;const _=Math.sin(s*(Math.PI*2)*c-Math.PI/2)+1;l[n]=_/10+s*.83}l[127]=1;const f=[],d=5;for(n=0;n<128;n++)f[n]=Math.ceil(n/127*d)/d;const m=[];for(n=0;n<128;n++)s=n/127,m[n]=.5*(1-Math.cos(Math.PI*s));const p=[];for(n=0;n<128;n++){s=n/127;const _=Math.pow(s,3)*4+.2,b=Math.cos(_*Math.PI*2*s);p[n]=Math.abs(b*(1-s))}function g(_){const b=new Array(_.length);for(let C=0;C<_.length;C++)b[C]=1-_[C];return b}function y(_){return _.slice(0).reverse()}return{bounce:{In:g(p),Out:p},cosine:{In:a,Out:y(a)},exponential:"exponential",linear:"linear",ripple:{In:l,Out:g(l)},sine:{In:m,Out:g(m)},step:{In:f,Out:g(f)}}})();let Sa=class Fh extends Se{constructor(){super(ae(Fh.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=s=>this._original_triggerRelease(s);const n=ae(Fh.getDefaults(),arguments);this._volume=this.output=new bs({context:this.context,volume:n.volume}),this.volume=this._volume.volume,tt(this,"volume")}static getDefaults(){return Object.assign(Se.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let n=!1;return this._synced||(this._synced=!0,n=!0),n}_syncMethod(n,s){const a=this["_original_"+n]=this[n];this[n]=(...l)=>{const c=l[s],f=this.context.transport.schedule(d=>{l[s]=d,a.apply(this,l)},c);this._scheduledEvents.push(f)}}unsync(){return this._scheduledEvents.forEach(n=>this.context.transport.clear(n)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(n,s,a,l){const c=this.toSeconds(a),f=this.toSeconds(s);return this.triggerAttack(n,c,l),this.triggerRelease(c+f),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}};class Li extends Sa{constructor(){super(ae(Li.getDefaults(),arguments));const n=ae(Li.getDefaults(),arguments);this.portamento=n.portamento,this.onsilence=n.onsilence}static getDefaults(){return Object.assign(Sa.getDefaults(),{detune:0,onsilence:qe,portamento:0})}triggerAttack(n,s,a=1){this.log("triggerAttack",n,s,a);const l=this.toSeconds(s);return this._triggerEnvelopeAttack(l,a),this.setNote(n,l),this}triggerRelease(n){this.log("triggerRelease",n);const s=this.toSeconds(n);return this._triggerEnvelopeRelease(s),this}setNote(n,s){const a=this.toSeconds(s),l=n instanceof en?n.toFrequency():n;if(this.portamento>0&&this.getLevelAtTime(a)>.05){const c=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(l,c,a)}else this.frequency.setValueAtTime(l,a);return this}}wn([ui(0)],Li.prototype,"portamento",void 0);class bf extends oi{constructor(){super(ae(bf.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new _t({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Ss extends Li{constructor(){super(ae(Ss.getDefaults(),arguments)),this.name="Synth";const n=ae(Ss.getDefaults(),arguments);this.oscillator=new Ir(Object.assign({context:this.context,detune:n.detune,onstop:()=>this.onsilence(this)},n.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new bf(Object.assign({context:this.context},n.envelope)),this.oscillator.chain(this.envelope,this.output),tt(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Li.getDefaults(),{envelope:Object.assign(Lh(oi.getDefaults(),Object.keys(Se.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Lh(Ir.getDefaults(),[...Object.keys(nn.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(n,s){if(this.envelope.triggerAttack(n,s),this.oscillator.start(n),this.envelope.sustain===0){const a=this.toSeconds(this.envelope.attack),l=this.toSeconds(this.envelope.decay);this.oscillator.stop(n+a+l)}}_triggerEnvelopeRelease(n){this.envelope.triggerRelease(n),this.oscillator.stop(n+this.toSeconds(this.envelope.release))}getLevelAtTime(n){return n=this.toSeconds(n),this.envelope.getValueAtTime(n)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Hr extends Ss{constructor(){super(ae(Hr.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const n=ae(Hr.getDefaults(),arguments);this.pitchDecay=n.pitchDecay,this.octaves=n.octaves,tt(this,["oscillator","envelope"])}static getDefaults(){return ys(Li.getDefaults(),Ss.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(n,s){const a=this.toSeconds(s),l=this.toFrequency(n instanceof en?n.toFrequency():n),c=l*this.octaves;return this.oscillator.frequency.setValueAtTime(c,a),this.oscillator.frequency.exponentialRampToValueAtTime(l,a+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}wn([by(0)],Hr.prototype,"octaves",void 0);wn([ui(0)],Hr.prototype,"pitchDecay",void 0);const xy=new Set;function xf(o){xy.add(o)}function Sy(o,n){const s=`registerProcessor("${o}", ${n})`;xy.add(s)}const Y2=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;xf(Y2);const X2=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;xf(X2);const Z2=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;xf(Z2);const Q2="feedback-comb-filter",W2=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;Sy(Q2,W2);class Yl extends Sa{constructor(){super(ae(Yl.getDefaults(),arguments,["voice","options"])),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=l=>this.releaseAll(l);const n=ae(Yl.getDefaults(),arguments,["voice","options"]);ye(!qi(n.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const s=n.voice.getDefaults();this.options=Object.assign(s,n.options),this.voice=n.voice,this.maxPolyphony=n.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const a=this._voices.indexOf(this._dummyVoice);this._voices.splice(a,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(Sa.getDefaults(),{maxPolyphony:32,options:{},voice:Ss})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(n){this._availableVoices.push(n);const s=this._activeVoices.findIndex(a=>a.voice===n);this._activeVoices.splice(s,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const n=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return ye(n instanceof Li,"Voice must extend Monophonic class"),n.connect(this.output),this._voices.push(n),n}else nc("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const n=this._availableVoices.shift(),s=this._voices.indexOf(n);this._voices.splice(s,1),this.context.isOffline||n.dispose()}}_triggerAttack(n,s,a){n.forEach(l=>{const c=new Ll(this.context,l).toMidi(),f=this._getNextAvailableVoice();f&&(f.triggerAttack(l,s,a),this._activeVoices.push({midi:c,voice:f,released:!1}),this.log("triggerAttack",l,s))})}_triggerRelease(n,s){n.forEach(a=>{const l=new Ll(this.context,a).toMidi(),c=this._activeVoices.find(({midi:f,released:d})=>f===l&&!d);c&&(c.voice.triggerRelease(s),c.released=!0,this.log("triggerRelease",a,s))})}_scheduleEvent(n,s,a,l){ye(!this.disposed,"Synth was already disposed"),a<=this.now()?n==="attack"?this._triggerAttack(s,a,l):this._triggerRelease(s,a):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(n,s,a,l)},a-this.now())}triggerAttack(n,s,a){Array.isArray(n)||(n=[n]);const l=this.toSeconds(s);return this._scheduleEvent("attack",n,l,a),this}triggerRelease(n,s){Array.isArray(n)||(n=[n]);const a=this.toSeconds(s);return this._scheduleEvent("release",n,a),this}triggerAttackRelease(n,s,a,l){const c=this.toSeconds(a);if(this.triggerAttack(n,c,l),tn(s)){ye(tn(n),"If the duration is an array, the notes must also be an array"),n=n;for(let f=0;f<n.length;f++){const d=s[Math.min(f,s.length-1)],m=this.toSeconds(d);ye(m>0,"The duration must be greater than 0"),this.triggerRelease(n[f],c+m)}}else{const f=this.toSeconds(s);ye(f>0,"The duration must be greater than 0"),this.triggerRelease(n,c+f)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(n){const s=Lh(n,["onsilence","context"]);return this.options=ys(this.options,s),this._voices.forEach(a=>a.set(s)),this._dummyVoice.set(s),this}get(){return this._dummyVoice.get()}releaseAll(n){const s=this.toSeconds(n);return this._activeVoices.forEach(({voice:a})=>{a.triggerRelease(s)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(n=>n.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class Gr extends Sa{constructor(){super(ae(Gr.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const n=ae(Gr.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),s={};Object.keys(n.urls).forEach(a=>{const l=parseInt(a,10);if(ye(Sl(a)||qi(l)&&isFinite(l),`url key is neither a note or midi pitch: ${a}`),Sl(a)){const c=new en(this.context,a).toMidi();s[c]=n.urls[a]}else qi(l)&&isFinite(l)&&(s[l]=n.urls[l])}),this._buffers=new vf({urls:s,onload:n.onload,baseUrl:n.baseUrl,onerror:n.onerror}),this.attack=n.attack,this.release=n.release,this.curve=n.curve,this._buffers.loaded&&Promise.resolve().then(n.onload)}static getDefaults(){return Object.assign(Sa.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:qe,onerror:qe,release:.1,urls:{}})}_findClosest(n){let a=0;for(;a<96;){if(this._buffers.has(n+a))return-a;if(this._buffers.has(n-a))return a;a++}throw new Error(`No available buffers for note: ${n}`)}triggerAttack(n,s,a=1){return this.log("triggerAttack",n,s,a),Array.isArray(n)||(n=[n]),n.forEach(l=>{const c=vy(new en(this.context,l).toFrequency()),f=Math.round(c),d=c-f,m=this._findClosest(f),p=f-m,g=this._buffers.get(p),y=yy(m+d),_=new zr({url:g,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:y}).connect(this.output);_.start(s,0,g.duration/y,a),tn(this._activeSources.get(f))||this._activeSources.set(f,[]),this._activeSources.get(f).push(_),_.onended=()=>{if(this._activeSources&&this._activeSources.has(f)){const b=this._activeSources.get(f),C=b.indexOf(_);C!==-1&&b.splice(C,1)}}}),this}triggerRelease(n,s){return this.log("triggerRelease",n,s),Array.isArray(n)||(n=[n]),n.forEach(a=>{const l=new en(this.context,a).toMidi();if(this._activeSources.has(l)&&this._activeSources.get(l).length){const c=this._activeSources.get(l);s=this.toSeconds(s),c.forEach(f=>{f.stop(s)}),this._activeSources.set(l,[])}}),this}releaseAll(n){const s=this.toSeconds(n);return this._activeSources.forEach(a=>{for(;a.length;)a.shift().stop(s)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(n,s,a,l=1){const c=this.toSeconds(a);return this.triggerAttack(n,c,l),tn(s)?(ye(tn(n),"notes must be an array when duration is array"),n.forEach((f,d)=>{const m=s[Math.min(d,s.length-1)];this.triggerRelease(f,c+this.toSeconds(m))})):this.triggerRelease(n,c+this.toSeconds(s)),this}add(n,s,a){if(ye(Sl(n)||isFinite(n),`note must be a pitch or midi: ${n}`),Sl(n)){const l=new en(this.context,n).toMidi();this._buffers.add(l,s,a)}else this._buffers.add(n,s,a);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(n=>{n.forEach(s=>s.dispose())}),this._activeSources.clear(),this}}wn([ui(0)],Gr.prototype,"attack",void 0);wn([ui(0)],Gr.prototype,"release",void 0);class Xl extends Se{constructor(){super(Object.assign(ae(Xl.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const n=ae(Xl.getDefaults(),arguments,["pan"]);this.pan=new Je({context:this.context,param:this._panner.pan,value:n.pan,minValue:-1,maxValue:1}),this._panner.channelCount=n.channelCount,this._panner.channelCountMode="explicit",tt(this,"pan")}static getDefaults(){return Object.assign(Se.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const J2="bit-crusher",K2=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;Sy(J2,K2);class Zl extends Se{constructor(){super(ae(Zl.getDefaults(),arguments,["channels"])),this.name="Split";const n=ae(Zl.getDefaults(),arguments,["channels"]);this._splitter=this.input=this.output=this.context.createChannelSplitter(n.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(Se.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class Ql extends Se{constructor(){super(ae(Ql.getDefaults(),arguments,["type","size"])),this.name="Analyser",this._analysers=[],this._buffers=[];const n=ae(Ql.getDefaults(),arguments,["type","size"]);this.input=this.output=this._gain=new _t({context:this.context}),this._split=new Zl({context:this.context,channels:n.channels}),this.input.connect(this._split),ri(n.channels,1);for(let s=0;s<n.channels;s++)this._analysers[s]=this.context.createAnalyser(),this._split.connect(this._analysers[s],s,0);this.size=n.size,this.type=n.type,this.smoothing=n.smoothing}static getDefaults(){return Object.assign(Se.getDefaults(),{size:1024,smoothing:.8,type:"fft",channels:1})}getValue(){return this._analysers.forEach((n,s)=>{const a=this._buffers[s];this._type==="fft"?n.getFloatFrequencyData(a):this._type==="waveform"&&n.getFloatTimeDomainData(a)}),this.channels===1?this._buffers[0]:this._buffers}get size(){return this._analysers[0].frequencyBinCount}set size(n){this._analysers.forEach((s,a)=>{s.fftSize=n*2,this._buffers[a]=new Float32Array(n)})}get channels(){return this._analysers.length}get type(){return this._type}set type(n){ye(n==="waveform"||n==="fft",`Analyser: invalid type: ${n}`),this._type=n}get smoothing(){return this._analysers[0].smoothingTimeConstant}set smoothing(n){this._analysers.forEach(s=>s.smoothingTimeConstant=n)}dispose(){return super.dispose(),this._analysers.forEach(n=>n.disconnect()),this._split.dispose(),this._gain.dispose(),this}}class at extends Se{constructor(){super(ae(at.getDefaults(),arguments,["solo"])),this.name="Solo";const n=ae(at.getDefaults(),arguments,["solo"]);this.input=this.output=new _t({context:this.context}),at._allSolos.has(this.context)||at._allSolos.set(this.context,new Set),at._allSolos.get(this.context).add(this),this.solo=n.solo}static getDefaults(){return Object.assign(Se.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(n){n?this._addSolo():this._removeSolo(),at._allSolos.get(this.context).forEach(s=>s._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){at._soloed.has(this.context)||at._soloed.set(this.context,new Set),at._soloed.get(this.context).add(this)}_removeSolo(){at._soloed.has(this.context)&&at._soloed.get(this.context).delete(this)}_isSoloed(){return at._soloed.has(this.context)&&at._soloed.get(this.context).has(this)}_noSolos(){return!at._soloed.has(this.context)||at._soloed.has(this.context)&&at._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),at._allSolos.get(this.context).delete(this),this._removeSolo(),this}}at._allSolos=new Map;at._soloed=new Map;class Wl extends Se{constructor(){super(ae(Wl.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const n=ae(Wl.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new Xl({context:this.context,pan:n.pan,channelCount:n.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new bs({context:this.context,volume:n.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=n.mute,tt(this,["pan","volume"])}static getDefaults(){return Object.assign(Se.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(n){this._volume.mute=n}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class fs extends Se{constructor(){super(ae(fs.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const n=ae(fs.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new at({solo:n.solo,context:this.context}),this._panVol=this.output=new Wl({context:this.context,pan:n.pan,volume:n.volume,mute:n.mute,channelCount:n.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),tt(this,["pan","volume"])}static getDefaults(){return Object.assign(Se.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(n){this._solo.solo=n}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(n){this._panVol.mute=n}_getBus(n){return fs.buses.has(n)||fs.buses.set(n,new _t({context:this.context})),fs.buses.get(n)}send(n,s=0){const a=this._getBus(n),l=new _t({context:this.context,units:"decibels",gain:s});return this.connect(l),l.connect(a),l}receive(n){return this._getBus(n).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}fs.buses=new Map;class P2 extends Se{constructor(){super(...arguments),this.name="Listener",this.positionX=new Je({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Je({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Je({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Je({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Je({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Je({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Je({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Je({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Je({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Se.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}ic(o=>{o.listener=new P2({context:o})});sc(o=>{o.listener.dispose()});function Jg(){return pn().now()}const ua=pn().transport;pn().destination;pn().destination;pn().listener;pn().draw;const $2=pn();var cs={},Cl={},Mh,Kg;function eC(){if(Kg)return Mh;Kg=1;function o(l){var c=new a(l),f=c.readChunk();if(f.id!="MThd")throw"Bad MIDI file.  Expected 'MHdr', got: '"+f.id+"'";for(var d=n(f.data),m=[],p=0;!c.eof()&&p<d.numTracks;p++){var g=c.readChunk();if(g.id!="MTrk")throw"Bad MIDI file.  Expected 'MTrk', got: '"+g.id+"'";var y=s(g.data);m.push(y)}return{header:d,tracks:m}}function n(l){var c=new a(l),f=c.readUInt16(),d=c.readUInt16(),m={format:f,numTracks:d},p=c.readUInt16();return p&32768?(m.framesPerSecond=256-(p>>8),m.ticksPerFrame=p&255):m.ticksPerBeat=p,m}function s(l){for(var c=new a(l),f=[];!c.eof();){var d=p();f.push(d)}return f;var m;function p(){var g={};g.deltaTime=c.readVarInt();var y=c.readUInt8();if((y&240)===240)if(y===255){g.meta=!0;var _=c.readUInt8(),b=c.readVarInt();switch(_){case 0:if(g.type="sequenceNumber",b!==2)throw"Expected length for sequenceNumber event is 2, got "+b;return g.number=c.readUInt16(),g;case 1:return g.type="text",g.text=c.readString(b),g;case 2:return g.type="copyrightNotice",g.text=c.readString(b),g;case 3:return g.type="trackName",g.text=c.readString(b),g;case 4:return g.type="instrumentName",g.text=c.readString(b),g;case 5:return g.type="lyrics",g.text=c.readString(b),g;case 6:return g.type="marker",g.text=c.readString(b),g;case 7:return g.type="cuePoint",g.text=c.readString(b),g;case 32:if(g.type="channelPrefix",b!=1)throw"Expected length for channelPrefix event is 1, got "+b;return g.channel=c.readUInt8(),g;case 33:if(g.type="portPrefix",b!=1)throw"Expected length for portPrefix event is 1, got "+b;return g.port=c.readUInt8(),g;case 47:if(g.type="endOfTrack",b!=0)throw"Expected length for endOfTrack event is 0, got "+b;return g;case 81:if(g.type="setTempo",b!=3)throw"Expected length for setTempo event is 3, got "+b;return g.microsecondsPerBeat=c.readUInt24(),g;case 84:if(g.type="smpteOffset",b!=5)throw"Expected length for smpteOffset event is 5, got "+b;var C=c.readUInt8(),A={0:24,32:25,64:29,96:30};return g.frameRate=A[C&96],g.hour=C&31,g.min=c.readUInt8(),g.sec=c.readUInt8(),g.frame=c.readUInt8(),g.subFrame=c.readUInt8(),g;case 88:if(g.type="timeSignature",b!=2&&b!=4)throw"Expected length for timeSignature event is 4 or 2, got "+b;return g.numerator=c.readUInt8(),g.denominator=1<<c.readUInt8(),b===4?(g.metronome=c.readUInt8(),g.thirtyseconds=c.readUInt8()):(g.metronome=36,g.thirtyseconds=8),g;case 89:if(g.type="keySignature",b!=2)throw"Expected length for keySignature event is 2, got "+b;return g.key=c.readInt8(),g.scale=c.readUInt8(),g;case 127:return g.type="sequencerSpecific",g.data=c.readBytes(b),g;default:return g.type="unknownMeta",g.data=c.readBytes(b),g.metatypeByte=_,g}}else if(y==240){g.type="sysEx";var b=c.readVarInt();return g.data=c.readBytes(b),g}else if(y==247){g.type="endSysEx";var b=c.readVarInt();return g.data=c.readBytes(b),g}else throw"Unrecognised MIDI event type byte: "+y;else{var S;if((y&128)===0){if(m===null)throw"Running status byte encountered before status byte";S=y,y=m,g.running=!0}else S=c.readUInt8(),m=y;var T=y>>4;switch(g.channel=y&15,T){case 8:return g.type="noteOff",g.noteNumber=S,g.velocity=c.readUInt8(),g;case 9:var N=c.readUInt8();return g.type=N===0?"noteOff":"noteOn",g.noteNumber=S,g.velocity=N,N===0&&(g.byte9=!0),g;case 10:return g.type="noteAftertouch",g.noteNumber=S,g.amount=c.readUInt8(),g;case 11:return g.type="controller",g.controllerType=S,g.value=c.readUInt8(),g;case 12:return g.type="programChange",g.programNumber=S,g;case 13:return g.type="channelAftertouch",g.amount=S,g;case 14:return g.type="pitchBend",g.value=S+(c.readUInt8()<<7)-8192,g;default:throw"Unrecognised MIDI event type: "+T}}}}function a(l){this.buffer=l,this.bufferLen=this.buffer.length,this.pos=0}return a.prototype.eof=function(){return this.pos>=this.bufferLen},a.prototype.readUInt8=function(){var l=this.buffer[this.pos];return this.pos+=1,l},a.prototype.readInt8=function(){var l=this.readUInt8();return l&128?l-256:l},a.prototype.readUInt16=function(){var l=this.readUInt8(),c=this.readUInt8();return(l<<8)+c},a.prototype.readInt16=function(){var l=this.readUInt16();return l&32768?l-65536:l},a.prototype.readUInt24=function(){var l=this.readUInt8(),c=this.readUInt8(),f=this.readUInt8();return(l<<16)+(c<<8)+f},a.prototype.readInt24=function(){var l=this.readUInt24();return l&8388608?l-16777216:l},a.prototype.readUInt32=function(){var l=this.readUInt8(),c=this.readUInt8(),f=this.readUInt8(),d=this.readUInt8();return(l<<24)+(c<<16)+(f<<8)+d},a.prototype.readBytes=function(l){var c=this.buffer.slice(this.pos,this.pos+l);return this.pos+=l,c},a.prototype.readString=function(l){var c=this.readBytes(l);return String.fromCharCode.apply(null,c)},a.prototype.readVarInt=function(){for(var l=0;!this.eof();){var c=this.readUInt8();if(c&128)l+=c&127,l<<=7;else return l+c}return l},a.prototype.readChunk=function(){var l=this.readString(4),c=this.readUInt32(),f=this.readBytes(c);return{id:l,length:c,data:f}},Mh=o,Mh}var Eh,Pg;function tC(){if(Pg)return Eh;Pg=1;function o(c,f){if(typeof c!="object")throw"Invalid MIDI data";f=f||{};var d=c.header||{},m=c.tracks||[],p,g=m.length,y=new l;for(n(y,d,g),p=0;p<g;p++)s(y,m[p],f);return y.buffer}function n(c,f,d){var m=f.format==null?1:f.format,p=128;f.timeDivision?p=f.timeDivision:f.ticksPerFrame&&f.framesPerSecond?p=-(f.framesPerSecond&255)<<8|f.ticksPerFrame&255:f.ticksPerBeat&&(p=f.ticksPerBeat&32767);var g=new l;g.writeUInt16(m),g.writeUInt16(d),g.writeUInt16(p),c.writeChunk("MThd",g.buffer)}function s(c,f,d){var m=new l,p,g=f.length,y=null;for(p=0;p<g;p++)(d.running===!1||!d.running&&!f[p].running)&&(y=null),y=a(m,f[p],y,d.useByte9ForNoteOff);c.writeChunk("MTrk",m.buffer)}function a(c,f,d,m){var p=f.type,g=f.deltaTime,y=f.text||"",_=f.data||[],b=null;switch(c.writeVarInt(g),p){case"sequenceNumber":c.writeUInt8(255),c.writeUInt8(0),c.writeVarInt(2),c.writeUInt16(f.number);break;case"text":c.writeUInt8(255),c.writeUInt8(1),c.writeVarInt(y.length),c.writeString(y);break;case"copyrightNotice":c.writeUInt8(255),c.writeUInt8(2),c.writeVarInt(y.length),c.writeString(y);break;case"trackName":c.writeUInt8(255),c.writeUInt8(3),c.writeVarInt(y.length),c.writeString(y);break;case"instrumentName":c.writeUInt8(255),c.writeUInt8(4),c.writeVarInt(y.length),c.writeString(y);break;case"lyrics":c.writeUInt8(255),c.writeUInt8(5),c.writeVarInt(y.length),c.writeString(y);break;case"marker":c.writeUInt8(255),c.writeUInt8(6),c.writeVarInt(y.length),c.writeString(y);break;case"cuePoint":c.writeUInt8(255),c.writeUInt8(7),c.writeVarInt(y.length),c.writeString(y);break;case"channelPrefix":c.writeUInt8(255),c.writeUInt8(32),c.writeVarInt(1),c.writeUInt8(f.channel);break;case"portPrefix":c.writeUInt8(255),c.writeUInt8(33),c.writeVarInt(1),c.writeUInt8(f.port);break;case"endOfTrack":c.writeUInt8(255),c.writeUInt8(47),c.writeVarInt(0);break;case"setTempo":c.writeUInt8(255),c.writeUInt8(81),c.writeVarInt(3),c.writeUInt24(f.microsecondsPerBeat);break;case"smpteOffset":c.writeUInt8(255),c.writeUInt8(84),c.writeVarInt(5);var C={24:0,25:32,29:64,30:96},A=f.hour&31|C[f.frameRate];c.writeUInt8(A),c.writeUInt8(f.min),c.writeUInt8(f.sec),c.writeUInt8(f.frame),c.writeUInt8(f.subFrame);break;case"timeSignature":c.writeUInt8(255),c.writeUInt8(88),c.writeVarInt(4),c.writeUInt8(f.numerator);var S=Math.floor(Math.log(f.denominator)/Math.LN2)&255;c.writeUInt8(S),c.writeUInt8(f.metronome),c.writeUInt8(f.thirtyseconds||8);break;case"keySignature":c.writeUInt8(255),c.writeUInt8(89),c.writeVarInt(2),c.writeInt8(f.key),c.writeUInt8(f.scale);break;case"sequencerSpecific":c.writeUInt8(255),c.writeUInt8(127),c.writeVarInt(_.length),c.writeBytes(_);break;case"unknownMeta":f.metatypeByte!=null&&(c.writeUInt8(255),c.writeUInt8(f.metatypeByte),c.writeVarInt(_.length),c.writeBytes(_));break;case"sysEx":c.writeUInt8(240),c.writeVarInt(_.length),c.writeBytes(_);break;case"endSysEx":c.writeUInt8(247),c.writeVarInt(_.length),c.writeBytes(_);break;case"noteOff":var T=m!==!1&&f.byte9||m&&f.velocity==0?144:128;b=T|f.channel,b!==d&&c.writeUInt8(b),c.writeUInt8(f.noteNumber),c.writeUInt8(f.velocity);break;case"noteOn":b=144|f.channel,b!==d&&c.writeUInt8(b),c.writeUInt8(f.noteNumber),c.writeUInt8(f.velocity);break;case"noteAftertouch":b=160|f.channel,b!==d&&c.writeUInt8(b),c.writeUInt8(f.noteNumber),c.writeUInt8(f.amount);break;case"controller":b=176|f.channel,b!==d&&c.writeUInt8(b),c.writeUInt8(f.controllerType),c.writeUInt8(f.value);break;case"programChange":b=192|f.channel,b!==d&&c.writeUInt8(b),c.writeUInt8(f.programNumber);break;case"channelAftertouch":b=208|f.channel,b!==d&&c.writeUInt8(b),c.writeUInt8(f.amount);break;case"pitchBend":b=224|f.channel,b!==d&&c.writeUInt8(b);var N=8192+f.value,k=N&127,D=N>>7&127;c.writeUInt8(k),c.writeUInt8(D);break;default:throw"Unrecognized event type: "+p}return b}function l(){this.buffer=[]}return l.prototype.writeUInt8=function(c){this.buffer.push(c&255)},l.prototype.writeInt8=l.prototype.writeUInt8,l.prototype.writeUInt16=function(c){var f=c>>8&255,d=c&255;this.writeUInt8(f),this.writeUInt8(d)},l.prototype.writeInt16=l.prototype.writeUInt16,l.prototype.writeUInt24=function(c){var f=c>>16&255,d=c>>8&255,m=c&255;this.writeUInt8(f),this.writeUInt8(d),this.writeUInt8(m)},l.prototype.writeInt24=l.prototype.writeUInt24,l.prototype.writeUInt32=function(c){var f=c>>24&255,d=c>>16&255,m=c>>8&255,p=c&255;this.writeUInt8(f),this.writeUInt8(d),this.writeUInt8(m),this.writeUInt8(p)},l.prototype.writeInt32=l.prototype.writeUInt32,l.prototype.writeBytes=function(c){this.buffer=this.buffer.concat(Array.prototype.slice.call(c,0))},l.prototype.writeString=function(c){var f,d=c.length,m=[];for(f=0;f<d;f++)m.push(c.codePointAt(f));this.writeBytes(m)},l.prototype.writeVarInt=function(c){if(c<0)throw"Cannot write negative variable-length integer";if(c<=127)this.writeUInt8(c);else{var f=c,d=[];for(d.push(f&127),f>>=7;f;){var m=f&127|128;d.push(m),f>>=7}this.writeBytes(d.reverse())}},l.prototype.writeChunk=function(c,f){this.writeString(c),this.writeUInt32(f.length),this.writeBytes(f)},Eh=o,Eh}var $g;function Ty(){return $g||($g=1,Cl.parseMidi=eC(),Cl.writeMidi=tC()),Cl}var Oh={},us={},e0;function Cy(){if(e0)return us;e0=1,Object.defineProperty(us,"__esModule",{value:!0}),us.insert=us.search=void 0;function o(s,a,l){l===void 0&&(l="ticks");var c=0,f=s.length,d=f;if(f>0&&s[f-1][l]<=a)return f-1;for(;c<d;){var m=Math.floor(c+(d-c)/2),p=s[m],g=s[m+1];if(p[l]===a){for(var y=m;y<s.length;y++){var _=s[y];_[l]===a&&(m=y)}return m}else{if(p[l]<a&&g[l]>a)return m;p[l]>a?d=m:p[l]<a&&(c=m+1)}}return-1}us.search=o;function n(s,a,l){if(l===void 0&&(l="ticks"),s.length){var c=o(s,a[l],l);s.splice(c+1,0,a)}else s.push(a)}return us.insert=n,us}var t0;function Yh(){return t0||(t0=1,(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.Header=o.keySignatureKeys=void 0;var n=Cy(),s=new WeakMap;o.keySignatureKeys=["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"];var a=(function(){function l(c){var f=this;if(this.tempos=[],this.timeSignatures=[],this.keySignatures=[],this.meta=[],this.name="",s.set(this,480),c){s.set(this,c.header.ticksPerBeat),c.tracks.forEach(function(m){m.forEach(function(p){p.meta&&(p.type==="timeSignature"?f.timeSignatures.push({ticks:p.absoluteTime,timeSignature:[p.numerator,p.denominator]}):p.type==="setTempo"?f.tempos.push({bpm:6e7/p.microsecondsPerBeat,ticks:p.absoluteTime}):p.type==="keySignature"&&f.keySignatures.push({key:o.keySignatureKeys[p.key+7],scale:p.scale===0?"major":"minor",ticks:p.absoluteTime}))})});var d=0;c.tracks[0].forEach(function(m){d+=m.deltaTime,m.meta&&(m.type==="trackName"?f.name=m.text:(m.type==="text"||m.type==="cuePoint"||m.type==="marker"||m.type==="lyrics")&&f.meta.push({text:m.text,ticks:d,type:m.type}))}),this.update()}}return l.prototype.update=function(){var c=this,f=0,d=0;this.tempos.sort(function(m,p){return m.ticks-p.ticks}),this.tempos.forEach(function(m,p){var g=p>0?c.tempos[p-1].bpm:c.tempos[0].bpm,y=m.ticks/c.ppq-d,_=60/g*y;m.time=_+f,f=m.time,d+=y}),this.timeSignatures.sort(function(m,p){return m.ticks-p.ticks}),this.timeSignatures.forEach(function(m,p){var g=p>0?c.timeSignatures[p-1]:c.timeSignatures[0],y=(m.ticks-g.ticks)/c.ppq,_=y/g.timeSignature[0]/(g.timeSignature[1]/4);g.measures=g.measures||0,m.measures=_+g.measures})},l.prototype.ticksToSeconds=function(c){var f=(0,n.search)(this.tempos,c);if(f!==-1){var d=this.tempos[f],m=d.time,p=(c-d.ticks)/this.ppq;return m+60/d.bpm*p}else{var g=c/this.ppq;return 60/120*g}},l.prototype.ticksToMeasures=function(c){var f=(0,n.search)(this.timeSignatures,c);if(f!==-1){var d=this.timeSignatures[f],m=(c-d.ticks)/this.ppq;return d.measures+m/(d.timeSignature[0]/d.timeSignature[1])/4}else return c/this.ppq/4},Object.defineProperty(l.prototype,"ppq",{get:function(){return s.get(this)},enumerable:!1,configurable:!0}),l.prototype.secondsToTicks=function(c){var f=(0,n.search)(this.tempos,c,"time");if(f!==-1){var d=this.tempos[f],m=d.time,p=c-m,g=p/(60/d.bpm);return Math.round(d.ticks+g*this.ppq)}else{var y=c/.5;return Math.round(y*this.ppq)}},l.prototype.toJSON=function(){return{keySignatures:this.keySignatures,meta:this.meta,name:this.name,ppq:this.ppq,tempos:this.tempos.map(function(c){return{bpm:c.bpm,ticks:c.ticks}}),timeSignatures:this.timeSignatures}},l.prototype.fromJSON=function(c){this.name=c.name,this.tempos=c.tempos.map(function(f){return Object.assign({},f)}),this.timeSignatures=c.timeSignatures.map(function(f){return Object.assign({},f)}),this.keySignatures=c.keySignatures.map(function(f){return Object.assign({},f)}),this.meta=c.meta.map(function(f){return Object.assign({},f)}),s.set(this,c.ppq),this.update()},l.prototype.setTempo=function(c){this.tempos=[{bpm:c,ticks:0}],this.update()},l})();o.Header=a})(Oh)),Oh}var Tr={},Nh={},n0;function wy(){return n0||(n0=1,(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.ControlChange=o.controlChangeIds=o.controlChangeNames=void 0,o.controlChangeNames={1:"modulationWheel",2:"breath",4:"footController",5:"portamentoTime",7:"volume",8:"balance",10:"pan",64:"sustain",65:"portamentoTime",66:"sostenuto",67:"softPedal",68:"legatoFootswitch",84:"portamentoControl"},o.controlChangeIds=Object.keys(o.controlChangeNames).reduce(function(l,c){return l[o.controlChangeNames[c]]=c,l},{});var n=new WeakMap,s=new WeakMap,a=(function(){function l(c,f){n.set(this,f),s.set(this,c.controllerType),this.ticks=c.absoluteTime,this.value=c.value}return Object.defineProperty(l.prototype,"number",{get:function(){return s.get(this)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"name",{get:function(){return o.controlChangeNames[this.number]?o.controlChangeNames[this.number]:null},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"time",{get:function(){var c=n.get(this);return c.ticksToSeconds(this.ticks)},set:function(c){var f=n.get(this);this.ticks=f.secondsToTicks(c)},enumerable:!1,configurable:!0}),l.prototype.toJSON=function(){return{number:this.number,ticks:this.ticks,time:this.time,value:this.value}},l})();o.ControlChange=a})(Nh)),Nh}var Cr={},i0;function nC(){if(i0)return Cr;i0=1,Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.createControlChanges=void 0;var o=wy();function n(){return new Proxy({},{get:function(s,a){if(s[a])return s[a];if(o.controlChangeIds.hasOwnProperty(a))return s[o.controlChangeIds[a]]},set:function(s,a,l){return o.controlChangeIds.hasOwnProperty(a)?s[o.controlChangeIds[a]]=l:s[a]=l,!0}})}return Cr.createControlChanges=n,Cr}var wr={},s0;function iC(){if(s0)return wr;s0=1,Object.defineProperty(wr,"__esModule",{value:!0}),wr.PitchBend=void 0;var o=new WeakMap,n=(function(){function s(a,l){o.set(this,l),this.ticks=a.absoluteTime,this.value=a.value}return Object.defineProperty(s.prototype,"time",{get:function(){var a=o.get(this);return a.ticksToSeconds(this.ticks)},set:function(a){var l=o.get(this);this.ticks=l.secondsToTicks(a)},enumerable:!1,configurable:!0}),s.prototype.toJSON=function(){return{ticks:this.ticks,time:this.time,value:this.value}},s})();return wr.PitchBend=n,wr}var Ar={},ni={},a0;function sC(){return a0||(a0=1,Object.defineProperty(ni,"__esModule",{value:!0}),ni.DrumKitByPatchID=ni.InstrumentFamilyByID=ni.instrumentByPatchID=void 0,ni.instrumentByPatchID=["acoustic grand piano","bright acoustic piano","electric grand piano","honky-tonk piano","electric piano 1","electric piano 2","harpsichord","clavi","celesta","glockenspiel","music box","vibraphone","marimba","xylophone","tubular bells","dulcimer","drawbar organ","percussive organ","rock organ","church organ","reed organ","accordion","harmonica","tango accordion","acoustic guitar (nylon)","acoustic guitar (steel)","electric guitar (jazz)","electric guitar (clean)","electric guitar (muted)","overdriven guitar","distortion guitar","guitar harmonics","acoustic bass","electric bass (finger)","electric bass (pick)","fretless bass","slap bass 1","slap bass 2","synth bass 1","synth bass 2","violin","viola","cello","contrabass","tremolo strings","pizzicato strings","orchestral harp","timpani","string ensemble 1","string ensemble 2","synthstrings 1","synthstrings 2","choir aahs","voice oohs","synth voice","orchestra hit","trumpet","trombone","tuba","muted trumpet","french horn","brass section","synthbrass 1","synthbrass 2","soprano sax","alto sax","tenor sax","baritone sax","oboe","english horn","bassoon","clarinet","piccolo","flute","recorder","pan flute","blown bottle","shakuhachi","whistle","ocarina","lead 1 (square)","lead 2 (sawtooth)","lead 3 (calliope)","lead 4 (chiff)","lead 5 (charang)","lead 6 (voice)","lead 7 (fifths)","lead 8 (bass + lead)","pad 1 (new age)","pad 2 (warm)","pad 3 (polysynth)","pad 4 (choir)","pad 5 (bowed)","pad 6 (metallic)","pad 7 (halo)","pad 8 (sweep)","fx 1 (rain)","fx 2 (soundtrack)","fx 3 (crystal)","fx 4 (atmosphere)","fx 5 (brightness)","fx 6 (goblins)","fx 7 (echoes)","fx 8 (sci-fi)","sitar","banjo","shamisen","koto","kalimba","bag pipe","fiddle","shanai","tinkle bell","agogo","steel drums","woodblock","taiko drum","melodic tom","synth drum","reverse cymbal","guitar fret noise","breath noise","seashore","bird tweet","telephone ring","helicopter","applause","gunshot"],ni.InstrumentFamilyByID=["piano","chromatic percussion","organ","guitar","bass","strings","ensemble","brass","reed","pipe","synth lead","synth pad","synth effects","world","percussive","sound effects"],ni.DrumKitByPatchID={0:"standard kit",8:"room kit",16:"power kit",24:"electronic kit",25:"tr-808 kit",32:"jazz kit",40:"brush kit",48:"orchestra kit",56:"sound fx kit"}),ni}var r0;function aC(){if(r0)return Ar;r0=1,Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.Instrument=void 0;var o=sC(),n=new WeakMap,s=(function(){function a(l,c){if(this.number=0,n.set(this,c),this.number=0,l){var f=l.find(function(d){return d.type==="programChange"});f&&(this.number=f.programNumber)}}return Object.defineProperty(a.prototype,"name",{get:function(){return this.percussion?o.DrumKitByPatchID[this.number]:o.instrumentByPatchID[this.number]},set:function(l){var c=o.instrumentByPatchID.indexOf(l);c!==-1&&(this.number=c)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"family",{get:function(){return this.percussion?"drums":o.InstrumentFamilyByID[Math.floor(this.number/8)]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"percussion",{get:function(){var l=n.get(this);return l.channel===9},enumerable:!1,configurable:!0}),a.prototype.toJSON=function(){return{family:this.family,number:this.number,name:this.name}},a.prototype.fromJSON=function(l){this.number=l.number},a})();return Ar.Instrument=s,Ar}var Mr={},o0;function rC(){if(o0)return Mr;o0=1,Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.Note=void 0;function o(f){var d=Math.floor(f/12)-1;return n(f)+d.toString()}function n(f){var d=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],m=f%12;return d[m]}function s(f){var d=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];return d.indexOf(f)}var a=(function(){var f=/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,d={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13};return function(m){var p=f.exec(m),g=p[1],y=p[2],_=d[g.toLowerCase()];return _+(parseInt(y,10)+1)*12}})(),l=new WeakMap,c=(function(){function f(d,m,p){l.set(this,p),this.midi=d.midi,this.velocity=d.velocity,this.noteOffVelocity=m.velocity,this.ticks=d.ticks,this.durationTicks=m.ticks-d.ticks}return Object.defineProperty(f.prototype,"name",{get:function(){return o(this.midi)},set:function(d){this.midi=a(d)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"octave",{get:function(){return Math.floor(this.midi/12)-1},set:function(d){var m=d-this.octave;this.midi+=m*12},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"pitch",{get:function(){return n(this.midi)},set:function(d){this.midi=12*(this.octave+1)+s(d)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"duration",{get:function(){var d=l.get(this);return d.ticksToSeconds(this.ticks+this.durationTicks)-d.ticksToSeconds(this.ticks)},set:function(d){var m=l.get(this),p=m.secondsToTicks(this.time+d);this.durationTicks=p-this.ticks},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"time",{get:function(){var d=l.get(this);return d.ticksToSeconds(this.ticks)},set:function(d){var m=l.get(this);this.ticks=m.secondsToTicks(d)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"bars",{get:function(){var d=l.get(this);return d.ticksToMeasures(this.ticks)},enumerable:!1,configurable:!0}),f.prototype.toJSON=function(){return{duration:this.duration,durationTicks:this.durationTicks,midi:this.midi,name:this.name,ticks:this.ticks,time:this.time,velocity:this.velocity}},f})();return Mr.Note=c,Mr}var l0;function c0(){if(l0)return Tr;l0=1,Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.Track=void 0;var o=Cy(),n=wy(),s=nC(),a=iC(),l=aC(),c=rC(),f=new WeakMap,d=(function(){function m(p,g){var y=this;if(this.name="",this.notes=[],this.controlChanges=(0,s.createControlChanges)(),this.pitchBends=[],f.set(this,g),p){var _=p.find(function(D){return D.type==="trackName"});this.name=_?_.text:""}if(this.instrument=new l.Instrument(p,this),this.channel=0,p){for(var b=p.filter(function(D){return D.type==="noteOn"}),C=p.filter(function(D){return D.type==="noteOff"}),A=function(){var D=b.shift();S.channel=D.channel;var M=C.findIndex(function(z){return z.noteNumber===D.noteNumber&&z.absoluteTime>=D.absoluteTime});if(M!==-1){var E=C.splice(M,1)[0];S.addNote({durationTicks:E.absoluteTime-D.absoluteTime,midi:D.noteNumber,noteOffVelocity:E.velocity/127,ticks:D.absoluteTime,velocity:D.velocity/127})}},S=this;b.length;)A();var T=p.filter(function(D){return D.type==="controller"});T.forEach(function(D){y.addCC({number:D.controllerType,ticks:D.absoluteTime,value:D.value/127})});var N=p.filter(function(D){return D.type==="pitchBend"});N.forEach(function(D){y.addPitchBend({ticks:D.absoluteTime,value:D.value/Math.pow(2,13)})});var k=p.find(function(D){return D.type==="endOfTrack"});this.endOfTrackTicks=k!==void 0?k.absoluteTime:void 0}}return m.prototype.addNote=function(p){var g=f.get(this),y=new c.Note({midi:0,ticks:0,velocity:1},{ticks:0,velocity:0},g);return Object.assign(y,p),(0,o.insert)(this.notes,y,"ticks"),this},m.prototype.addCC=function(p){var g=f.get(this),y=new n.ControlChange({controllerType:p.number},g);return delete p.number,Object.assign(y,p),Array.isArray(this.controlChanges[y.number])||(this.controlChanges[y.number]=[]),(0,o.insert)(this.controlChanges[y.number],y,"ticks"),this},m.prototype.addPitchBend=function(p){var g=f.get(this),y=new a.PitchBend({},g);return Object.assign(y,p),(0,o.insert)(this.pitchBends,y,"ticks"),this},Object.defineProperty(m.prototype,"duration",{get:function(){if(!this.notes.length)return 0;for(var p=this.notes[this.notes.length-1].time+this.notes[this.notes.length-1].duration,g=0;g<this.notes.length-1;g++){var y=this.notes[g].time+this.notes[g].duration;p<y&&(p=y)}return p},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"durationTicks",{get:function(){if(!this.notes.length)return 0;for(var p=this.notes[this.notes.length-1].ticks+this.notes[this.notes.length-1].durationTicks,g=0;g<this.notes.length-1;g++){var y=this.notes[g].ticks+this.notes[g].durationTicks;p<y&&(p=y)}return p},enumerable:!1,configurable:!0}),m.prototype.fromJSON=function(p){var g=this;this.name=p.name,this.channel=p.channel,this.instrument=new l.Instrument(void 0,this),this.instrument.fromJSON(p.instrument),p.endOfTrackTicks!==void 0&&(this.endOfTrackTicks=p.endOfTrackTicks);for(var y in p.controlChanges)p.controlChanges[y]&&p.controlChanges[y].forEach(function(_){g.addCC({number:_.number,ticks:_.ticks,value:_.value})});p.notes.forEach(function(_){g.addNote({durationTicks:_.durationTicks,midi:_.midi,ticks:_.ticks,velocity:_.velocity})})},m.prototype.toJSON=function(){for(var p={},g=0;g<127;g++)this.controlChanges.hasOwnProperty(g)&&(p[g]=this.controlChanges[g].map(function(_){return _.toJSON()}));var y={channel:this.channel,controlChanges:p,pitchBends:this.pitchBends.map(function(_){return _.toJSON()}),instrument:this.instrument.toJSON(),name:this.name,notes:this.notes.map(function(_){return _.toJSON()})};return this.endOfTrackTicks!==void 0&&(y.endOfTrackTicks=this.endOfTrackTicks),y},m})();return Tr.Track=d,Tr}var hs={};function oC(o){var n=[];return Ay(o,n),n}function Ay(o,n){for(var s=0;s<o.length;s++){var a=o[s];Array.isArray(a)?Ay(a,n):n.push(a)}}const lC=Object.freeze(Object.defineProperty({__proto__:null,flatten:oC},Symbol.toStringTag,{value:"Module"})),cC=Q_(lC);var u0;function uC(){if(u0)return hs;u0=1;var o=hs&&hs.__spreadArray||function(T,N,k){if(k||arguments.length===2)for(var D=0,M=N.length,E;D<M;D++)(E||!(D in N))&&(E||(E=Array.prototype.slice.call(N,0,D)),E[D]=N[D]);return T.concat(E||Array.prototype.slice.call(N))};Object.defineProperty(hs,"__esModule",{value:!0}),hs.encode=void 0;var n=Ty(),s=Yh(),a=cC;function l(T,N){return[{absoluteTime:T.ticks,channel:N,deltaTime:0,noteNumber:T.midi,type:"noteOn",velocity:Math.floor(T.velocity*127)},{absoluteTime:T.ticks+T.durationTicks,channel:N,deltaTime:0,noteNumber:T.midi,type:"noteOff",velocity:Math.floor(T.noteOffVelocity*127)}]}function c(T){return(0,a.flatten)(T.notes.map(function(N){return l(N,T.channel)}))}function f(T,N){return{absoluteTime:T.ticks,channel:N,controllerType:T.number,deltaTime:0,type:"controller",value:Math.floor(T.value*127)}}function d(T){for(var N=[],k=0;k<127;k++)T.controlChanges.hasOwnProperty(k)&&T.controlChanges[k].forEach(function(D){N.push(f(D,T.channel))});return N}function m(T,N){return{absoluteTime:T.ticks,channel:N,deltaTime:0,type:"pitchBend",value:T.value}}function p(T){var N=[];return T.pitchBends.forEach(function(k){N.push(m(k,T.channel))}),N}function g(T){return{absoluteTime:0,channel:T.channel,deltaTime:0,programNumber:T.instrument.number,type:"programChange"}}function y(T){return{absoluteTime:0,deltaTime:0,meta:!0,text:T,type:"trackName"}}function _(T){return{absoluteTime:T.ticks,deltaTime:0,meta:!0,microsecondsPerBeat:Math.floor(6e7/T.bpm),type:"setTempo"}}function b(T){return{absoluteTime:T.ticks,deltaTime:0,denominator:T.timeSignature[1],meta:!0,metronome:24,numerator:T.timeSignature[0],thirtyseconds:8,type:"timeSignature"}}function C(T){var N=s.keySignatureKeys.indexOf(T.key);return{absoluteTime:T.ticks,deltaTime:0,key:N+7,meta:!0,scale:T.scale==="major"?0:1,type:"keySignature"}}function A(T){return{absoluteTime:T.ticks,deltaTime:0,meta:!0,text:T.text,type:T.type}}function S(T){var N={header:{format:1,numTracks:T.tracks.length+1,ticksPerBeat:T.header.ppq},tracks:o([o(o(o(o([{absoluteTime:0,deltaTime:0,meta:!0,text:T.header.name,type:"trackName"}],T.header.keySignatures.map(function(k){return C(k)}),!0),T.header.meta.map(function(k){return A(k)}),!0),T.header.tempos.map(function(k){return _(k)}),!0),T.header.timeSignatures.map(function(k){return b(k)}),!0)],T.tracks.map(function(k){return o(o(o([y(k.name),g(k)],c(k),!0),d(k),!0),p(k),!0)}),!0)};return N.tracks=N.tracks.map(function(k){k=k.sort(function(M,E){return M.absoluteTime-E.absoluteTime});var D=0;return k.forEach(function(M){M.deltaTime=M.absoluteTime-D,D=M.absoluteTime,delete M.absoluteTime}),k.push({deltaTime:0,meta:!0,type:"endOfTrack"}),k}),new Uint8Array((0,n.writeMidi)(N))}return hs.encode=S,hs}var h0;function hC(){return h0||(h0=1,(function(o){var n=cs&&cs.__awaiter||function(y,_,b,C){function A(S){return S instanceof b?S:new b(function(T){T(S)})}return new(b||(b=Promise))(function(S,T){function N(M){try{D(C.next(M))}catch(E){T(E)}}function k(M){try{D(C.throw(M))}catch(E){T(E)}}function D(M){M.done?S(M.value):A(M.value).then(N,k)}D((C=C.apply(y,_||[])).next())})},s=cs&&cs.__generator||function(y,_){var b={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},C,A,S,T;return T={next:N(0),throw:N(1),return:N(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function N(D){return function(M){return k([D,M])}}function k(D){if(C)throw new TypeError("Generator is already executing.");for(;b;)try{if(C=1,A&&(S=D[0]&2?A.return:D[0]?A.throw||((S=A.return)&&S.call(A),0):A.next)&&!(S=S.call(A,D[1])).done)return S;switch(A=0,S&&(D=[D[0]&2,S.value]),D[0]){case 0:case 1:S=D;break;case 4:return b.label++,{value:D[1],done:!1};case 5:b.label++,A=D[1],D=[0];continue;case 7:D=b.ops.pop(),b.trys.pop();continue;default:if(S=b.trys,!(S=S.length>0&&S[S.length-1])&&(D[0]===6||D[0]===2)){b=0;continue}if(D[0]===3&&(!S||D[1]>S[0]&&D[1]<S[3])){b.label=D[1];break}if(D[0]===6&&b.label<S[1]){b.label=S[1],S=D;break}if(S&&b.label<S[2]){b.label=S[2],b.ops.push(D);break}S[2]&&b.ops.pop(),b.trys.pop();continue}D=_.call(y,b)}catch(M){D=[6,M],A=0}finally{C=S=0}if(D[0]&5)throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.Header=o.Track=o.Midi=void 0;var a=Ty(),l=Yh(),c=c0(),f=uC(),d=(function(){function y(_){var b=this,C=null;if(_){var A=_ instanceof ArrayBuffer?new Uint8Array(_):_;C=(0,a.parseMidi)(A),C.tracks.forEach(function(S){var T=0;S.forEach(function(N){T+=N.deltaTime,N.absoluteTime=T})}),C.tracks=g(C.tracks)}this.header=new l.Header(C),this.tracks=[],_&&(this.tracks=C.tracks.map(function(S){return new c.Track(S,b.header)}),C.header.format===1&&this.tracks[0].duration===0&&this.tracks.shift())}return y.fromUrl=function(_){return n(this,void 0,void 0,function(){var b,C;return s(this,function(A){switch(A.label){case 0:return[4,fetch(_)];case 1:return b=A.sent(),b.ok?[4,b.arrayBuffer()]:[3,3];case 2:return C=A.sent(),[2,new y(C)];case 3:throw new Error("Could not load '".concat(_,"'"))}})})},Object.defineProperty(y.prototype,"name",{get:function(){return this.header.name},set:function(_){this.header.name=_},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"duration",{get:function(){var _=this.tracks.map(function(b){return b.duration});return Math.max.apply(Math,_)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"durationTicks",{get:function(){var _=this.tracks.map(function(b){return b.durationTicks});return Math.max.apply(Math,_)},enumerable:!1,configurable:!0}),y.prototype.addTrack=function(){var _=new c.Track(void 0,this.header);return this.tracks.push(_),_},y.prototype.toArray=function(){return(0,f.encode)(this)},y.prototype.toJSON=function(){return{header:this.header.toJSON(),tracks:this.tracks.map(function(_){return _.toJSON()})}},y.prototype.fromJSON=function(_){var b=this;this.header=new l.Header,this.header.fromJSON(_.header),this.tracks=_.tracks.map(function(C){var A=new c.Track(void 0,b.header);return A.fromJSON(C),A})},y.prototype.clone=function(){var _=new y;return _.fromJSON(this.toJSON()),_},y})();o.Midi=d;var m=c0();Object.defineProperty(o,"Track",{enumerable:!0,get:function(){return m.Track}});var p=Yh();Object.defineProperty(o,"Header",{enumerable:!0,get:function(){return p.Header}});function g(y){for(var _=[],b=0;b<y.length;b++)for(var C=_.length,A=new Map,S=Array(16).fill(0),T=0,N=y[b];T<N.length;T++){var k=N[T],D=C,M=k.channel;if(M!==void 0){k.type==="programChange"&&(S[M]=k.programNumber);var E=S[M],z="".concat(E," ").concat(M);A.has(z)?D=A.get(z):(D=C+A.size,A.set(z,D))}_[D]||_.push([]),_[D].push(k)}return _}})(cs)),cs}var fC=hC();const dC=({midiData:o,onError:n})=>{const[s,a]=$.useState(!1),[l,c]=$.useState(!1),[f,d]=$.useState(null),[m,p]=$.useState(0),g=$.useRef(null),y=$.useRef([]),_=$.useRef(null),b=$.useRef(null);$.useEffect(()=>()=>{C()},[]);const C=()=>{g.current&&g.current.releaseAll(),y.current.forEach(N=>{ua.clear(N)}),y.current=[],ua.stop(),ua.cancel(),a(!1),p(0),_.current&&(cancelAnimationFrame(_.current),_.current=null),b.current=null},A=()=>{if(b.current&&f){const N=(Jg()-b.current)*1e3;p(Math.min(N,f)),N<f?_.current=requestAnimationFrame(A):(a(!1),p(0))}},S=async()=>{if(!o){n?.("No MIDI data available");return}if(s){C();return}try{c(!0),$2.state!=="running"&&await D2();const N=atob(o),k=new Uint8Array(N.length);for(let z=0;z<N.length;z++)k[z]=N.charCodeAt(z);const D=new fC.Midi(k),M=D.duration*1e3;d(M),g.current||(g.current=new Yl(Ss,{oscillator:{type:"sawtooth"},envelope:{attack:.02,decay:.1,sustain:.3,release:.3}}).toDestination());const E=g.current;D.tracks.forEach(z=>{z.notes.forEach(j=>{const F=j.time,J=j.velocity||.8,Q=ua.schedule(H=>{E.triggerAttackRelease(j.name,j.duration,H,J)},F);y.current.push(Q)})}),ua.start(),b.current=Jg(),a(!0),c(!1),A(),ua.schedule(()=>{C()},D.duration)}catch(N){console.error("Error playing MIDI:",N),n?.(`Failed to play MIDI: ${N instanceof Error?N.message:"Unknown error"}`),c(!1),a(!1)}},T=N=>{const k=Math.floor(N/1e3),D=Math.floor(k/60),M=k%60;return`${D}:${M.toString().padStart(2,"0")}`};return o?x.jsxs("div",{style:{marginTop:"15px",padding:"15px",backgroundColor:"rgba(33, 150, 243, 0.1)",borderRadius:"4px",border:"1px solid #2196f3"},children:[x.jsx("div",{style:{marginBottom:"10px"},children:x.jsx("strong",{children:" Audio Preview"})}),x.jsx("div",{style:{marginBottom:"10px"},children:x.jsx("button",{onClick:S,disabled:l,style:{padding:"10px 20px",backgroundColor:s?"#f44336":"#2196f3",color:"white",border:"none",borderRadius:"4px",cursor:l?"not-allowed":"pointer",fontSize:"0.9em",fontWeight:"bold",opacity:l?.6:1},children:l?"Loading...":s?" Stop":" Play"})}),f!==null&&x.jsxs("div",{style:{fontSize:"0.85em",color:"#666"},children:[x.jsxs("div",{children:[T(m)," / ",T(f)]}),x.jsx("div",{style:{width:"100%",height:"4px",backgroundColor:"#ddd",borderRadius:"2px",marginTop:"5px",overflow:"hidden"},children:x.jsx("div",{style:{width:`${f?m/f*100:0}%`,height:"100%",backgroundColor:"#2196f3",transition:"width 0.1s linear"}})})]}),x.jsx("div",{style:{marginTop:"10px",fontSize:"0.8em",color:"#666",fontStyle:"italic"},children:"Note: Preview uses basic synthesis. For best quality, download and open in your DAW."})]}):null},pC=({midiData:o,midiPath:n,musicConfig:s})=>{if(!o&&!n)return null;const a=o?`${Math.round(o.length*3/4/1024)} KB`:"Unknown",l=n&&n.split("/").pop()||"generated_music.mid";return x.jsxs("div",{style:{marginTop:"10px",padding:"15px",backgroundColor:"rgba(76, 175, 80, 0.1)",borderRadius:"4px",border:"1px solid #4caf50"},children:[x.jsx("div",{style:{marginBottom:"10px"},children:x.jsx("strong",{children:" MIDI Generated"})}),x.jsxs("div",{style:{fontSize:"0.9em",marginBottom:"8px"},children:[x.jsxs("div",{children:[x.jsx("strong",{children:"Filename:"})," ",l]}),x.jsxs("div",{children:[x.jsx("strong",{children:"Size:"})," ",a]}),s&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{children:[x.jsx("strong",{children:"Key:"})," ",s.key||"N/A"," ",s.mode||""]}),x.jsxs("div",{children:[x.jsx("strong",{children:"Tempo:"})," ",s.tempo||"N/A"," BPM"]}),s.progression&&x.jsxs("div",{children:[x.jsx("strong",{children:"Progression:"})," ",s.progression]})]})]}),n&&x.jsxs("div",{style:{marginTop:"5px",fontSize:"0.8em",fontFamily:"monospace",wordBreak:"break-all",color:"#666"},children:["Path: ",n]}),o&&x.jsx("div",{style:{marginTop:"15px"},children:x.jsx(dC,{midiData:o})})]})},Er=({value:o,min:n=0,max:s=1,step:a=.01,label:l,unit:c="",orientation:f="vertical",onChange:d,onDragStart:m,onDragEnd:p,color:g="#6366f1",showValue:y=!0,logarithmic:_=!1,width:b=30,height:C=200})=>{const[A,S]=$.useState(!1),[T,N]=$.useState(o),k=$.useRef(null);$.useEffect(()=>{N(o)},[o]);const D=H=>{if(_){const te=Math.log(n||.001),Z=Math.log(s);return(Math.log(H)-te)/(Z-te)}return(H-n)/(s-n)},M=H=>{if(_){const te=Math.log(n||.001),Z=Math.log(s),ne=te+H*(Z-te);return Math.exp(ne)}return n+H*(s-n)},E=H=>{S(!0),m?.(),z(H)},z=H=>{if(!A&&H.type!=="mousedown"||!k.current)return;const te=k.current.getBoundingClientRect();let Z;if(f==="vertical"){const ee=H.clientY-te.top;Z=1-Math.max(0,Math.min(1,ee/te.height))}else{const ee=H.clientX-te.left;Z=Math.max(0,Math.min(1,ee/te.width))}const ne=M(Z),V=Math.round(ne/a)*a,G=Math.max(n,Math.min(s,V));N(G),d?.(G)},j=()=>{A&&(S(!1),p?.())};$.useEffect(()=>{if(A){const H=Z=>z(Z),te=()=>j();return window.addEventListener("mousemove",H),window.addEventListener("mouseup",te),()=>{window.removeEventListener("mousemove",H),window.removeEventListener("mouseup",te)}}},[A]);const F=D(T),J=F*100,Q=H=>c==="dB"?H<=0?"-":`${H.toFixed(1)}${c}`:c==="%"?`${Math.round(H*100)}${c}`:c==="Hz"||c==="ms"||c==="s"?`${H.toFixed(1)}${c}`:H.toFixed(2);return x.jsxs("div",{style:{display:"flex",flexDirection:f==="vertical"?"column":"row",alignItems:"center",gap:"8px",width:f==="vertical"?b:"auto",height:f==="vertical"?"auto":C},children:[l&&x.jsx("div",{style:{fontSize:"0.75em",color:"#fff",fontWeight:"bold",textAlign:"center",width:f==="vertical"?"100%":"60px"},children:l}),x.jsxs("div",{ref:k,style:{position:"relative",width:f==="vertical"?b:C,height:f==="vertical"?C:b,backgroundColor:"#0f0f0f",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:"4px",cursor:"pointer",boxShadow:A?`0 0 10px ${g}`:"none",transition:"box-shadow 0.2s"},onMouseDown:E,children:[f==="vertical"?x.jsx("div",{style:{position:"absolute",bottom:0,width:"100%",height:`${J}%`,backgroundColor:g,opacity:.3,borderRadius:"2px 2px 0 0",transition:A?"none":"height 0.1s"}}):x.jsx("div",{style:{position:"absolute",left:0,width:`${J}%`,height:"100%",backgroundColor:g,opacity:.3,borderRadius:"2px 0 0 2px",transition:A?"none":"width 0.1s"}}),f==="vertical"&&x.jsxs("div",{style:{position:"absolute",right:"-25px",top:0,bottom:0,width:"20px",fontSize:"0.65em",color:"#888",display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"4px 0"},children:[x.jsx("span",{children:Q(s)}),x.jsx("span",{children:Q((s+n)/2)}),x.jsx("span",{children:Q(n)})]}),f==="vertical"?x.jsx("div",{style:{position:"absolute",bottom:`${J}%`,left:"50%",transform:"translate(-50%, 50%)",width:b+8,height:"12px",backgroundColor:g,border:"2px solid rgba(255, 255, 255, 0.3)",borderRadius:"4px",cursor:"grab",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.5)",transition:A?"none":"bottom 0.1s"}}):x.jsx("div",{style:{position:"absolute",left:`${J}%`,top:"50%",transform:"translate(-50%, -50%)",width:"12px",height:C+8,backgroundColor:g,border:"2px solid rgba(255, 255, 255, 0.3)",borderRadius:"4px",cursor:"grab",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.5)",transition:A?"none":"left 0.1s"}}),A&&x.jsx("div",{style:{position:"absolute",inset:"-4px",borderRadius:"8px",boxShadow:`0 0 20px ${g}`,pointerEvents:"none",animation:"pulse 1s ease-in-out infinite"}})]}),y&&x.jsx("div",{style:{fontSize:"0.7em",color:"#888",minWidth:"50px",textAlign:"center",fontFamily:"monospace"},children:Q(T)})]})},My=({level:o,peak:n,label:s})=>{const[a,l]=$.useState(0);$.useEffect(()=>{if(n!==void 0&&n>a){l(n);const d=setTimeout(()=>l(0),1e3);return()=>clearTimeout(d)}},[n,a]);const c=d=>d<.6?"#4caf50":d<.8?"#ffeb3b":"#f44336",f=Math.min(1,Math.max(0,o));return x.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",width:"20px"},children:[s&&x.jsx("span",{style:{fontSize:"0.7em",color:"#888"},children:s}),x.jsxs("div",{style:{width:"20px",height:"120px",backgroundColor:"#1a1a1a",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"2px",position:"relative",overflow:"hidden"},children:[x.jsx("div",{style:{position:"absolute",bottom:0,width:"100%",height:`${f*100}%`,backgroundColor:c(f),transition:"height 0.05s linear",boxShadow:`0 0 4px ${c(f)}`}}),a>0&&x.jsx("div",{style:{position:"absolute",bottom:`${a*100}%`,width:"100%",height:"2px",backgroundColor:"#fff",boxShadow:"0 0 2px #fff"}}),f>=1&&x.jsx("div",{style:{position:"absolute",top:0,width:"100%",height:"4px",backgroundColor:"#f44336",animation:"blink 0.5s infinite"}})]})]})},mC=({audioSource:o,width:n=800,height:s=200,color:a="#6366f1",syncToPlayback:l=!0,isPlaying:c=!1})=>{const f=$.useRef(null),d=$.useRef(null),m=$.useRef(null),[p,g]=$.useState(new Float32Array(1024));return $.useEffect(()=>{if(!f.current)return;const y=f.current,_=y.getContext("2d");if(!_)return;o&&(d.current=new Ql("waveform",1024),o.connect(d.current));const b=()=>{if(!_||!y)return;_.fillStyle="#0a0a0a",_.fillRect(0,0,y.width,y.height);let C=p;d.current&&c&&(C=d.current.getValue(),g(C)),_.strokeStyle=a,_.lineWidth=2,_.beginPath();const A=y.width/C.length;let S=0;for(let T=0;T<C.length;T++){const k=(C[T]*.5+.5)*y.height;T===0?_.moveTo(S,k):_.lineTo(S,k),S+=A}_.stroke(),_.strokeStyle="rgba(255, 255, 255, 0.2)",_.lineWidth=1,_.beginPath(),_.moveTo(0,y.height/2),_.lineTo(y.width,y.height/2),_.stroke(),_.strokeStyle="rgba(255, 255, 255, 0.05)";for(let T=0;T<10;T++){const N=y.height/10*T;_.beginPath(),_.moveTo(0,N),_.lineTo(y.width,N),_.stroke()}_.shadowBlur=10,_.shadowColor=a,_.stroke(),l&&c&&(m.current=requestAnimationFrame(b))};return b(),()=>{m.current&&cancelAnimationFrame(m.current),d.current&&d.current.dispose()}},[o,c,l,a,p]),x.jsxs("div",{style:{position:"relative",width:n,height:s},children:[x.jsx("canvas",{ref:f,width:n,height:s,style:{width:"100%",height:"100%",backgroundColor:"#0a0a0a",borderRadius:"4px",border:"1px solid rgba(255, 255, 255, 0.1)"}}),!c&&x.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"#666",fontSize:"0.9em",fontStyle:"italic"},children:"Waveform will appear during playback"})]})},gC=({channels:o=[],onChannelChange:n,showWaveform:s=!0})=>{const[a,l]=$.useState(.8),[c,f]=$.useState(.3),d=[{id:"1",name:"Drums",volume:.8,pan:0,mute:!1,solo:!1,send1:0,send2:0,lowCut:20,highCut:2e4},{id:"2",name:"Bass",volume:.75,pan:0,mute:!1,solo:!1,send1:0,send2:0,lowCut:20,highCut:2e4},{id:"3",name:"Chords",volume:.7,pan:0,mute:!1,solo:!1,send1:.3,send2:0,lowCut:20,highCut:2e4},{id:"4",name:"Melody",volume:.75,pan:0,mute:!1,solo:!1,send1:.2,send2:0,lowCut:20,highCut:2e4},{id:"5",name:"Vocal",volume:.8,pan:0,mute:!1,solo:!1,send1:.4,send2:.2,lowCut:80,highCut:15e3}],m=o.length>0?o:d;return $.useEffect(()=>{const p=setInterval(()=>{f(.2+Math.random()*.6)},100);return()=>clearInterval(p)},[]),x.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",backgroundColor:"#1a1a1a"},children:[s&&x.jsx("div",{style:{padding:"10px",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:x.jsx(mC,{width:800,height:120,color:"#6366f1",syncToPlayback:!0,isPlaying:!0})}),x.jsx("div",{style:{flex:1,display:"flex",overflowX:"auto",overflowY:"hidden",padding:"10px",gap:"8px"},children:m.map(p=>x.jsx(yC,{channel:p,onChange:g=>n?.(p.id,g)},p.id))}),x.jsxs("div",{style:{padding:"15px",backgroundColor:"#0f0f0f",borderTop:"2px solid rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",gap:"20px"},children:[x.jsx("div",{style:{fontSize:"0.9em",color:"#fff",fontWeight:"bold",minWidth:"60px"},children:"Master"}),x.jsx(My,{level:c}),x.jsx(Er,{value:a,min:0,max:1,step:.01,orientation:"vertical",width:40,height:150,onChange:l,showValue:!0,unit:"%",color:"#4caf50"}),x.jsxs("div",{style:{flex:1,display:"flex",justifyContent:"space-between",alignItems:"center",color:"#888",fontSize:"0.85em"},children:[x.jsxs("div",{children:["Output: ",Math.round(a*100),"%"]}),x.jsxs("div",{children:["Peak: ",Math.round(c*100),"%"]})]})]})]})},yC=({channel:o,onChange:n})=>{const[s,a]=$.useState(.3+Math.random()*.4);return $.useEffect(()=>{const l=setInterval(()=>{a(.2+Math.random()*.6)},100);return()=>clearInterval(l)},[]),x.jsxs("div",{style:{width:"80px",height:"100%",backgroundColor:"#1a1a1a",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"4px",padding:"10px 8px",display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[x.jsx("div",{style:{fontSize:"0.75em",color:"#fff",fontWeight:"bold",textAlign:"center",width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:o.name}),x.jsx(My,{level:s,label:o.id}),x.jsx(Er,{value:o.volume,min:0,max:1,step:.01,orientation:"vertical",width:30,height:200,onChange:l=>n({volume:l}),showValue:!0,unit:"%",color:o.mute?"#666":"#6366f1"}),x.jsxs("div",{style:{width:"100%"},children:[x.jsx("div",{style:{fontSize:"0.7em",color:"#888",marginBottom:"4px",textAlign:"center"},children:"Pan"}),x.jsx(Er,{value:o.pan,min:-1,max:1,step:.01,orientation:"horizontal",width:60,height:30,onChange:l=>n({pan:l}),showValue:!1,color:"#888"}),x.jsxs("div",{style:{fontSize:"0.65em",color:"#666",display:"flex",justifyContent:"space-between",padding:"0 4px",marginTop:"2px"},children:[x.jsx("span",{children:"L"}),x.jsx("span",{children:"C"}),x.jsx("span",{children:"R"})]})]}),x.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:"column",gap:"4px"},children:[x.jsx("div",{style:{fontSize:"0.65em",color:"#888",textAlign:"center"},children:"Sends"}),x.jsx(Er,{value:o.send1,min:0,max:1,step:.01,orientation:"vertical",width:20,height:60,onChange:l=>n({send1:l}),showValue:!1,color:"#ff9800"}),x.jsx(Er,{value:o.send2,min:0,max:1,step:.01,orientation:"vertical",width:20,height:60,onChange:l=>n({send2:l}),showValue:!1,color:"#9c27b0"})]}),x.jsxs("div",{style:{display:"flex",gap:"4px",width:"100%"},children:[x.jsx("button",{onClick:()=>n({mute:!o.mute}),style:{flex:1,padding:"6px",backgroundColor:o.mute?"#f44336":"#333",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"4px",color:"#fff",cursor:"pointer",fontSize:"0.7em",fontWeight:"bold"},title:"Mute",children:"M"}),x.jsx("button",{onClick:()=>n({solo:!o.solo}),style:{flex:1,padding:"6px",backgroundColor:o.solo?"#ffeb3b":"#333",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"4px",color:o.solo?"#000":"#fff",cursor:"pointer",fontSize:"0.7em",fontWeight:"bold"},title:"Solo",children:"S"})]})]})},vC=({tracks:o=[],tempo:n=120,timeSignature:s=[4,4],onRegionClick:a})=>{const[l,c]=$.useState(1),[f,d]=$.useState(0),[m,p]=$.useState(0),g=$.useRef(null),[y,_]=$.useState(!1),b=80*l,C=Math.max(32,...o.flatMap(N=>N.regions.map(k=>k.start+k.length))),A=N=>{c(k=>Math.max(.5,Math.min(4,k+N)))},S=N=>{N.shiftKey?(N.preventDefault(),A(N.deltaY>0?-.1:.1)):d(k=>{const D=Math.max(0,C*b-(g.current?.clientWidth||0));return Math.max(0,Math.min(D,k+N.deltaY))})},T=N=>N*b;return x.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",backgroundColor:"#1a1a1a",color:"#fff",overflow:"hidden"},children:[x.jsx("div",{style:{height:"30px",backgroundColor:"#0f0f0f",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",position:"relative",overflow:"hidden"},children:x.jsx("div",{style:{position:"absolute",left:`${-f}px`,display:"flex",height:"100%"},children:Array.from({length:C+1}).map((N,k)=>x.jsx("div",{style:{width:`${b}px`,borderLeft:"1px solid rgba(255, 255, 255, 0.2)",paddingLeft:"4px",fontSize:"0.75em",color:"#888",display:"flex",alignItems:"center"},children:k%4===0&&x.jsx("span",{children:k})},k))})}),x.jsxs("div",{ref:g,onWheel:S,style:{flex:1,overflow:"auto",position:"relative",backgroundColor:"#1a1a1a"},children:[x.jsx("div",{style:{position:"absolute",top:0,left:`${-f}px`,width:`${C*b}px`,height:"100%",backgroundImage:`
              repeating-linear-gradient(
                to right,
                transparent,
                transparent ${b-1}px,
                rgba(255, 255, 255, 0.05) ${b-1}px,
                rgba(255, 255, 255, 0.05) ${b}px
              )
            `,pointerEvents:"none"}}),x.jsx("div",{style:{position:"absolute",left:`${T(m)-f}px`,top:0,bottom:0,width:"2px",backgroundColor:"#4caf50",zIndex:10,pointerEvents:"none",boxShadow:"0 0 4px #4caf50"},children:x.jsx("div",{style:{position:"absolute",top:0,left:"-6px",width:"14px",height:"14px",backgroundColor:"#4caf50",borderRadius:"50%",border:"2px solid #1a1a1a"}})}),x.jsx("div",{style:{position:"relative",zIndex:1},children:o.length===0?x.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#666",fontSize:"0.9em"},children:"No tracks yet. Generate music to see it here."}):o.map((N,k)=>x.jsxs("div",{style:{height:"80px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",position:"relative"},children:[x.jsx("div",{style:{width:"150px",padding:"10px",backgroundColor:"#0f0f0f",borderRight:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",fontSize:"0.85em",flexShrink:0},children:N.name}),x.jsx("div",{style:{flex:1,position:"relative",overflow:"hidden"},children:N.regions.map(D=>x.jsx("div",{onClick:()=>a?.(D),style:{position:"absolute",left:`${T(D.start)-f}px`,top:"10px",width:`${T(D.length)}px`,height:"60px",backgroundColor:D.color||"#6366f1",borderRadius:"4px",border:"1px solid rgba(255, 255, 255, 0.3)",cursor:"pointer",display:"flex",alignItems:"center",padding:"0 8px",fontSize:"0.8em",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.3)",transition:"transform 0.1s"},onMouseEnter:M=>{M.currentTarget.style.transform="scale(1.02)"},onMouseLeave:M=>{M.currentTarget.style.transform="scale(1)"},children:D.name},D.id))})]},N.id))})]}),x.jsxs("div",{style:{padding:"8px",backgroundColor:"#0f0f0f",borderTop:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"0.85em"},children:[x.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[x.jsx("button",{onClick:()=>A(-.1),style:{padding:"4px 8px",backgroundColor:"#333",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"4px",color:"#fff",cursor:"pointer"},children:""}),x.jsxs("span",{style:{minWidth:"60px",textAlign:"center"},children:[Math.round(l*100),"%"]}),x.jsx("button",{onClick:()=>A(.1),style:{padding:"4px 8px",backgroundColor:"#333",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"4px",color:"#fff",cursor:"pointer"},children:"+"})]}),x.jsxs("div",{style:{color:"#888"},children:[C," bars"]})]})]})},_C=({tempo:o=120,timeSignature:n=[4,4],onPlay:s,onPause:a,onStop:l,onRecord:c,isPlaying:f=!1,isRecording:d=!1})=>{const[m,p]=$.useState(o),[g,y]=$.useState(!1);return x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",padding:"12px 20px",backgroundColor:"#1a1a1a",borderTop:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"0 0 8px 8px"},children:[x.jsxs("div",{style:{display:"flex",gap:"8px"},children:[x.jsx("button",{onClick:l,style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#333",border:"1px solid rgba(255, 255, 255, 0.2)",color:"#fff",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"center"},title:"Stop",children:""}),x.jsx("button",{onClick:f?a:s,style:{width:"50px",height:"50px",borderRadius:"50%",backgroundColor:f?"#4caf50":"#6366f1",border:"none",color:"#fff",cursor:"pointer",fontSize:"20px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},title:f?"Pause":"Play",children:f?"":""}),x.jsx("button",{onClick:c,style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:d?"#f44336":"#333",border:d?"2px solid #f44336":"1px solid rgba(255, 255, 255, 0.2)",color:"#fff",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"center"},title:"Record",children:""})]}),x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 12px",backgroundColor:"#2a2a2a",borderRadius:"4px",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[x.jsx("label",{style:{fontSize:"0.85em",color:"#aaa"},children:"BPM"}),x.jsx("input",{type:"number",value:m,onChange:_=>p(Number(_.target.value)),min:"60",max:"200",style:{width:"60px",padding:"4px 8px",backgroundColor:"#1a1a1a",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"4px",color:"#fff",fontSize:"0.9em",textAlign:"center"}})]}),x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"6px 12px",backgroundColor:"#2a2a2a",borderRadius:"4px",border:"1px solid rgba(255, 255, 255, 0.1)",fontSize:"0.9em",color:"#fff"},children:[x.jsx("span",{children:n[0]}),x.jsx("span",{children:"/"}),x.jsx("span",{children:n[1]})]}),x.jsxs("button",{onClick:()=>y(!g),style:{padding:"6px 12px",backgroundColor:g?"#6366f1":"#333",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"4px",color:"#fff",cursor:"pointer",fontSize:"0.85em"},title:"Toggle Loop",children:[" ",g?"ON":"OFF"]}),x.jsx("div",{style:{marginLeft:"auto",padding:"6px 12px",backgroundColor:"#2a2a2a",borderRadius:"4px",border:"1px solid rgba(255, 255, 255, 0.1)",fontSize:"0.9em",color:"#fff",fontFamily:"monospace"},children:"00:00:00"})]})},bC=({onReady:o,onSendMessage:n,initialMessage:s})=>{const[a,l]=$.useState([]),[c,f]=$.useState(""),[d,m]=$.useState(!1),[p,g]=$.useState(),[y,_]=$.useState(!1),[b,C]=$.useState(null),A=$.useRef(null),S=$.useRef(null);$.useEffect(()=>{s&&a.length===0&&N(s)},[s]),$.useEffect(()=>{T()},[a]);const T=()=>{A.current?.scrollIntoView({behavior:"smooth"})},N=async E=>{const z=E||c.trim();if(!z||d)return;const j={role:"user",content:z,timestamp:new Date};l(F=>[...F,j]),f(""),m(!0);try{const F=await(n||k)(z,p);if(F.session_id&&g(F.session_id),F.ready){_(!0),C(F.intent),o&&F.intent&&o(F.intent);const J={role:"system",content:F.message||"Ready to generate music!",timestamp:new Date};l(Q=>[...Q,J])}else if(F.question){const J={role:"system",content:F.question,timestamp:new Date};l(Q=>[...Q,J])}}catch(F){console.error("Error sending message:",F);const J={role:"system",content:`Error: ${F instanceof Error?F.message:"Unknown error"}`,timestamp:new Date};l(Q=>[...Q,J])}finally{m(!1),S.current?.focus()}},k=async(E,z)=>(await fetch("http://localhost:8000/interrogate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:E,session_id:z})})).json(),D=E=>{E.key==="Enter"&&!E.shiftKey&&(E.preventDefault(),N())},M=E=>E.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return x.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"500px",border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"#fff",overflow:"hidden"},children:[x.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"15px",backgroundColor:"#f9f9f9"},children:[a.length===0&&x.jsx("div",{style:{textAlign:"center",color:"#666",fontStyle:"italic",marginTop:"20px"},children:"Start a conversation about how you're feeling..."}),a.map((E,z)=>x.jsx("div",{style:{marginBottom:"15px",display:"flex",flexDirection:E.role==="user"?"row-reverse":"row"},children:x.jsxs("div",{style:{maxWidth:"70%",padding:"10px 15px",borderRadius:"12px",backgroundColor:E.role==="user"?"#2196f3":"#e0e0e0",color:E.role==="user"?"#fff":"#000",wordWrap:"break-word"},children:[x.jsx("div",{children:E.content}),x.jsx("div",{style:{fontSize:"0.7em",opacity:.7,marginTop:"5px"},children:M(E.timestamp)})]})},z)),d&&x.jsx("div",{style:{display:"flex",justifyContent:"flex-start",marginBottom:"15px"},children:x.jsx("div",{style:{padding:"10px 15px",borderRadius:"12px",backgroundColor:"#e0e0e0",color:"#666"},children:x.jsx("span",{style:{animation:"pulse 1.5s ease-in-out infinite"},children:"..."})})}),x.jsx("div",{ref:A})]}),x.jsxs("div",{style:{borderTop:"1px solid #ddd",padding:"15px",backgroundColor:"#fff"},children:[y&&b&&x.jsxs("div",{style:{marginBottom:"10px",padding:"10px",backgroundColor:"#4caf50",color:"white",borderRadius:"4px",fontSize:"0.9em"},children:[" Ready to generate! Emotion: ",b.base_emotion," (",b.intensity,"): ",b.specific_emotion]}),x.jsxs("div",{style:{display:"flex",gap:"10px"},children:[x.jsx("input",{ref:S,type:"text",value:c,onChange:E=>f(E.target.value),onKeyPress:D,placeholder:y?"Type to continue conversation...":"Describe how you're feeling...",disabled:d,style:{flex:1,padding:"10px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"0.9em"}}),x.jsx("button",{onClick:()=>N(),disabled:d||!c.trim(),style:{padding:"10px 20px",backgroundColor:"#2196f3",color:"white",border:"none",borderRadius:"4px",cursor:d?"not-allowed":"pointer",opacity:d||!c.trim()?.6:1},children:"Send"})]})]})]})},xC=({selectedEmotion:o,onRuleSelected:n})=>{const[s,a]=$.useState(null),[l,c]=$.useState(!1),[f,d]=$.useState(null),[m,p]=$.useState([]),[g,y]=$.useState(new Set),[_,b]=$.useState(null);$.useEffect(()=>{C()},[]),$.useEffect(()=>{o&&A(o)},[o]);const C=async()=>{c(!0);try{const D=await(await fetch("http://localhost:8000/rules/breaking")).json();D.success&&a(D.rules)}catch(k){d("Failed to load rule-breaking options"),console.error(k)}finally{c(!1)}},A=async k=>{try{const M=await(await fetch("http://localhost:8000/rules/suggest",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({emotion:k})})).json();M.success&&p(M.suggestions)}catch(D){console.error("Failed to get suggestions:",D)}},S=(k,D,M)=>{const E=`${k}:${D}`,z=new Set(g);z.has(E)?z.delete(E):(z.add(E),n?.({category:k,technique:D,effect:M})),y(z)},T={harmony:"#6366f1",rhythm:"#f59e0b",arrangement:"#10b981",production:"#ec4899"},N={harmony:"",rhythm:"",arrangement:"",production:""};return l?x.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#666"},children:"Loading rule-breaking options..."}):f?x.jsxs("div",{style:{padding:"20px",color:"#f44336"},children:[f,x.jsx("button",{onClick:C,style:{marginLeft:"10px"},children:"Retry"})]}):x.jsxs("div",{style:{padding:"15px"},children:[x.jsxs("div",{style:{marginBottom:"15px"},children:[x.jsx("h4",{style:{margin:"0 0 10px 0",color:"#333"},children:"Rule-Breaking Techniques"}),x.jsx("p",{style:{margin:0,fontSize:"0.85em",color:"#666"},children:"Sometimes breaking the rules creates the most emotional impact."})]}),m.length>0&&x.jsxs("div",{style:{marginBottom:"15px",padding:"10px",backgroundColor:"rgba(99, 102, 241, 0.1)",borderRadius:"8px",border:"1px solid rgba(99, 102, 241, 0.3)"},children:[x.jsxs("div",{style:{fontSize:"0.85em",fontWeight:"bold",marginBottom:"8px"},children:['Suggested for "',o,'":']}),x.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:m.map(k=>x.jsx("span",{style:{padding:"4px 8px",backgroundColor:"#6366f1",color:"white",borderRadius:"4px",fontSize:"0.8em"},children:k.replace(/_/g," ")},k))})]}),s&&Object.entries(s).map(([k,D])=>x.jsxs("div",{style:{marginBottom:"10px",border:"1px solid #ddd",borderRadius:"8px",overflow:"hidden"},children:[x.jsxs("div",{onClick:()=>b(_===k?null:k),style:{padding:"12px 15px",backgroundColor:T[k]||"#888",color:"white",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",fontWeight:"bold"},children:[x.jsxs("span",{children:[N[k]," ",k.charAt(0).toUpperCase()+k.slice(1)]}),x.jsx("span",{children:_===k?"":""})]}),_===k&&x.jsx("div",{style:{padding:"10px"},children:Object.entries(D).map(([M,E])=>{const z=`${k}:${M}`,j=g.has(z),F=m.includes(M);return x.jsxs("div",{onClick:()=>S(k,M,E),style:{padding:"10px",marginBottom:"6px",backgroundColor:j?"rgba(99, 102, 241, 0.2)":F?"rgba(245, 158, 11, 0.1)":"#f9f9f9",border:`2px solid ${j?"#6366f1":F?"#f59e0b":"transparent"}`,borderRadius:"6px",cursor:"pointer",transition:"all 0.2s"},children:[x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[x.jsx("span",{style:{fontWeight:500},children:M.replace(/_/g," ")}),j&&x.jsx("span",{children:""}),F&&!j&&x.jsx("span",{style:{fontSize:"0.75em",color:"#f59e0b"},children:"suggested"})]}),x.jsx("div",{style:{fontSize:"0.85em",color:"#666",marginTop:"4px"},children:E})]},M)})})]},k)),g.size>0&&x.jsxs("div",{style:{marginTop:"15px",padding:"10px",backgroundColor:"#e8f5e9",borderRadius:"8px",border:"1px solid #4caf50"},children:[x.jsxs("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:["Selected Rules (",g.size,"):"]}),x.jsx("div",{style:{fontSize:"0.85em"},children:Array.from(g).map(k=>x.jsx("span",{style:{display:"inline-block",padding:"2px 6px",margin:"2px",backgroundColor:"#4caf50",color:"white",borderRadius:"3px"},children:k.split(":")[1].replace(/_/g," ")},k))})]})]})},SC=[{id:1,frequency:80,gain:0,q:.7,type:"lowshelf",enabled:!0},{id:2,frequency:250,gain:0,q:1,type:"peaking",enabled:!0},{id:3,frequency:1e3,gain:0,q:1,type:"peaking",enabled:!0},{id:4,frequency:4e3,gain:0,q:1,type:"peaking",enabled:!0},{id:5,frequency:12e3,gain:0,q:.7,type:"highshelf",enabled:!0}],TC={flat:[{gain:0},{gain:0},{gain:0},{gain:0},{gain:0}],warmth:[{gain:3},{gain:1},{gain:-1},{gain:0},{gain:-2}],brightness:[{gain:-2},{gain:0},{gain:1},{gain:3},{gain:4}],vocal_presence:[{gain:-2},{gain:-1},{gain:2},{gain:4},{gain:1}],bass_boost:[{gain:6},{gain:3},{gain:0},{gain:0},{gain:0}],telephone:[{gain:-12},{gain:0},{gain:6},{gain:0},{gain:-12}],air:[{gain:0},{gain:0},{gain:0},{gain:2},{gain:5}],mud_cut:[{gain:0},{gain:-4},{gain:0},{gain:0},{gain:0}]},Ey=({channelId:o,channelName:n="Master",onEQChange:s})=>{const[a,l]=$.useState(SC),[c,f]=$.useState(null),[d,m]=$.useState(!1),p=(b,C)=>{const A=a.map(S=>S.id===b?{...S,...C}:S);l(A),s?.(A)},g=b=>{const C=TC[b];if(!C)return;const A=a.map((S,T)=>({...S,...C[T]}));l(A),s?.(A)},y=b=>(Math.log10(b)-Math.log10(20))/(Math.log10(2e4)-Math.log10(20))*100,_=b=>50-b/12*50;return x.jsxs("div",{style:{backgroundColor:"#1a1a1a",borderRadius:"8px",padding:"15px",color:"#fff"},children:[x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[x.jsxs("span",{style:{fontWeight:"bold"},children:["EQ - ",n]}),x.jsx("button",{onClick:()=>m(!d),style:{padding:"4px 8px",backgroundColor:d?"#f44336":"#4caf50",border:"none",borderRadius:"4px",color:"#fff",fontSize:"0.75em",cursor:"pointer"},children:d?"BYPASSED":"ACTIVE"})]}),x.jsxs("select",{onChange:b=>g(b.target.value),style:{padding:"4px 8px",backgroundColor:"#333",border:"1px solid #555",borderRadius:"4px",color:"#fff",fontSize:"0.85em"},children:[x.jsx("option",{value:"",children:"Presets..."}),x.jsx("option",{value:"flat",children:"Flat"}),x.jsx("option",{value:"warmth",children:"Warmth"}),x.jsx("option",{value:"brightness",children:"Brightness"}),x.jsx("option",{value:"vocal_presence",children:"Vocal Presence"}),x.jsx("option",{value:"bass_boost",children:"Bass Boost"}),x.jsx("option",{value:"telephone",children:"Telephone"}),x.jsx("option",{value:"air",children:"Air"}),x.jsx("option",{value:"mud_cut",children:"Mud Cut"})]})]}),x.jsxs("div",{style:{position:"relative",height:"150px",backgroundColor:"#0f0f0f",borderRadius:"4px",marginBottom:"15px",overflow:"hidden",opacity:d?.5:1},children:[x.jsxs("svg",{width:"100%",height:"100%",style:{position:"absolute"},children:[[-12,-6,0,6,12].map(b=>x.jsxs("g",{children:[x.jsx("line",{x1:"0",y1:`${_(b)}%`,x2:"100%",y2:`${_(b)}%`,stroke:b===0?"#444":"#222",strokeWidth:b===0?2:1}),x.jsxs("text",{x:"5",y:`${_(b)}%`,fill:"#666",fontSize:"10",dominantBaseline:"middle",children:[b>0?"+":"",b,"dB"]})]},b)),[100,1e3,1e4].map(b=>x.jsxs("g",{children:[x.jsx("line",{x1:`${y(b)}%`,y1:"0",x2:`${y(b)}%`,y2:"100%",stroke:"#222",strokeWidth:"1"}),x.jsx("text",{x:`${y(b)}%`,y:"95%",fill:"#666",fontSize:"10",textAnchor:"middle",children:b>=1e3?`${b/1e3}k`:b})]},b))]}),a.map(b=>x.jsx("div",{onClick:()=>f(c===b.id?null:b.id),style:{position:"absolute",left:`${y(b.frequency)}%`,top:`${_(b.gain)}%`,width:"16px",height:"16px",borderRadius:"50%",backgroundColor:c===b.id?"#6366f1":b.enabled?"#4caf50":"#666",border:"2px solid #fff",transform:"translate(-50%, -50%)",cursor:"pointer",zIndex:10,boxShadow:c===b.id?"0 0 10px #6366f1":"none"}},b.id))]}),x.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"10px"},children:a.map(b=>x.jsxs("div",{onClick:()=>f(b.id),style:{padding:"10px",backgroundColor:c===b.id?"#2a2a4a":"#222",borderRadius:"4px",border:c===b.id?"2px solid #6366f1":"2px solid transparent",cursor:"pointer"},children:[x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[x.jsxs("span",{style:{fontSize:"0.75em",color:"#888"},children:["Band ",b.id]}),x.jsx("button",{onClick:C=>{C.stopPropagation(),p(b.id,{enabled:!b.enabled})},style:{width:"16px",height:"16px",borderRadius:"50%",backgroundColor:b.enabled?"#4caf50":"#666",border:"none",cursor:"pointer"}})]}),x.jsxs("div",{style:{marginBottom:"6px"},children:[x.jsx("label",{style:{fontSize:"0.7em",color:"#888"},children:"Freq"}),x.jsx("input",{type:"range",min:"20",max:"20000",value:b.frequency,onChange:C=>p(b.id,{frequency:Number(C.target.value)}),style:{width:"100%",height:"4px"}}),x.jsxs("div",{style:{fontSize:"0.75em",textAlign:"center"},children:[b.frequency>=1e3?`${(b.frequency/1e3).toFixed(1)}k`:b.frequency,"Hz"]})]}),x.jsxs("div",{style:{marginBottom:"6px"},children:[x.jsx("label",{style:{fontSize:"0.7em",color:"#888"},children:"Gain"}),x.jsx("input",{type:"range",min:"-12",max:"12",step:"0.5",value:b.gain,onChange:C=>p(b.id,{gain:Number(C.target.value)}),style:{width:"100%",height:"4px"}}),x.jsxs("div",{style:{fontSize:"0.75em",textAlign:"center"},children:[b.gain>0?"+":"",b.gain,"dB"]})]}),x.jsxs("div",{children:[x.jsx("label",{style:{fontSize:"0.7em",color:"#888"},children:"Q"}),x.jsx("input",{type:"range",min:"0.1",max:"10",step:"0.1",value:b.q,onChange:C=>p(b.id,{q:Number(C.target.value)}),style:{width:"100%",height:"4px"}}),x.jsx("div",{style:{fontSize:"0.75em",textAlign:"center"},children:b.q.toFixed(1)})]})]},b.id))})]})},kh={natural:{name:"Natural",pitch:0,formant:0,breathiness:20,vibrato:30,warmth:50},intimate:{name:"Intimate",pitch:-2,formant:-1,breathiness:40,vibrato:15,warmth:70},powerful:{name:"Powerful",pitch:2,formant:1,breathiness:10,vibrato:40,warmth:40},ethereal:{name:"Ethereal",pitch:5,formant:3,breathiness:50,vibrato:60,warmth:60},raspy:{name:"Raspy",pitch:-3,formant:-2,breathiness:60,vibrato:20,warmth:30},robotic:{name:"Robotic",pitch:0,formant:0,breathiness:0,vibrato:0,warmth:20}},Dh={grief:{description:"Fragile, breaking voice with catch in throat",adjustments:{breathiness:50,vibrato:15,warmth:60,pitch:-1}},anger:{description:"Tight, controlled tension with sharp edges",adjustments:{breathiness:10,vibrato:5,warmth:20,pitch:2}},joy:{description:"Bright, lifted tone with natural energy",adjustments:{breathiness:20,vibrato:40,warmth:70,pitch:3}},longing:{description:"Distant, reaching quality with ache",adjustments:{breathiness:35,vibrato:25,warmth:55,pitch:0}},peace:{description:"Settled, grounded with gentle flow",adjustments:{breathiness:30,vibrato:20,warmth:65,pitch:-1}}},CC=({onVoiceChange:o,onGenerate:n})=>{const[s,a]=$.useState(kh.natural),[l,c]=$.useState(""),[f,d]=$.useState(null),[m,p]=$.useState(!1),[g,y]=$.useState(null),_=S=>{const T={...s,...S};a(T),o?.(T)},b=S=>{const T=kh[S];T&&(a(T),o?.(T))},C=S=>{const T=Dh[S];T&&(d(S),_(T.adjustments))},A=async()=>{if(l.trim()){p(!0);try{const S=await fetch("http://localhost:8000/voice/synthesize",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:l,profile:s,emotion:f})});if(S.ok){const T=await S.json();y(T.audio_url||null),n?.(l,s)}}catch(S){console.error("Vocal synthesis error:",S)}finally{p(!1)}}};return x.jsxs("div",{style:{backgroundColor:"#1a1a1a",borderRadius:"8px",padding:"20px",color:"#fff"},children:[x.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[x.jsx("span",{children:"Vocal Synth"}),x.jsx("span",{style:{fontSize:"0.6em",color:"#888"},children:"AI Voice Generation"})]}),x.jsxs("div",{style:{marginBottom:"20px"},children:[x.jsx("label",{style:{fontSize:"0.85em",color:"#888",marginBottom:"8px",display:"block"},children:"Voice Character"}),x.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:Object.entries(kh).map(([S,T])=>x.jsx("button",{onClick:()=>b(S),style:{padding:"8px 16px",backgroundColor:s.name===T.name?"#6366f1":"#333",border:"none",borderRadius:"20px",color:"#fff",cursor:"pointer",fontSize:"0.85em",transition:"all 0.2s"},children:T.name},S))})]}),x.jsxs("div",{style:{marginBottom:"20px"},children:[x.jsx("label",{style:{fontSize:"0.85em",color:"#888",marginBottom:"8px",display:"block"},children:"Emotional Style"}),x.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:Object.entries(Dh).map(([S,T])=>x.jsx("button",{onClick:()=>C(S),title:T.description,style:{padding:"8px 16px",backgroundColor:f===S?"#ec4899":"#333",border:"none",borderRadius:"20px",color:"#fff",cursor:"pointer",fontSize:"0.85em",transition:"all 0.2s"},children:S.charAt(0).toUpperCase()+S.slice(1)},S))}),f&&x.jsx("div",{style:{marginTop:"8px",padding:"8px 12px",backgroundColor:"rgba(236, 72, 153, 0.1)",borderRadius:"4px",fontSize:"0.8em",color:"#ec4899"},children:Dh[f].description})]}),x.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"15px",marginBottom:"20px"},children:[x.jsxs("div",{children:[x.jsx("label",{style:{fontSize:"0.8em",color:"#888"},children:"Pitch"}),x.jsx("input",{type:"range",min:"-12",max:"12",value:s.pitch,onChange:S=>_({pitch:Number(S.target.value)}),style:{width:"100%"}}),x.jsxs("div",{style:{fontSize:"0.75em",textAlign:"center"},children:[s.pitch>0?"+":"",s.pitch," semitones"]})]}),x.jsxs("div",{children:[x.jsx("label",{style:{fontSize:"0.8em",color:"#888"},children:"Formant"}),x.jsx("input",{type:"range",min:"-5",max:"5",value:s.formant,onChange:S=>_({formant:Number(S.target.value)}),style:{width:"100%"}}),x.jsxs("div",{style:{fontSize:"0.75em",textAlign:"center"},children:[s.formant>0?"+":"",s.formant]})]}),x.jsxs("div",{children:[x.jsx("label",{style:{fontSize:"0.8em",color:"#888"},children:"Breathiness"}),x.jsx("input",{type:"range",min:"0",max:"100",value:s.breathiness,onChange:S=>_({breathiness:Number(S.target.value)}),style:{width:"100%"}}),x.jsxs("div",{style:{fontSize:"0.75em",textAlign:"center"},children:[s.breathiness,"%"]})]}),x.jsxs("div",{children:[x.jsx("label",{style:{fontSize:"0.8em",color:"#888"},children:"Vibrato"}),x.jsx("input",{type:"range",min:"0",max:"100",value:s.vibrato,onChange:S=>_({vibrato:Number(S.target.value)}),style:{width:"100%"}}),x.jsxs("div",{style:{fontSize:"0.75em",textAlign:"center"},children:[s.vibrato,"%"]})]}),x.jsxs("div",{children:[x.jsx("label",{style:{fontSize:"0.8em",color:"#888"},children:"Warmth"}),x.jsx("input",{type:"range",min:"0",max:"100",value:s.warmth,onChange:S=>_({warmth:Number(S.target.value)}),style:{width:"100%"}}),x.jsxs("div",{style:{fontSize:"0.75em",textAlign:"center"},children:[s.warmth,"%"]})]})]}),x.jsxs("div",{style:{marginBottom:"15px"},children:[x.jsx("label",{style:{fontSize:"0.85em",color:"#888",marginBottom:"8px",display:"block"},children:"Lyrics / Text to Sing"}),x.jsx("textarea",{value:l,onChange:S=>c(S.target.value),placeholder:"Enter lyrics or phrases to synthesize...",style:{width:"100%",height:"100px",padding:"12px",backgroundColor:"#222",border:"1px solid #444",borderRadius:"4px",color:"#fff",fontSize:"0.9em",resize:"vertical"}})]}),x.jsx("button",{onClick:A,disabled:m||!l.trim(),style:{width:"100%",padding:"12px",backgroundColor:m?"#666":"#6366f1",border:"none",borderRadius:"8px",color:"#fff",fontSize:"1em",fontWeight:"bold",cursor:m||!l.trim()?"not-allowed":"pointer",opacity:l.trim()?1:.5},children:m?"Generating...":"Generate Vocal"}),g&&x.jsxs("div",{style:{marginTop:"15px",padding:"15px",backgroundColor:"#222",borderRadius:"8px"},children:[x.jsx("div",{style:{marginBottom:"10px",fontWeight:"bold"},children:"Generated Audio"}),x.jsx("audio",{controls:!0,style:{width:"100%"},children:x.jsx("source",{src:g,type:"audio/wav"})})]}),x.jsxs("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#0f0f0f",borderRadius:"8px"},children:[x.jsx("div",{style:{fontSize:"0.85em",color:"#888",marginBottom:"10px"},children:"Voice Character Preview"}),x.jsx("div",{style:{display:"flex",height:"60px",alignItems:"flex-end",gap:"4px"},children:[{label:"Pitch",value:(s.pitch+12)/24,color:"#6366f1"},{label:"Formant",value:(s.formant+5)/10,color:"#ec4899"},{label:"Breath",value:s.breathiness/100,color:"#10b981"},{label:"Vibrato",value:s.vibrato/100,color:"#f59e0b"},{label:"Warmth",value:s.warmth/100,color:"#ef4444"}].map((S,T)=>x.jsxs("div",{style:{flex:1,textAlign:"center"},children:[x.jsx("div",{style:{height:`${Math.max(5,S.value*50)}px`,backgroundColor:S.color,borderRadius:"2px 2px 0 0",margin:"0 auto",width:"80%",transition:"height 0.2s"}}),x.jsx("div",{style:{fontSize:"0.65em",color:"#666",marginTop:"4px"},children:S.label})]},T))})]})]})},wC={mastering:{compressor:{threshold:-6,ratio:2,attack:30,release:200,makeup:2},limiter:{ceiling:-.3,release:50}},vocals:{compressor:{threshold:-18,ratio:4,attack:10,release:100,makeup:4},limiter:{ceiling:-1,release:100}},drums:{compressor:{threshold:-12,ratio:6,attack:5,release:50,makeup:3},limiter:{ceiling:-.5,release:30}},bass:{compressor:{threshold:-15,ratio:4,attack:20,release:150,makeup:3},limiter:{ceiling:-1,release:80}},gentle:{compressor:{threshold:-20,ratio:2,attack:50,release:300,makeup:1},limiter:{ceiling:-.5,release:150}}},AC=({channelName:o="Master",onSettingsChange:n})=>{const[s,a]=$.useState("dynamics"),[l,c]=$.useState({threshold:-12,ratio:4,attack:20,release:150,makeup:0,enabled:!0}),[f,d]=$.useState({ceiling:-.3,release:50,enabled:!0}),[m,p]=$.useState({roomSize:50,damping:50,wetDry:20,enabled:!1}),[g,y]=$.useState(0),_=S=>{const T={...l,...S};c(T),n?.({compressor:T,limiter:f,reverb:m})},b=S=>{const T={...f,...S};d(T),n?.({compressor:l,limiter:T,reverb:m})},C=S=>{const T={...m,...S};p(T),n?.({compressor:l,limiter:f,reverb:T})},A=S=>{const T=wC[S];T&&(c({...l,...T.compressor}),d({...f,...T.limiter}))};return p0.useEffect(()=>{if(l.enabled){const S=setInterval(()=>{y(Math.random()*6)},100);return()=>clearInterval(S)}else y(0)},[l.enabled]),x.jsxs("div",{style:{backgroundColor:"#1a1a1a",borderRadius:"8px",overflow:"hidden",color:"#fff"},children:[x.jsxs("div",{style:{padding:"15px",backgroundColor:"#0f0f0f",borderBottom:"1px solid #333",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[x.jsxs("span",{style:{fontWeight:"bold"},children:["Mix Console - ",o]}),x.jsxs("select",{onChange:S=>A(S.target.value),style:{padding:"4px 8px",backgroundColor:"#333",border:"1px solid #555",borderRadius:"4px",color:"#fff",fontSize:"0.85em"},children:[x.jsx("option",{value:"",children:"Presets..."}),x.jsx("option",{value:"mastering",children:"Mastering"}),x.jsx("option",{value:"vocals",children:"Vocals"}),x.jsx("option",{value:"drums",children:"Drums"}),x.jsx("option",{value:"bass",children:"Bass"}),x.jsx("option",{value:"gentle",children:"Gentle"})]})]}),x.jsx("div",{style:{display:"flex",borderBottom:"1px solid #333"},children:[{id:"eq",label:"EQ"},{id:"dynamics",label:"Dynamics"},{id:"reverb",label:"Reverb"}].map(S=>x.jsx("button",{onClick:()=>a(S.id),style:{flex:1,padding:"10px",backgroundColor:s===S.id?"#2a2a2a":"transparent",border:"none",borderBottom:s===S.id?"2px solid #6366f1":"2px solid transparent",color:s===S.id?"#fff":"#888",cursor:"pointer",fontWeight:s===S.id?"bold":"normal"},children:S.label},S.id))}),x.jsxs("div",{style:{padding:"20px"},children:[s==="eq"&&x.jsx(Ey,{channelName:o}),s==="dynamics"&&x.jsxs("div",{children:[x.jsxs("div",{style:{marginBottom:"25px"},children:[x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[x.jsx("span",{style:{fontWeight:"bold"},children:"Compressor"}),x.jsx("button",{onClick:()=>_({enabled:!l.enabled}),style:{padding:"4px 12px",backgroundColor:l.enabled?"#4caf50":"#666",border:"none",borderRadius:"4px",color:"#fff",cursor:"pointer",fontSize:"0.8em"},children:l.enabled?"ON":"OFF"})]}),x.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"15px",opacity:l.enabled?1:.5},children:[x.jsxs("div",{children:[x.jsx("label",{style:{fontSize:"0.75em",color:"#888"},children:"Threshold"}),x.jsx("input",{type:"range",min:"-40",max:"0",value:l.threshold,onChange:S=>_({threshold:Number(S.target.value)}),disabled:!l.enabled,style:{width:"100%"}}),x.jsxs("div",{style:{fontSize:"0.75em",textAlign:"center"},children:[l.threshold,"dB"]})]}),x.jsxs("div",{children:[x.jsx("label",{style:{fontSize:"0.75em",color:"#888"},children:"Ratio"}),x.jsx("input",{type:"range",min:"1",max:"20",value:l.ratio,onChange:S=>_({ratio:Number(S.target.value)}),disabled:!l.enabled,style:{width:"100%"}}),x.jsxs("div",{style:{fontSize:"0.75em",textAlign:"center"},children:[l.ratio,":1"]})]}),x.jsxs("div",{children:[x.jsx("label",{style:{fontSize:"0.75em",color:"#888"},children:"Attack"}),x.jsx("input",{type:"range",min:"0.1",max:"100",value:l.attack,onChange:S=>_({attack:Number(S.target.value)}),disabled:!l.enabled,style:{width:"100%"}}),x.jsxs("div",{style:{fontSize:"0.75em",textAlign:"center"},children:[l.attack,"ms"]})]}),x.jsxs("div",{children:[x.jsx("label",{style:{fontSize:"0.75em",color:"#888"},children:"Release"}),x.jsx("input",{type:"range",min:"10",max:"1000",value:l.release,onChange:S=>_({release:Number(S.target.value)}),disabled:!l.enabled,style:{width:"100%"}}),x.jsxs("div",{style:{fontSize:"0.75em",textAlign:"center"},children:[l.release,"ms"]})]}),x.jsxs("div",{children:[x.jsx("label",{style:{fontSize:"0.75em",color:"#888"},children:"Makeup"}),x.jsx("input",{type:"range",min:"0",max:"24",value:l.makeup,onChange:S=>_({makeup:Number(S.target.value)}),disabled:!l.enabled,style:{width:"100%"}}),x.jsxs("div",{style:{fontSize:"0.75em",textAlign:"center"},children:["+",l.makeup,"dB"]})]})]}),x.jsxs("div",{style:{marginTop:"15px"},children:[x.jsx("label",{style:{fontSize:"0.75em",color:"#888"},children:"Gain Reduction"}),x.jsx("div",{style:{height:"8px",backgroundColor:"#333",borderRadius:"4px",overflow:"hidden",marginTop:"4px"},children:x.jsx("div",{style:{width:`${g/12*100}%`,height:"100%",backgroundColor:g>6?"#f44336":"#f59e0b",transition:"width 0.05s"}})}),x.jsxs("div",{style:{fontSize:"0.7em",textAlign:"right",color:"#888"},children:["-",g.toFixed(1),"dB"]})]})]}),x.jsxs("div",{style:{padding:"15px",backgroundColor:"#222",borderRadius:"8px"},children:[x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[x.jsx("span",{style:{fontWeight:"bold"},children:"Limiter"}),x.jsx("button",{onClick:()=>b({enabled:!f.enabled}),style:{padding:"4px 12px",backgroundColor:f.enabled?"#4caf50":"#666",border:"none",borderRadius:"4px",color:"#fff",cursor:"pointer",fontSize:"0.8em"},children:f.enabled?"ON":"OFF"})]}),x.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"20px",opacity:f.enabled?1:.5},children:[x.jsxs("div",{children:[x.jsx("label",{style:{fontSize:"0.75em",color:"#888"},children:"Ceiling"}),x.jsx("input",{type:"range",min:"-6",max:"0",step:"0.1",value:f.ceiling,onChange:S=>b({ceiling:Number(S.target.value)}),disabled:!f.enabled,style:{width:"100%"}}),x.jsxs("div",{style:{fontSize:"0.75em",textAlign:"center"},children:[f.ceiling,"dB"]})]}),x.jsxs("div",{children:[x.jsx("label",{style:{fontSize:"0.75em",color:"#888"},children:"Release"}),x.jsx("input",{type:"range",min:"10",max:"500",value:f.release,onChange:S=>b({release:Number(S.target.value)}),disabled:!f.enabled,style:{width:"100%"}}),x.jsxs("div",{style:{fontSize:"0.75em",textAlign:"center"},children:[f.release,"ms"]})]})]})]})]}),s==="reverb"&&x.jsxs("div",{children:[x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[x.jsx("span",{style:{fontWeight:"bold"},children:"Reverb"}),x.jsx("button",{onClick:()=>C({enabled:!m.enabled}),style:{padding:"4px 12px",backgroundColor:m.enabled?"#4caf50":"#666",border:"none",borderRadius:"4px",color:"#fff",cursor:"pointer",fontSize:"0.8em"},children:m.enabled?"ON":"OFF"})]}),x.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"20px",opacity:m.enabled?1:.5},children:[x.jsxs("div",{children:[x.jsx("label",{style:{fontSize:"0.75em",color:"#888"},children:"Room Size"}),x.jsx("input",{type:"range",min:"0",max:"100",value:m.roomSize,onChange:S=>C({roomSize:Number(S.target.value)}),disabled:!m.enabled,style:{width:"100%"}}),x.jsxs("div",{style:{fontSize:"0.75em",textAlign:"center"},children:[m.roomSize,"%"]})]}),x.jsxs("div",{children:[x.jsx("label",{style:{fontSize:"0.75em",color:"#888"},children:"Damping"}),x.jsx("input",{type:"range",min:"0",max:"100",value:m.damping,onChange:S=>C({damping:Number(S.target.value)}),disabled:!m.enabled,style:{width:"100%"}}),x.jsxs("div",{style:{fontSize:"0.75em",textAlign:"center"},children:[m.damping,"%"]})]}),x.jsxs("div",{children:[x.jsx("label",{style:{fontSize:"0.75em",color:"#888"},children:"Wet/Dry"}),x.jsx("input",{type:"range",min:"0",max:"100",value:m.wetDry,onChange:S=>C({wetDry:Number(S.target.value)}),disabled:!m.enabled,style:{width:"100%"}}),x.jsxs("div",{style:{fontSize:"0.75em",textAlign:"center"},children:[m.wetDry,"%"]})]})]}),x.jsxs("div",{style:{marginTop:"20px"},children:[x.jsx("label",{style:{fontSize:"0.8em",color:"#888",marginBottom:"8px",display:"block"},children:"Quick Presets"}),x.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[{name:"Room",size:30,damp:60,wet:15},{name:"Hall",size:70,damp:40,wet:25},{name:"Plate",size:50,damp:30,wet:20},{name:"Cathedral",size:90,damp:20,wet:35},{name:"Ambient",size:80,damp:50,wet:40}].map(S=>x.jsx("button",{onClick:()=>C({roomSize:S.size,damping:S.damp,wetDry:S.wet,enabled:!0}),style:{padding:"6px 12px",backgroundColor:"#333",border:"none",borderRadius:"4px",color:"#fff",cursor:"pointer",fontSize:"0.8em"},children:S.name},S.name))})]})]})]})]})},MC={grief:["I'm writing about the weight of loss","This song is about what I couldn't say","I need to express the ache of missing someone","I want to capture the silence after goodbye","This is about the memories that won't fade"],joy:["I'm writing about that moment everything clicked","This song captures pure happiness","I want to express overwhelming gratitude","This is about finding light in darkness","I'm celebrating a breakthrough moment"],anger:["I'm writing about being pushed too far","This song is about standing up for myself","I need to express this burning frustration","I want to capture the fire of injustice","This is about breaking free from control"],fear:["I'm writing about the anxiety that won't leave","This song is about facing the unknown","I need to express this overwhelming worry","I want to capture the feeling of being trapped","This is about the fear of losing everything"],love:["I'm writing about that first moment I knew","This song captures deep connection","I want to express how they make me feel","This is about finding home in someone","I'm celebrating this beautiful bond"],longing:["I'm writing about what I can't have","This song is about waiting for something","I need to express this deep yearning","I want to capture the ache of distance","This is about hoping for what's missing"]},EC={low:["gently","softly","quietly","subtly","lightly"],moderate:["clearly","directly","honestly","openly","sincerely"],high:["intensely","powerfully","deeply","urgently","desperately"]},OC=(o,n,s)=>{const a=MC[o.toLowerCase()]||[`I'm writing about ${o.toLowerCase()}`],l=EC[n.toLowerCase()]||["honestly"],c=a[Math.floor(Math.random()*a.length)],f=l[Math.floor(Math.random()*l.length)],d=[`${c}, ${f} expressing ${s.toLowerCase()}.`,`I want to ${f} write about ${s.toLowerCase()}.`,`This song ${f} explores ${s.toLowerCase()}.`,`I'm ${f} trying to capture ${s.toLowerCase()}.`];return d[Math.floor(Math.random()*d.length)]},NC=({selectedEmotion:o,onPromptGenerated:n,autoGenerate:s=!0})=>{const[a,l]=$.useState(""),[c,f]=$.useState(!1),[d,m]=$.useState([]),p=$.useRef(null);$.useEffect(()=>(s&&o&&(g(),p.current=setInterval(()=>{g()},3e4)),()=>{p.current&&clearInterval(p.current)}),[o,s]);const g=()=>{o&&(f(!0),setTimeout(()=>{const y=OC(o.base,o.intensity,o.sub);l(y),m(_=>[y,..._.slice(0,4)]),n?.(y),f(!1)},500))};return o?x.jsxs("div",{style:{padding:"20px",backgroundColor:"rgba(99, 102, 241, 0.1)",borderRadius:"8px",border:"1px solid rgba(99, 102, 241, 0.3)"},children:[x.jsxs("div",{style:{marginBottom:"15px"},children:[x.jsx("h4",{style:{margin:"0 0 10px 0",color:"#fff"},children:"Auto-Generated Prompt"}),x.jsx("div",{style:{padding:"15px",backgroundColor:"rgba(0, 0, 0, 0.3)",borderRadius:"6px",minHeight:"60px",display:"flex",alignItems:"center",position:"relative"},children:c?x.jsxs("div",{style:{color:"#888",fontStyle:"italic",display:"flex",alignItems:"center",gap:"10px"},children:[x.jsx("span",{style:{display:"inline-block",width:"20px",height:"20px",border:"2px solid #6366f1",borderTopColor:"transparent",borderRadius:"50%",animation:"spin 0.8s linear infinite"}}),"Generating..."]}):x.jsx("p",{style:{margin:0,color:"#fff",fontSize:"1em",lineHeight:"1.5"},children:a||"Click generate to create a prompt"})})]}),x.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"15px"},children:[x.jsx("button",{onClick:g,disabled:c,style:{flex:1,padding:"10px",backgroundColor:"#6366f1",color:"white",border:"none",borderRadius:"4px",cursor:c?"not-allowed":"pointer",fontWeight:"bold",opacity:c?.6:1},children:c?"Generating...":" Generate New"}),a&&x.jsx("button",{onClick:()=>{navigator.clipboard.writeText(a)},style:{padding:"10px 15px",backgroundColor:"#333",color:"white",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"4px",cursor:"pointer"},title:"Copy prompt",children:""})]}),d.length>0&&x.jsxs("div",{children:[x.jsx("div",{style:{fontSize:"0.85em",color:"#888",marginBottom:"8px"},children:"Recent prompts:"}),x.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:d.slice(0,3).map((y,_)=>x.jsx("button",{onClick:()=>{l(y),n?.(y)},style:{padding:"8px 12px",backgroundColor:"rgba(0, 0, 0, 0.2)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"4px",color:"#ccc",fontSize:"0.85em",textAlign:"left",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:b=>{b.currentTarget.style.backgroundColor="rgba(99, 102, 241, 0.2)"},onMouseLeave:b=>{b.currentTarget.style.backgroundColor="rgba(0, 0, 0, 0.2)"},children:y},_))})]}),x.jsx("style",{children:`
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
      `})]}):x.jsx("div",{style:{padding:"20px",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"8px",textAlign:"center",color:"#888",fontStyle:"italic"},children:"Select an emotion to generate prompts"})},kC=({width:o=800,height:n=400,intensity:s=.5,color:a="#6366f1",syncToAudio:l=!1,audioLevel:c=0})=>{const f=$.useRef(null),d=$.useRef(null),m=$.useRef(0),p=$.useRef([]);return $.useEffect(()=>{if(!f.current)return;const g=f.current,y=g.getContext("2d");if(!y)return;const _=20;p.current=Array.from({length:_},()=>({x:Math.random()*o,y:Math.random()*n,angle:Math.random()*Math.PI*2,length:50+Math.random()*100,width:2+Math.random()*8,opacity:.3+Math.random()*.7,speed:.5+Math.random()*2}));const b=(A,S,T,N,k,D)=>{y.save(),y.globalAlpha=D,y.strokeStyle=a,y.lineWidth=k,y.lineCap="round",y.lineJoin="round",y.beginPath();const M=10;let E=A,z=S;y.moveTo(E,z);for(let j=1;j<=M;j++){const F=N/M,J=Math.sin(m.current*2+j)*2,Q=T+Math.PI/2,H=Math.cos(Q)*J,te=Math.sin(Q)*J;E+=Math.cos(T)*F+H,z+=Math.sin(T)*F+te,y.lineTo(E,z)}y.stroke(),y.globalAlpha=D*.3;for(let j=0;j<5;j++){const F=(j-2)*2,J=T+Math.PI/2,Q=Math.cos(J)*F,H=Math.sin(J)*F;y.beginPath(),y.moveTo(A+Q,S+H);let te=A,Z=S;for(let ne=1;ne<=M;ne++){const V=N/M,G=Math.sin(m.current*2+ne)*1,ee=T+Math.PI/2,se=Math.cos(ee)*G,le=Math.sin(ee)*G;te+=Math.cos(T)*V+se,Z+=Math.sin(T)*V+le,y.lineTo(te+Q,Z+H)}y.stroke()}y.restore()},C=()=>{y&&(y.fillStyle="rgba(10, 10, 10, 0.1)",y.fillRect(0,0,g.width,g.height),m.current+=.016,p.current.forEach(A=>{A.x+=Math.cos(A.angle)*A.speed*s,A.y+=Math.sin(A.angle)*A.speed*s,A.x<0&&(A.x=o),A.x>o&&(A.x=0),A.y<0&&(A.y=n),A.y>n&&(A.y=0);let S=s,T=A.opacity;l&&c>0&&(S*=1+c*2,T*=1+c,A.angle+=c*.1),b(A.x,A.y,A.angle,A.length*S,A.width*(1+c),Math.min(1,T))}),d.current=requestAnimationFrame(C))};return C(),()=>{d.current&&cancelAnimationFrame(d.current)}},[o,n,s,a,l,c]),x.jsx("canvas",{ref:f,width:o,height:n,style:{width:"100%",height:"100%",backgroundColor:"#0a0a0a",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.1)"}})},DC=({width:o=800,height:n=400,color:s="#6366f1",lineWidth:a=3,enabled:l=!0,onDoodleComplete:c})=>{const f=$.useRef(null),[d,m]=$.useState(!1),[p,g]=$.useState([]),[y,_]=$.useState([]),[b,C]=$.useState(0),A=$.useCallback(()=>{const M=f.current;if(!M)return;const E=M.getContext("2d");if(!E)return;E.fillStyle="#0a0a0a",E.fillRect(0,0,M.width,M.height),E.strokeStyle="rgba(99, 102, 241, 0.1)",E.lineWidth=1;const z=20;for(let j=0;j<M.width;j+=z)E.beginPath(),E.moveTo(j,0),E.lineTo(j,M.height),E.stroke();for(let j=0;j<M.height;j+=z)E.beginPath(),E.moveTo(0,j),E.lineTo(M.width,j),E.stroke();if(y.forEach(j=>{if(!(j.length<2)){E.strokeStyle=s,E.lineWidth=a,E.lineCap="round",E.lineJoin="round",E.beginPath(),E.moveTo(j[0].x,j[0].y);for(let F=1;F<j.length;F++){const J=Math.sin(b+F*.1)*.5,Q=Math.cos(b+F*.1)*.5;E.lineTo(j[F].x+J,j[F].y+Q)}E.stroke()}}),p.length>1){E.strokeStyle=s,E.lineWidth=a,E.lineCap="round",E.lineJoin="round",E.globalAlpha=.8,E.beginPath(),E.moveTo(p[0].x,p[0].y);for(let j=1;j<p.length;j++){const F=Math.sin(b+j*.1)*.5,J=Math.cos(b+j*.1)*.5;E.lineTo(p[j].x+F,p[j].y+J)}E.stroke(),E.globalAlpha=1}},[y,p,s,a,b]);$.useEffect(()=>{A()},[A]),$.useEffect(()=>{const M=setInterval(()=>{C(E=>E+.1)},100);return()=>clearInterval(M)},[]);const S=M=>{const E=f.current;if(!E)return null;const z=E.getBoundingClientRect();return{x:M.clientX-z.left,y:M.clientY-z.top}},T=M=>{if(!l)return;const E=S(M);E&&(m(!0),g([E]))},N=M=>{if(!l||!d)return;const E=S(M);E&&g(z=>[...z,E])},k=()=>{if(!(!l||!d)){if(p.length>0){const M=[...y,p];_(M),g([]),c?.(M)}m(!1)}},D=()=>{_([]),g([])};return x.jsxs("div",{style:{position:"relative"},children:[x.jsx("canvas",{ref:f,width:o,height:n,onMouseDown:T,onMouseMove:N,onMouseUp:k,onMouseLeave:k,style:{width:"100%",height:"100%",backgroundColor:"#0a0a0a",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.1)",cursor:l?"crosshair":"default"}}),l&&x.jsx("div",{style:{position:"absolute",top:"10px",right:"10px",display:"flex",gap:"8px"},children:x.jsx("button",{onClick:D,style:{padding:"6px 12px",backgroundColor:"rgba(0, 0, 0, 0.7)",color:"#fff",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"4px",cursor:"pointer",fontSize:"0.85em"},children:"Clear"})}),!l&&x.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"#666",fontSize:"0.9em",fontStyle:"italic"},children:"Click to enable doodling"})]})},RC=({shaderSource:o,width:n=800,height:s=400,uniforms:a={},animated:l=!0})=>{const c=$.useRef(null),f=$.useRef(null),d=$.useRef(null),m=$.useRef(null),p=$.useRef(0),g=`
    attribute vec2 a_position;
    varying vec2 fragTexCoord;
    
    void main() {
      fragTexCoord = a_position * 0.5 + 0.5;
      gl_Position = vec4(a_position, 0.0, 1.0);
    }
  `;return $.useEffect(()=>{const y=c.current;if(!y)return;const _=y.getContext("webgl")||y.getContext("webgl2");if(!_){console.error("WebGL not supported");return}f.current=_;const b=(D,M)=>{const E=_.createShader(M);return E?(_.shaderSource(E,D),_.compileShader(E),_.getShaderParameter(E,_.COMPILE_STATUS)?E:(console.error("Shader compile error:",_.getShaderInfoLog(E)),_.deleteShader(E),null)):null},C=b(g,_.VERTEX_SHADER),A=b(o,_.FRAGMENT_SHADER);if(!C||!A)return;const S=_.createProgram();if(!S)return;if(_.attachShader(S,C),_.attachShader(S,A),_.linkProgram(S),!_.getProgramParameter(S,_.LINK_STATUS)){console.error("Program link error:",_.getProgramInfoLog(S));return}d.current=S;const T=_.createBuffer();_.bindBuffer(_.ARRAY_BUFFER,T),_.bufferData(_.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,1]),_.STATIC_DRAW);const N=_.getAttribLocation(S,"a_position");_.enableVertexAttribArray(N),_.vertexAttribPointer(N,2,_.FLOAT,!1,0,0);const k=()=>{if(!_||!S)return;p.current+=.016,_.useProgram(S),_.viewport(0,0,y.width,y.height);const D=_.getUniformLocation(S,"time");D!==null&&_.uniform1f(D,p.current);const M=_.getUniformLocation(S,"resolution");M!==null&&_.uniform2f(M,y.width,y.height),Object.entries(a).forEach(([E,z])=>{const j=_.getUniformLocation(S,E);j!==null&&(Array.isArray(z)?z.length===2?_.uniform2f(j,z[0],z[1]):z.length===4&&_.uniform4f(j,z[0],z[1],z[2],z[3]):_.uniform1f(j,z))}),_.drawArrays(_.TRIANGLE_STRIP,0,4),l&&(m.current=requestAnimationFrame(k))};return k(),()=>{m.current&&cancelAnimationFrame(m.current),S&&_.deleteProgram(S),C&&_.deleteShader(C),A&&_.deleteShader(A)}},[o,a,l]),x.jsx("canvas",{ref:c,width:n,height:s,style:{width:"100%",height:"100%",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.1)"}})},f0=({shaderName:o,width:n=800,height:s=400,animated:a=!0,intensity:l=.5})=>{const[c,f]=$.useState(""),[d,m]=$.useState(!0);if($.useEffect(()=>{o==="brushstroke"?f(jC()):o==="handdrawn"&&f(zC()),m(!1)},[o]),d)return x.jsx("div",{style:{width:n,height:s,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#0a0a0a",borderRadius:"8px",color:"#888"},children:"Loading shader..."});const p=o==="brushstroke"?{strokePosition:.5+Math.sin(Date.now()/1e3)*.2,strokeWidth:.1,strokeIntensity:l,strokeAngle:Date.now()/1e3,wetness:.3,bristleSpread:.5}:{lineColor:[0,1,1,.5],backgroundColor:[.05,.1,.2,1],wobbleIntensity:l,gridSpacing:50};return x.jsx(RC,{shaderSource:c,width:n,height:s,uniforms:p,animated:a})},jC=()=>`
precision mediump float;
varying vec2 fragTexCoord;
uniform float time;
uniform vec2 resolution;
uniform float strokePosition;
uniform float strokeWidth;
uniform float strokeIntensity;
uniform float strokeAngle;
uniform float wetness;
uniform float bristleSpread;

float hash(vec2 p) {
    return fract(sin(dot(p, vec2(127.1, 311.7))) * 43758.5453);
}

float noise(vec2 p) {
    vec2 i = floor(p);
    vec2 f = fract(p);
    f = f * f * (3.0 - 2.0 * f);
    float a = hash(i);
    float b = hash(i + vec2(1.0, 0.0));
    float c = hash(i + vec2(0.0, 1.0));
    float d = hash(i + vec2(1.0, 1.0));
    return mix(mix(a, b, f.x), mix(c, d, f.x), f.y);
}

void main() {
    vec2 uv = fragTexCoord;
    vec3 canvasColor = vec3(0.95, 0.93, 0.9);
    float paperTex = noise(uv * 100.0) * 0.03;
    canvasColor -= paperTex;
    
    float c = cos(strokeAngle * 0.1);
    float s = sin(strokeAngle * 0.1);
    vec2 ruv = vec2(
        (uv.x - 0.5) * c - (uv.y - 0.5) * s + 0.5,
        (uv.x - 0.5) * s + (uv.y - 0.5) * c + 0.5
    );
    
    float yPos = strokePosition;
    float dist = abs(ruv.y - yPos);
    float stroke = smoothstep(strokeWidth * 0.5, strokeWidth * 0.2, dist);
    stroke *= 0.8 + 0.2 * noise(ruv * 30.0);
    
    vec3 paintColor = vec3(0.2, 0.4, 0.8);
    paintColor.r += strokeIntensity * 0.3;
    
    vec3 finalColor = mix(canvasColor, paintColor, stroke);
    float glow = stroke * strokeIntensity * 0.5;
    finalColor += vec3(0.8, 0.6, 1.0) * glow;
    
    float vignette = 1.0 - length(uv - 0.5) * 0.4;
    finalColor *= vignette;
    
    gl_FragColor = vec4(finalColor, 1.0);
}
  `,zC=()=>`
precision mediump float;
varying vec2 fragTexCoord;
uniform float time;
uniform vec2 resolution;
uniform float wobbleIntensity;
uniform float gridSpacing;

float hash(vec2 p) {
    return fract(sin(dot(p, vec2(127.1, 311.7))) * 43758.5453);
}

float noise(vec2 p) {
    vec2 i = floor(p);
    vec2 f = fract(p);
    vec2 u = f * f * (3.0 - 2.0 * f);
    float a = hash(i);
    float b = hash(i + vec2(1.0, 0.0));
    float c = hash(i + vec2(0.0, 1.0));
    float d = hash(i + vec2(1.0, 1.0));
    return mix(a, b, u.x) + (c - a) * u.y * (1.0 - u.x) + (d - b) * u.x * u.y;
}

float fbm(vec2 p) {
    float value = 0.0;
    float amplitude = 0.5;
    float frequency = 1.0;
    for (int i = 0; i < 4; i++) {
        value += amplitude * noise(p * frequency);
        amplitude *= 0.5;
        frequency *= 2.0;
    }
    return value;
}

void main() {
    vec2 uv = fragTexCoord;
    vec3 color = vec3(0.05, 0.1, 0.2);
    
    float wobbleX = fbm(vec2(uv.y * 5.0, time * 0.3)) * wobbleIntensity * 0.02;
    float wobbleY = fbm(vec2(uv.x * 5.0, time * 0.3 + 100.0)) * wobbleIntensity * 0.02;
    vec2 wobbledUV = uv + vec2(wobbleX, wobbleY);
    
    float gridSize = gridSpacing / resolution.x;
    float vLine = mod(wobbledUV.x, gridSize);
    float vLineAlpha = 1.0 - smoothstep(0.0, 0.003, min(vLine, gridSize - vLine));
    float hLine = mod(wobbledUV.y, gridSize);
    float hLineAlpha = 1.0 - smoothstep(0.0, 0.003, min(hLine, gridSize - hLine));
    float lineAlpha = max(vLineAlpha, hLineAlpha);
    lineAlpha *= 0.3 + 0.1 * noise(wobbledUV * 100.0);
    
    color = mix(color, vec3(0.0, 1.0, 1.0), lineAlpha);
    
    float vignette = 1.0 - length(uv - 0.5) * 0.5;
    color *= vignette;
    
    float paperNoise = noise(uv * 200.0) * 0.02;
    color += vec3(paperNoise);
    
    float pulse = sin(time * 0.5) * 0.1 + 0.9;
    color *= pulse;
    
    gl_FragColor = vec4(color, 1.0);
}
  `;function UC(){console.log("App: Component rendering");const[o,n]=$.useState(!0),[s,a]=$.useState(null),[l,c]=$.useState(!1),[f,d]=$.useState(null),[m,p]=$.useState("checking"),[g,y]=$.useState(null),[_,b]=$.useState(null),[C,A]=$.useState(null),[S,T]=$.useState(null),[N,k]=$.useState(!1),[D,M]=$.useState(!1),[E]=$.useState(120),z=rb(),{getEmotions:j,generateMusic:F}=z;console.log("App: useMusicBrain hook initialized"),$.useEffect(()=>{console.log("App: useEffect running, checking Tauri API");try{typeof window<"u"&&window.__TAURI__?console.log("App: Tauri API detected"):console.warn("App: Tauri API not detected - running in browser mode")}catch(V){console.error("App: Error checking Tauri API:",V)}const Z=async()=>{try{await j(),p("online"),console.log("App: Music Brain API is online")}catch(V){p("offline"),console.warn("App: Music Brain API is offline:",V)}};Z();const ne=setInterval(Z,3e4);return()=>clearInterval(ne)},[j]);const J=()=>{n(!o)},Q=async()=>{c(!0),d(null);try{const Z=await j();a(Z),p("online"),console.log("Emotions loaded:",Z)}catch(Z){console.error("Error loading emotions:",Z),p("offline");const ne=Z instanceof Error?Z.message:String(Z);ne.includes("Connection")||ne.includes("Failed to fetch")||ne.includes("network")?d("Music Brain API is not running. Start it with: python -m music_brain.api"):d(`Failed to load emotions: ${ne}`)}finally{c(!1)}},H=async()=>{c(!0),d(null);try{if(!g){d("Please select an emotion first"),c(!1);return}const Z=await F({intent:{base_emotion:g.base,intensity:g.intensity,specific_emotion:g.sub,technical:{}}});p("online"),console.log("Music generated:",Z);const ne=Z?.midi_data||null,V=Z?.midi_path||null,G=Z?.music_config||null;b(V),A(ne),T(G),G&&console.log("Music config:",G),ne||V?console.log("MIDI generated successfully"):console.warn("MIDI generation completed but no MIDI data/path returned")}catch(Z){console.error("Error generating music:",Z),p("offline");const ne=Z instanceof Error?Z.message:String(Z);ne.includes("Connection")||ne.includes("Failed to fetch")||ne.includes("network")?d("Music Brain API is not running. Start it with: python -m music_brain.api"):d(`Failed to generate music: ${ne}`)}finally{c(!1)}},te=()=>{if(!C){d("No MIDI data available to download");return}try{const Z=atob(C),ne=new Uint8Array(Z.length);for(let se=0;se<Z.length;se++)ne[se]=Z.charCodeAt(se);const V=new Blob([ne],{type:"audio/midi"}),G=URL.createObjectURL(V),ee=document.createElement("a");ee.href=G,ee.download=`generated_music_${Date.now()}.mid`,document.body.appendChild(ee),ee.click(),document.body.removeChild(ee),URL.revokeObjectURL(G)}catch(Z){console.error("Error downloading MIDI:",Z),d("Failed to download MIDI file")}};return x.jsxs("div",{className:"app-container",children:[f&&x.jsxs("div",{style:{padding:"10px",background:"#ffebee",border:"1px solid #f44336",borderRadius:"4px",margin:"10px"},children:[x.jsx("strong",{children:"Error:"})," ",f,x.jsx("button",{onClick:()=>d(null),style:{marginLeft:"10px"},children:"Dismiss"})]}),x.jsxs("div",{className:"cassette-header",children:[x.jsx("h1",{children:"iDAW - Kelly Project"}),x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"5px 10px",borderRadius:"4px",backgroundColor:m==="online"?"#e8f5e9":m==="offline"?"#ffebee":"#fff3e0",border:`1px solid ${m==="online"?"#4caf50":m==="offline"?"#f44336":"#ff9800"}`},children:[x.jsx("span",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:m==="online"?"#4caf50":m==="offline"?"#f44336":"#ff9800",animation:m==="checking"?"pulse 2s infinite":"none"}}),x.jsxs("span",{style:{fontSize:"0.9em"},children:["API: ",m==="online"?"Online":m==="offline"?"Offline":"Checking..."]})]}),x.jsx("button",{onClick:J,className:"toggle-btn",children:o?" Side B":" Side A"})]})]}),o?x.jsxs("div",{className:"side-a",style:{display:"flex",flexDirection:"column",height:"calc(100vh - 80px)"},children:[x.jsxs("div",{style:{display:"flex",flex:1,overflow:"hidden"},children:[x.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column"},children:x.jsx(vC,{tempo:E,timeSignature:[4,4]})}),x.jsxs("div",{style:{width:"400px",borderLeft:"1px solid rgba(255,255,255,0.1)",overflowY:"auto"},children:[x.jsx(gC,{showWaveform:!0}),x.jsx("div",{style:{marginTop:"10px",padding:"10px"},children:x.jsx(Ey,{channelName:"Master",onEQChange:Z=>console.log("EQ changed:",Z)})}),x.jsx("div",{style:{marginTop:"10px",padding:"10px"},children:x.jsx(AC,{channelName:"Master"})})]})]}),x.jsx(_C,{tempo:E,timeSignature:[4,4],isPlaying:N,isRecording:D,onPlay:()=>k(!0),onPause:()=>k(!1),onStop:()=>{k(!1),M(!1)},onRecord:()=>M(!D)})]}):x.jsxs("div",{className:"side-b",style:{display:"flex",flexDirection:"column",gap:"20px"},children:[x.jsx("h2",{children:"Side B: Therapeutic Interface"}),x.jsx("div",{style:{padding:"20px",backgroundColor:"rgba(99, 102, 241, 0.1)",borderRadius:"8px"},children:x.jsx(NC,{selectedEmotion:g,autoGenerate:!0,onPromptGenerated:Z=>{console.log("Auto-generated prompt:",Z)}})}),x.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[x.jsxs("div",{style:{padding:"15px",backgroundColor:"rgba(0, 0, 0, 0.3)",borderRadius:"8px"},children:[x.jsx("h3",{style:{marginTop:0,color:"#fff",marginBottom:"10px"},children:"Brushstroke Animation (Canvas)"}),x.jsx(kC,{width:600,height:300,intensity:g?.3+(g.intensity==="high"?.4:g.intensity==="moderate"?.2:.1):.5,color:"#6366f1",syncToAudio:N,audioLevel:N?.3:0})]}),x.jsxs("div",{style:{padding:"15px",backgroundColor:"rgba(0, 0, 0, 0.3)",borderRadius:"8px"},children:[x.jsx("h3",{style:{marginTop:0,color:"#fff",marginBottom:"10px"},children:"Doodle Canvas"}),x.jsx(DC,{width:600,height:300,color:"#6366f1",enabled:!0,onDoodleComplete:Z=>{console.log("Doodle completed with",Z.length,"paths")}})]})]}),x.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[x.jsxs("div",{style:{padding:"15px",backgroundColor:"rgba(0, 0, 0, 0.3)",borderRadius:"8px"},children:[x.jsx("h3",{style:{marginTop:0,color:"#fff",marginBottom:"10px"},children:"Brushstroke Shader (WebGL)"}),x.jsx(f0,{shaderName:"brushstroke",width:600,height:300,animated:!0,intensity:g?g.intensity==="high"?.8:g.intensity==="moderate"?.5:.3:.5})]}),x.jsxs("div",{style:{padding:"15px",backgroundColor:"rgba(0, 0, 0, 0.3)",borderRadius:"8px"},children:[x.jsx("h3",{style:{marginTop:0,color:"#fff",marginBottom:"10px"},children:"Hand-Drawn Grid Shader (WebGL)"}),x.jsx(f0,{shaderName:"handdrawn",width:600,height:300,animated:!0,intensity:.6})]})]}),x.jsxs("div",{className:"emotion-section",children:[x.jsx("h3",{children:"Emotion Wheel (666)"}),x.jsx("button",{onClick:Q,disabled:l,children:l?"Loading...":"Load Emotions"}),s&&x.jsx("div",{style:{marginTop:"20px"},children:x.jsx(ob,{emotions:s,onEmotionSelected:y})})]}),x.jsxs("div",{className:"rulebreaker-section",style:{marginBottom:"20px",padding:"20px",border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"rgba(255, 255, 255, 0.5)"},children:[x.jsx("h3",{children:"Rule Breaker"}),x.jsx(xC,{selectedEmotion:g?.base,onRuleSelected:Z=>{console.log("Rule selected:",Z)}})]}),x.jsxs("div",{className:"ghostwriter-section",children:[x.jsx("h3",{children:"GhostWriter"}),g&&x.jsxs("div",{style:{marginBottom:"10px",padding:"10px",backgroundColor:"rgba(99, 102, 241, 0.1)",borderRadius:"4px"},children:[x.jsx("strong",{children:"Selected:"})," ",g.base,"  ",g.intensity,"  ",g.sub]}),x.jsx("button",{onClick:H,disabled:l||!g,title:g?"":"Please select an emotion first",children:l?"Generating...":g?`Generate Music (${g.sub})`:"Generate Music (Select Emotion First)"}),(_||C)&&x.jsxs(x.Fragment,{children:[x.jsx(pC,{midiData:C,midiPath:_,musicConfig:S}),C&&x.jsx("div",{style:{marginTop:"10px"},children:x.jsx("button",{onClick:te,style:{padding:"8px 16px",backgroundColor:"#4caf50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.9em",fontWeight:"bold"},children:" Download MIDI"})})]})]}),x.jsxs("div",{className:"interrogator-section",children:[x.jsx("h3",{children:"Interrogator"}),x.jsx(bC,{onReady:Z=>{console.log("Intent ready from interrogator:",Z),Z.base_emotion&&Z.intensity&&y({base:Z.base_emotion,intensity:Z.intensity,sub:Z.specific_emotion||Z.base_emotion})}})]}),x.jsxs("div",{className:"vocalsynth-section",style:{marginTop:"20px",padding:"20px",border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"rgba(255, 255, 255, 0.5)"},children:[x.jsx("h3",{children:"Vocal Synth"}),x.jsx(CC,{onVoiceChange:Z=>{console.log("Voice profile changed:",Z)},onGenerate:(Z,ne)=>{console.log("Generated vocal:",Z,ne)}})]})]})]})}class VC extends $.Component{state={hasError:!1,error:null};static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,s){console.error("ErrorBoundary caught an error:",n,s)}render(){return this.state.hasError?x.jsxs("div",{style:{padding:"20px",fontFamily:"monospace"},children:[x.jsx("h1",{children:"Something went wrong"}),x.jsx("p",{children:this.state.error?.message}),x.jsx("pre",{style:{background:"#f0f0f0",padding:"10px",overflow:"auto"},children:this.state.error?.stack}),x.jsx("button",{onClick:()=>window.location.reload(),children:"Reload App"})]}):this.props.children}}console.log("main.tsx: Starting React app initialization");const Xh=document.getElementById("root");if(!Xh)throw new Error("Root element not found. Make sure index.html has a div with id='root'");console.log("main.tsx: Root element found, creating React root");try{const o=ab.createRoot(Xh);console.log("main.tsx: React root created, rendering App"),o.render(x.jsx(p0.StrictMode,{children:x.jsx(VC,{children:x.jsx(UC,{})})})),console.log("main.tsx: App rendered successfully")}catch(o){console.error("main.tsx: Fatal error during render:",o),Xh.innerHTML=`
    <div style="padding: 20px; font-family: monospace;">
      <h1>Fatal Error</h1>
      <p>${o instanceof Error?o.message:String(o)}</p>
      <pre style="background: #f0f0f0; padding: 10px; overflow: auto;">
        ${o instanceof Error?o.stack:String(o)}
      </pre>
    </div>
  `}
